{"meta":{"title":"CloverYuki","subtitle":null,"description":"è®ºä¸€åªèœé¸¡å¦‚ä½•æ¯æ‰ä¸€ä¸ªå¥½ä¸»é¢˜","author":"yuuki","url":""},"pages":[{"title":"bangumi","date":"2019-02-10T13:32:48.000Z","updated":"2020-02-18T00:38:20.679Z","comments":false,"path":"bangumi/index.html","permalink":"/bangumi/index.html","excerpt":"","text":"","keywords":null},{"title":"about","date":"2018-12-12T14:14:36.000Z","updated":"2020-04-12T14:58:11.969Z","comments":false,"path":"about/index.html","permalink":"/about/index.html","excerpt":"","text":"[ç™½ã„ä¸–ç•Œã‹ã‚‰]] ä¸&nbsp; Yukina&nbsp; ï¼ˆ é›ª(yuki)å‡ª(na)ï¼‰ ï¼‰ å¯¹è¯ä¸­... bot_ui_ini()","keywords":"å…³äº"},{"title":"books","date":"2019-02-10T13:32:48.000Z","updated":"2020-02-18T00:38:20.680Z","comments":false,"path":"books/index.html","permalink":"/books/index.html","excerpt":"","text":""},{"title":"client","date":"2018-12-20T15:13:35.000Z","updated":"2020-02-18T00:38:20.680Z","comments":false,"path":"client/index.html","permalink":"/client/index.html","excerpt":"","text":"ç›´æ¥ä¸‹è½½ or æ‰«ç ä¸‹è½½ï¼š","keywords":"Androidå®¢æˆ·ç«¯"},{"title":"comment","date":"2018-12-20T15:13:48.000Z","updated":"2020-02-18T16:54:14.441Z","comments":true,"path":"comment/index.html","permalink":"/comment/index.html","excerpt":"","text":"æœ‰å•¥å°±è¯´ ä¸è¦å«ç³Šã€‚ ä¸æ˜ç™½ä¸ºå•¥æ”¹ä¸äº†","keywords":"ç•™è¨€æ¿"},{"title":"donate","date":"2018-12-20T15:13:05.000Z","updated":"2020-02-18T00:38:20.682Z","comments":false,"path":"donate/index.html","permalink":"/donate/index.html","excerpt":"","text":"","keywords":"è°¢è°¢é¥²ä¸»äº†å–µ~"},{"title":"lab","date":"2019-01-05T13:47:59.000Z","updated":"2020-02-18T00:38:20.683Z","comments":false,"path":"lab/index.html","permalink":"/lab/index.html","excerpt":"","text":"sakuraä¸»é¢˜balabala","keywords":"Labå®éªŒå®¤"},{"title":"links","date":"2018-12-19T15:11:06.000Z","updated":"2020-02-18T00:38:20.684Z","comments":true,"path":"links/index.html","permalink":"/links/index.html","excerpt":"","text":"","keywords":"å‹äººå¸"},{"title":"music","date":"2018-12-20T15:14:28.000Z","updated":"2020-02-18T00:38:20.685Z","comments":false,"path":"music/index.html","permalink":"/music/index.html","excerpt":"","text":"","keywords":"å–œæ¬¢çš„éŸ³ä¹"},{"title":"rss","date":"2018-12-20T15:09:03.000Z","updated":"2020-02-18T00:38:20.685Z","comments":true,"path":"rss/index.html","permalink":"/rss/index.html","excerpt":"","text":""},{"title":"theme-sakura","date":"2019-01-04T14:53:25.000Z","updated":"2020-02-18T00:38:20.687Z","comments":false,"path":"theme-sakura/index.html","permalink":"/theme-sakura/index.html","excerpt":"","text":"Hexoä¸»é¢˜Sakuraä¿®æ”¹è‡ªWordPressä¸»é¢˜Sakuraï¼Œæ„Ÿè°¢åŸä½œè€…Mashiro","keywords":"Hexo ä¸»é¢˜ Sakura ğŸŒ¸"},{"title":"tags","date":"2018-12-12T14:14:16.000Z","updated":"2020-02-18T00:38:20.686Z","comments":false,"path":"tags/index.html","permalink":"/tags/index.html","excerpt":"","text":"","keywords":null},{"title":"","date":"2020-02-18T00:38:20.672Z","updated":"2020-02-18T00:38:20.672Z","comments":true,"path":"404/404.html","permalink":"/404/404.html","excerpt":"","text":"404 html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video { margin: 0; padding: 0; border: 0; vertical-align: baseline; font: inherit; font-size: 100%; } tbody, tfoot, thead, tr, th, td { margin: 0; padding: 0; border: 0; font: inherit; font-size: 100%; } /* HTML5 display-role reset for older browsers */ article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section { display: block; } body { line-height: 1; } ol, ul { list-style: none; } q:before, q:after { content: ''; content: none; } body { width: 100%; *zoom: 1; } body:before, body:after { display: table; content: \"\"; } body:after { clear: both; } html, body { height: 100%; } html { height: 100%; max-height: 100%; } body { color: #333333; font-size: 1em; font-family: \"ff-tisa-web-pro-1\", \"ff-tisa-web-pro-2\", \"Lucida Grande\", \"Hiragino Sans GB\", \"Hiragino Sans GB W3\", \"Microsoft YaHei\", \"WenQuanYi Micro Hei\", sans-serif; -webkit-font-smoothing: antialiased; } ::selection { background: rgba(255, 255, 255, 0.3); } ::-moz-selection { background: rgba(255, 255, 255, 0.3); } a { color: #DF9C81; text-decoration: none; } a:hover { color: #d06c44; -webkit-transition: .5s; -moz-transition: .5s; -o-transition: .5s; -ms-transition: .5s; } h1, h2, h3, h4, h5, h5 { margin-top: 1.0em; margin-bottom: .5em; color: #333333; font-weight: lighter; font-family: \"ff-tisa-web-pro-1\", \"ff-tisa-web-pro-2\", \"Lucida Grande\", \"Hiragino Sans GB\", \"Hiragino Sans GB W3\", \"Microsoft YaHei\", \"WenQuanYi Micro Hei\", sans-serif; -webkit-font-smoothing: antialiased; } h1 { margin-top: 0; letter-spacing: .05em; font-size: 1.8em; line-height: 1.2em; } h2 { font-size: 1.6em; } h3 { font-size: 1.4em; } h4 { font-size: 1.2em; } h4 { font-size: 1.1em; } h5 { font-size: 1em; } p { margin-bottom: 1.3em; line-height: 1.7em; } em { font-style: italic; } ol, ul { margin: 0 0 .3em 1em; } ol li, ul li { margin: 0 0 .2em 0; line-height: 1.6em; } ol ol, ol ul, ul ol, ul ul { margin: .1em 0 .2em 2em; } ol { list-style-type: decimal; } ul { list-style-type: disc; } .date, .time, .author, .tags { color: #c7c7c7; font-size: .8em; } .date a, .time a, .author a, .tags a { color: #666666; } .date a:hover, .time a:hover, .author a:hover, .tags a:hover { color: #d06c44; } .footer { position: absolute; bottom: 0; left: 0; width: 100%; color: #b3b3b3; font-size: .7em; } .logo { width: 25%; border: 3px solid #FFF; border-radius: 50%; box-shadow: 0 0 1px 1px rgba(0, 0, 0, 0.3); transition: all .5s; } .logo:hover { border: 3px solid #5ba4e5; transition: all .5s; -webkit-transform: rotate(360deg); /* Safari å’Œ Chrome */ -moz-transform: rotate(360deg); /* Firefox */ -o-transform: rotate(350deg); /* Opera */ transform: rotate(360deg); -ms-transform: rotate(360deg); /* IE 9 */ } .Weibo_icon_logo { width: 20px; height: 20px; border-radius: 50%; background-position: -50px -25px; box-shadow: 0 0 4px rgba(0, 0, 0, 0.3); vertical-align: -2px; } .Weibo_icon { display: inline-block; background-image: url(../homepage/img/V_icon.png); background-repeat: no-repeat; } .Weibo_icon_position { position: relative; top: -12px; right: 42px; } hr { border: none; } .hidden { display: none !important; } .panel { display: table; width: 100%; height: 100%; } .panel-title { margin: 0 0 15px 0; color: #FFF; letter-spacing: 4px; font-size: 5em; } .panel-subtitle { color: #CCCCCC; letter-spacing: 3px; font-weight: lighter; font-size: 1.2em; font-family: \"ff-tisa-web-pro-1\", \"ff-tisa-web-pro-2\", \"Lucida Grande\", \"Hiragino Sans GB\", \"Hiragino Sans GB W3\", \"Microsoft YaHei\", \"WenQuanYi Micro Hei\", sans-serif; -webkit-font-smoothing: antialiased; } .panel-cover { position: fixed; z-index: 900; display: block; width: 100%; height: 100%; max-width: none; background: url(../images/background-cover.jpg) top left no-repeat #666666; background-size: cover; } .panel-cover--collapsed { width: 30%; max-width: 700px; } .panel-cover--overlay { position: absolute; top: 0; right: 0; bottom: 0; left: 0; z-index: 0; display: block; background-color: rgba(68, 68, 68, 0.6); background-image: -webkit-linear-gradient(-410deg, rgba(68, 68, 68, 0.6) 20%, rgba(0, 0, 0, 0.9)); background-image: linear-gradient(140deg, rgba(68, 68, 68, 0.6) 20%, rgba(0, 0, 0, 0.9)); } .panel-cover__logo { margin: 0px 0px 0px 20px; margin-bottom: .2em; } .panel-cover__description { margin: 0 30px; font-size: 20px; font-weight: bolder; } .panel-cover__divider { margin: 20px auto; width: 50%; border-top: 1px solid rgba(255, 255, 255, 0.14); } .panel-cover__divider--secondary { width: 15%; } .panel-main { display: table; width: 100%; height: 100%; } .panel-main__inner { position: relative; z-index: 800; display: table-cell; padding: 0 60px; vertical-align: middle; } .panel-main__content { margin: 0 auto; max-width: 800px; } .panel-main__content--fixed { width: 480px; -webkit-transition: width 1s; /* Safari */ transition: width 1s; } .panel-inverted { color: #FFF; text-align: center; text-shadow: 0 1px 1px rgba(0, 0, 0, 0.4); font-weight: 100; } .panel-inverted a { color: #FFF; } .cover-navigation { margin-top: 42px; } .cover-navigation--social { margin-left: 30px; } .cover-blue { background-color: rgba(37, 104, 163, 0.6); background-image: -webkit-linear-gradient(-410deg, rgba(37, 104, 163, 0.6) 20%, rgba(18, 51, 80, 0.8)); background-image: linear-gradient(140deg, rgba(37, 104, 163, 0.6) 20%, rgba(18, 51, 80, 0.8)); } .cover-green { background-color: rgba(21, 111, 120, 0.6); background-image: -webkit-linear-gradient(-410deg, rgba(21, 111, 120, 0.6) 20%, rgba(6, 31, 33, 0.8)); background-image: linear-gradient(140deg, rgba(21, 111, 120, 0.6) 20%, rgba(6, 31, 33, 0.8)); } .cover-purple { background-color: rgba(73, 50, 82, 0.6); background-image: -webkit-linear-gradient(-410deg, rgba(73, 50, 82, 0.6) 20%, rgba(17, 11, 19, 0.8)); background-image: linear-gradient(140deg, rgba(73, 50, 82, 0.6) 20%, rgba(17, 11, 19, 0.8)); } .cover-red { background-color: rgba(119, 31, 18, 0.6); background-image: -webkit-linear-gradient(-410deg, rgba(119, 31, 18, 0.6) 20%, rgba(30, 8, 5, 0.8)); background-image: linear-gradient(140deg, rgba(119, 31, 18, 0.6) 20%, rgba(30, 8, 5, 0.8)); } .cover-orange { background-color: rgba(174, 80, 4, 0.6); background-image: -webkit-linear-gradient(-410deg, rgba(174, 80, 4, 0.6) 20%, rgba(74, 34, 2, 0.8)); background-image: linear-gradient(140deg, rgba(174, 80, 4, 0.6) 20%, rgba(74, 34, 2, 0.8)); } .cover-slate { background-color: rgba(0, 0, 0, 0.4); background-image: -webkit-linear-gradient(-410deg, rgba(0, 0, 0, 0.2) 20%, rgba(0, 0, 0, 0.6)); background-image: linear-gradient(140deg, rgba(0, 0, 0, 0.62) 20%, rgba(0, 0, 0, 0.6)); } .cover-disabled { background: none; } .btn, .navigation__item a { padding: 10px 20px; border: 1px solid #DF9C81; border-radius: 20px; color: #DF9C81; text-shadow: none; letter-spacing: 1px; font-weight: bold; font-size: .9em; -webkit-font-smoothing: antialiased; } .btn:hover, .navigation__item a:hover { border-color: #d06c44; color: #d06c44; } .btn-border-small { margin-left: 10px; padding: 6px 8px; border: 1px solid #DF9C81; border-radius: 20px; font-size: .8em; } .btn-contribute { padding: 6px 8px; border: 1px solid #DF9C81; border-radius: 8px; background-color: #DF9C81; color: white; font-weight: bold; font-size: 1.1em; } .btn-secondary { border-color: #5BA4E5; color: #5BA4E5; } .btn-secondary:hover { border-color: #217fd2; color: #217fd2; } .btn-tertiary { border-color: #999999; color: #999999; } .btn-tertiary:hover { border-color: #737373; color: #737373; } .btn-large { padding: 10px 24px; font-size: 1.1em; } .btn-small { padding: 8px 12px; font-size: .7em; } .btn-mobile-menu { position: fixed; top: 0; right: 0; left: 0; z-index: 9999; display: none; width: 100%; height: 35px; border-bottom: 1px solid rgba(255, 255, 255, 0.1); background: rgba(51, 51, 51, 0.98); text-align: center; } .btn-mobile-menu__icon, .btn-mobile-close__icon { position: relative; top: 10px; color: #FFF; } nav { position: relative; display: inline-block; } .navigation { position: relative; float: left; display: inline-block; margin: 0; list-style-type: none; } .navigation__item { display: inline-block; margin: 5px 1px 0 0; line-height: 1em; } .navigation__item a { position: relative; display: block; border-color: #FFF; color: #FFF; opacity: .8; } .navigation__item a:hover { border-color: rgba(255, 255, 255, 0.3); background: rgba(255, 255, 255, 0.3); color: #FFF; opacity: 1; transition: all .3s; } .navigation--social a { padding: 6px 8px 6px 9px; border: 0px; } .navigation--social a .label { display: none; } .navigation--social a .icon { display: block; font-size: 1.7em; } i { font-weight: normal; font-style: normal; font-size: 18px; font-family: 'entypo'; } .social { font-size: 22px; } .icon-social { position: relative; display: block; font-size: 22px; font-family: 'entypo-social'; } *:focus { outline: none; } .wechat[data-v] { position: relative; } .qrCode[data-v] { position: absolute; bottom: 42px; left: -25px; display: none; width: 92px; height: 92px; background-color: #fff; text-align: center; } .wechat .qrCode .triangle-down[data-v] { position: absolute; bottom: -8px; left: 50%; margin-left: -6px; width: 0; height: 0; border-top: 10px solid #fff; border-right: 6px solid transparent; border-left: 6px solid transparent; } .wechat:hover .qrCode[data-v] { display: inline; } @media all and (max-width: 1100px) { .panel-title { font-size: 2em; } .panel-subtitle { font-size: 1em; } .panel-cover__description { margin: 0 10px; font-size: .9em; } .navigation--social { margin-top: 5px; margin-left: 0; } } @media all and (max-width: 960px) { .btn-mobile-menu { display: block; } .qrCode[data-v] { Margin: 0px 41%; } .panel-main { position: relative; display: table; } .panel-cover--collapsed { width: 100%; max-width: none; } .panel-main__inner { display: table-cell; padding: 60px 10%; } .panel-cover__description { display: block; margin: 0 auto; max-width: 600px; } .panel-cover { width: 100%; height: 100%; background-position: center center; } .panel-cover.panel-cover--collapsed { position: relative; display: block; padding: 0; height: auto; background-position: center center; } .panel-cover.panel-cover--collapsed .panel-main__inner { display: block; padding: 70px 0 30px 0; } .panel-cover.panel-cover--collapsed .panel-cover__logo { width: 60px; border-width: 2px; } .panel-cover.panel-cover--collapsed .panel-cover__description { display: none; } .panel-cover.panel-cover--collapsed .panel-cover__divider { display: none; margin: 1em auto; } .navigation-wrapper { position: fixed; top: 0; right: 0; left: 0; display: none; padding: 20px 0; width: 100%; border-bottom: 1px solid rgba(255, 255, 255, 0.15); background: rgba(51, 51, 51, 0.98); } .navigation-wrapper.visible { display: block; } .cover-navigation { position: relative; float: left; clear: left; display: block; width: 100%; } .cover-navigation .navigation { display: block; width: 100%; } .cover-navigation .navigation li { margin-bottom: .4em; width: 80%; } .cover-navigation.navigation--social { padding-top: 5px; } .cover-navigation.navigation--social .navigation li { display: inline-block; width: 25.8%; } .content-wrapper { margin: 0 auto; width: 80%; max-width: none; } .content-wrapper__inner { margin-right: 0; margin-left: 0; } .navigation__item { margin: 0 0 .4em 0; width: 100%; } } @media all and (max-width: 767px) { .panel-cover__logo { width: 100px; } .Weibo_icon_position { top: -6px; right: 35px; } .qrCode[data-v] { Margin: 0px 38%; } } @media all and (max-width: 480px) { .qrCode[data-v] { Margin: 0px 30%; } } @media all and (max-width: 340px) { .panel-main__inner { padding: 0 5%; } .panel-title { margin-bottom: .1em; font-size: 1.5em; } .panel-subtitle { font-size: .9em; } .btn, .navigation__item a { margin-bottom: .4em; } } 404 å¯¹ä¸èµ·ï¼Œæ‚¨è¦æ‰¾çš„é¡µé¢ä¸¢å¤±äº†ï¼Œ(ï¼_ï¼œï¼›) Sorry, The page your requested can not be found, (ï¼_ï¼œï¼›) å¯ä»¥å‘æ‰“å°æŠ¥å‘Šå“¦~ 404 Â© 2019 |"},{"title":"video","date":"2018-12-20T15:14:38.000Z","updated":"2020-02-18T00:38:20.688Z","comments":false,"path":"video/index.html","permalink":"/video/index.html","excerpt":"","text":"var videos = [ { img: 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: 'æ”¾é€æ—¶é—´: 2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' }, { img : 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: '2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' } ] .should-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%;}.should-ellipsis-full{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}.should-ellipsis i{position:absolute;right:24px;}.grey-text{color:#9e9e9e !important}.grey-text.text-darken-4{color:#212121 !important}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}img{border-style:none}progress{display:inline-block;vertical-align:baseline}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}ul:not(.browser-default){padding-left:0;list-style-type:none}ul:not(.browser-default)>li{list-style-type:none}.card{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2)}.hoverable{-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s}.hoverable:hover{-webkit-box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}i{line-height:inherit}i.right{float:right;margin-left:15px}.bangumi .right{float:right !important}.material-icons{text-rendering:optimizeLegibility;-webkit-font-feature-settings:'liga';-moz-font-feature-settings:'liga';font-feature-settings:'liga'}.row{margin-left:auto;margin-right:auto;margin-bottom:20px}.row:after{content:\"\";display:table;clear:both}.row .col{float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .75rem;min-height:1px}.row .col.s12{width:100%;margin-left:auto;left:auto;right:auto}@media only screen and (min-width:601px){.row .col.m6{width:50%;margin-left:auto;left:auto;right:auto}}html{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;font-weight:normal;color:rgba(0,0,0,0.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}.card{position:relative;margin:.5rem 0 1rem 0;background-color:#fff;-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s;border-radius:2px}.card .card-title{font-size:24px;font-weight:300}.card .card-title.activator{cursor:pointer}.card .card-image{position:relative}.card .card-image img{display:block;border-radius:2px 2px 0 0;position:relative;left:0;right:0;top:0;bottom:0;width:100%}.card .card-content{padding:24px;border-radius:0 0 2px 2px}.card .card-content p{margin:0}.card .card-content .card-title{display:block;line-height:32px;margin-bottom:8px}.card .card-content .card-title i{line-height:32px}.card .card-reveal{padding:24px;position:absolute;background-color:#fff;width:100%;overflow-y:auto;left:0;top:100%;height:100%;z-index:3;display:none}.card .card-reveal .card-title{cursor:pointer;display:block}.waves-effect{position:relative;cursor:pointer;display:inline-block;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;vertical-align:middle;z-index:1;-webkit-transition:.3s ease-out;transition:.3s ease-out}.waves-effect img{position:relative;z-index:-1}.waves-block{display:block}::-webkit-input-placeholder{color:#d1d1d1}::-moz-placeholder{color:#d1d1d1}:-ms-input-placeholder{color:#d1d1d1}::-ms-input-placeholder{color:#d1d1d1}[type=\"radio\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"radio\"]:not(:checked)+span{position:relative;padding-left:35px;cursor:pointer;display:inline-block;height:25px;line-height:25px;font-size:1rem;-webkit-transition:.28s ease;transition:.28s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border-radius:50%}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border:2px solid #5a5a5a}[type=\"radio\"]:not(:checked)+span:after{-webkit-transform:scale(0);transform:scale(0)}[type=\"checkbox\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"checkbox\"]:not(:checked):disabled+span:not(.lever):before{border:none;background-color:rgba(0,0,0,0.42)}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;-webkit-transform:rotateZ(37deg);transform:rotateZ(37deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):after{height:20px;width:20px;background-color:transparent;border:2px solid #5a5a5a;top:0px;z-index:0}input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}input[type=range].focused:focus:not(.active)::-webkit-slider-thumb{-webkit-box-shadow:0 0 0 10px rgba(38,166,154,0.26);box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-ms-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)} ç•ªç»„è®¡åˆ’ è¿™é‡Œå°†æ˜¯æ°¸è¿œçš„å›å¿† window.onload = function(){ videos.forEach(function(video, i){ $('#rootRow').append(` ${video.title} ${video.jp} ${video.status} ${video.title} ${video.jp} æ”¾é€æ—¶é—´: ${video.time} ${video.desc} ${video.status} `) }) }","keywords":"Bç«™"}],"posts":[{"title":"ä¸»é¢˜æ›´æ”¹è®°å½•","slug":"ThemeChange.log","date":"2050-12-11T16:00:00.000Z","updated":"2020-07-22T13:19:51.452Z","comments":true,"path":"2050/12/12/ThemeChange.log/","link":"","permalink":"/2050/12/12/ThemeChange.log/","excerpt":"","text":"è®°å½•ä¸€ä¸‹æ”¹ä¸»é¢˜çš„ä¸œè¥¿å§ç›®å½•ä»€ä¹ˆçš„ä¸ç”¨æƒ³äº†ï¼Œä¸å­˜åœ¨çš„ã€‚ CDNæ€»æœ‰ä¸€å¤©ä¼šæ¢çš„ã€‚æ€»æœ‰ä¸€å¤©ã€‚ æ»šåŠ¨æ¡å’Œé¡¶éƒ¨è¿›åº¦æ¡è¿™ä¸ªä¸»è¦ä¿®æ”¹CSSå’ŒJSçš„scrollbarç±»è¿˜æœ‰-webkit-scrollçš„ç›¸å…³æ ·å¼å’Œå‡½æ•°ã€‚ æœ¬èº«ä¸éš¾ï¼Œå°±æ˜¯ä¸œè¥¿éƒ½å¿˜äº†ï¼Œæ”¹äº†åŠå¤©ï¼Œç„¶åå‘ç°åœ¨å³è ¢çš„ä¸€æ‰¹ã€‚background: linear-gradient()çš„ç”¨æ³•å…¶å®ä¹Ÿæ˜¯â€œå·â€æ¥çš„ã€‚ä¸ªäººæ„Ÿè§‰è¿˜å¯ä»¥ï¼ŒæŒºå¥½çœ‹çš„ã€‚2019.12.19 backgroundcontentéƒ¨åˆ†ï¼šè¿™éƒ¨åˆ†å…¶å®å§ï¼Œå°±æ˜¯åŠ äº†ä¸ªbackground-img: url()ã€‚å…¶å®ä¸€å¼€å§‹æƒ³åšæˆèƒ½åˆ‡æ¢èƒŒæ™¯çš„æ ·å­ï¼Œä½†æ˜¯è¿˜æ˜¯è‡ªå·±å¤ªè ¢ï¼Œæ ·å¼è°ƒäº†åŠå¤©ä¹Ÿæ²¡å¼„å‡ºæ¥ï¼Œæš‚æ—¶æ”¾å¼ƒäº†ã€‚ topéƒ¨åˆ†ï¼šå°±æ˜¯æ¢ä¸ªurlï¼Œåœ¨_config.ymlé‡Œæ”¹ã€‚ indexçš„centerpassageåœ¨figureä¸‹é¢åŠ äº†ä¿©divç”¨æ¥è£…passageå›¾ç‰‡ï¼Œæ”¹äº†ä¸‹sakura-app.jsé‡Œçš„nextpassage()å’Œprepassage()ä»¥åŠå…¶åˆå§‹åŒ–å‡½æ•°ã€‚å‘¨æœŸæ€§è°ƒç”¨nextpassage()æ¥æ¢å›¾ã€‚ ä½¿ç”¨Animate.cssé€šè¿‡classè¿›è¡Œæ·¡å…¥æ·¡å‡ºï¼ˆæ„Ÿè§‰å¥½è ¢çš„æ“ä½œå•Šï¼‰ã€‚ ç”±äºæ˜¯åœ¨é¡¶éƒ¨ï¼Œpositionè°ƒæ•´ä¸ºabsoluteå°±å¥½äº†ã€‚å’Œcontantçš„passageä¸ä¸€æ ·ï¼Œé‚£ä¸ªè°ƒæˆabsoluteå°±é£åˆ°é¡¶ç«¯äº†ã€‚2019.12.20 aplayeréƒ¨åˆ†ä¸»è¦å°±æ˜¯æ”¹IDå’Œserversï¼Œç½‘æ˜“äº‘ç§æœ‰çš„listä¼¼ä¹ä¸èƒ½è¢«è®¿é—®ã€‚ ä¸€å¼€å§‹å°‘äº†ä¿©å›¾æ ‡ï¼Œé‡æ–°å»ºç«‹ä¸ªæ–°çš„åªæ”¹IDå‘ç°å°±å¥½äº†ï¼Œå¯èƒ½æ˜¯ä¹‹å‰çæ”¹layoutçš„æ—¶å€™ç¢°åˆ°ç‚¹ä»€ä¹ˆã€‚2019.12.21 Back-to-top(cd-top)æŠŠåŸæœ¬çš„&lt;a&gt;å»æ‰äº†ï¼ŒCSSè¿˜ç•™ç€ï¼Œç„¶åâ€œå·â€äº†ä¸ªçƒ æ˜¯A-Obsidiançš„ï¼Œæœ¬æ¥æƒ³æ”¹é¢œè‰²ï¼Œå‘ç°å’‹æ”¹éƒ½æœ‰ç‚¹ä¸‘ã€‚å°±åŒæ„äº†ä¸‹è“è‰²ã€‚2333333333 æœ€ååŠ äº†ä¸ªTopã¸ï¼Œå°±æ˜¯åƒç»™ä¸ªæç¤ºï¼ŒåŸä¸»é¢˜å¥½åƒæ²¡æœ‰ï¼Œå¥½åƒã€‚2019.12.25 navåˆ é™¤äº†ä¸€äº›ï¼Œè¿™éƒ¨åˆ†ç›´æ¥ä»_config.ymlç›´æ¥æ”¹ï¼Œæ³¨æ„åé¢è·¯å¾„ä¹Ÿè¦æ”¹ï¼Œlanguageä¸‹çš„zh-cn.ymlä¹Ÿéœ€è¦æ”¹ï¼Œåªæœ‰å¯¹åº”Categoryå’Œtagså­˜åœ¨æ‰ä¼šç”Ÿæˆæ–‡ä»¶å¤¹ã€‚ ç›®å‰ä¸çŸ¥é“æ”¹æ€ä¹ˆå¼„ï¼Œè¿˜åœ¨è°ƒæ•™ï¼Œ2333333 å•é¡µæ”¹åŠ¨Archiveçš„éƒ¨åˆ†å°±æ˜¯æ¢äº†ä¸ªå›¾ï¼Œæ”¹äº†ä¸ªåå­—ï¼Œ_config.ymlå’Œlanguageä¸‹zh-ch.ymléƒ½å¾—æ”¹ã€‚ tagsä¸‹é¢çš„ä¼¼ä¹å’ŒWordPressçš„ä¸ä¸€æ ·ï¼Œä¸»è¦æ˜¯Booklistï¼Œå˜æˆæ–‡ç« å½¢å¼äº†ã€‚ tagsè¦æ‰“booklistçš„åå­—ï¼Œcategortyä¸è¦å†™ï¼Œä¸ç„¶ä¼šå‡ºç°åœ¨Archiveä¸‹é¢ã€‚2019.12.26 æ‰’Re:stage(Re:ã‚¹ãƒ†ãƒ¼ã‚¸ï¼)å®˜ç½‘éƒ¨åˆ†ä¸€ç›´è§‰å¾—Re:stageçš„å®˜ç½‘æ•ˆæœåšçš„ä¸é”™ï¼ˆå…¶å®ä¹ŸæŒºç®€å•çš„åŠ¨ç”»ï¼Œä½†ç”±äºæ˜¯æ—¥æœ¬äººåšçš„ï¼Œæˆ‘è§‰å¾—å°±å¾ˆä¸é”™äº†ã€‚æœç„¶åšæ¸¸æˆçš„å®¡ç¾éƒ½ä¸å·®ã€‚å“ˆå“ˆå“ˆï¼‰ï¼Œå…¶å®ä¹‹å‰ä¹Ÿå·å·æ‰’æ‹‰è¿‡ã€‚è¿™æ¬¡å®Œæ•´çš„ç®—æ˜¯æ‰’äº†ä¸€ä¸ªå°éƒ¨åˆ†å‡ºæ¥ã€‚å°±æ˜¯è§’è‰²ä»‹ç»çš„é‚£éƒ¨åˆ†ã€‚è‰°éš¾ï¼Œä»–ç”¨äº†ä¸€ä¸ªå«TweenMaxçš„åº“æ¥åšåŠ¨ç”»ï¼Œå®šä¹‰äº†ä¸€å †å‡½æ•°æ¥å›è°ƒç”¨ï¼Œæ‰¾çš„æˆ‘ç´¯æ­»äº†ï¼Œè€Œä¸”æœ‰çš„è¯­æ³•ä¸å†åŸé¡µé¢å°±GGäº†ï¼Œä½†æ˜¯ä¹Ÿæ²¡ä»€ä¹ˆå½±å“ï¼Œå¯èƒ½æ˜¯æ‰¾ä¸åˆ°å…ƒç´ å§ã€‚ä½¿ç”¨jQueryé‡å†™äº†ä¸€äº›å¿…è¦çš„ä¸œè¥¿ï¼Œæœ¬äººå¾ˆæ‡’ï¼Œè¿˜ä½¿ç”¨äº†TweenMaxåº“ï¼Œè¿™ä¸­é—´çœŸçš„è¢«è‡ªå·±è ¢çˆ†äº†ï¼Œåå­—å¤§å°å†™é”™äº†å¯¼è‡´jQueryé€‰æ‹©å™¨é€‰ä¸åˆ°å…ƒç´ å¡äº†åŠå¤©ã€‚CSSå¾ˆå¥½æï¼Œæ²¡ä»€ä¹ˆï¼Œåˆ°æ—¶å€™å¾®è°ƒä¸€ä¸‹æ ·å¼å°±ç®—ç»“æŸã€‚ æ•°æ®éƒ¨åˆ†ï¼Œæš‚æ—¶æ²¡åŠæ³•ä»Ejsçš„æ¨¡æ¿å¾—åˆ°æ•°æ®ï¼Œä¸çŸ¥é“ä¸ºå•¥ï¼Œå°±æ˜¯ç©ºã€‚ä¹Ÿä¸æƒ³ä¸€æ¬¡æ€§æŠŠæ‰€æœ‰äººçš„ä¿¡æ¯æ”¾ä¸Šæ¥ï¼Œç”±äºæ•´ä¸ªblocéƒ½æ²¡æœ‰ç”¨æ•°æ®åº“ï¼Œå°±è¿™é‡Œç”¨ä¸€ä¸ªåº“æ„Ÿè§‰è¿˜ä¸å¦‚æ•´ä½“é‡æ„ä¸€ä¸‹ã€‚æš‚æ—¶å¡ä½äº†å‘¢ã€‚ ç›®å‰æ˜¯é€‰æ‹©æŸ¥åº“äº†ï¼Œç°åœ¨åŸºæœ¬çš„å–æ•°æ®ï¼ŒæŸ¥æ ‡ç­¾ï¼Œåˆ é™¤æ ‡ç­¾éƒ½å·®ä¸å¤šäº†å‘¢ã€‚åŠ¨ç”»ä¹Ÿèƒ½å¾ˆå¥½çš„è·Ÿä¸Šã€‚è¦ä¸è¦åœ¨å¼„ç‚¹å…¶ä»–çš„å‘¢ï¼Ÿ jså¤±æ•ˆä¸€å¼€å§‹æ˜¯æŠŠjséƒ½å’Œå»å“ªæ¥çš„ä¸€æ ·æ”¾åœ¨äº†footer.ejsé‡Œï¼Œä½†æ˜¯è¿™æ ·ä¸€å¼€æ˜¯é¦–é¡µçš„æ—¶å€™å°±åŠ è½½äº†ï¼Œé’ˆå¯¹å…¶ä»–é¡µé¢çš„jsäº‹ä»¶ç»‘å®šæ˜¯å¤±è´¥çš„ã€‚åœ¨åˆ°å…¶ä»–é¡µé¢æ—¶å€™æ—¶é—´æ˜¯ä¸ä¼šè§¦å‘çš„ã€‚ä¼¼ä¹æ˜¯å› ä¸ºç”¨äº†Pjaxè¿›è¡Œçš„æ˜¯å±€éƒ¨åˆ·æ–°ï¼Œjsæ˜¯ä¸ä¼šé‡æ–°è¢«åŠ è½½çš„ã€‚å³ä½¿æŠŠjsæ”¾åˆ°å±€éƒ¨æ¨¡å—é‡Œã€‚ç¬¬ä¸€æ¬¡æ˜¯æ²¡é—®é¢˜ï¼Œç¬¬äºŒæ¬¡è®¿é—®è¿˜æ˜¯å¤±æ•ˆï¼Œä¼¼ä¹æ˜¯å› ä¸ºå±€éƒ¨åˆ·æ–°ä¸ä¼šåŠ è½½ç¬¬äºŒæ¬¡å¤–éƒ¨å¼•ç”¨çš„jsã€‚äºæ˜¯æƒ³äº†ä¸ªå¾ˆè ¢çš„æ–¹æ³•å°±æ˜¯åœ¨éœ€è¦çš„æ¨¡å—å‰åŠ ä¸Šä¸ª&lt;script&gt;$.getScript();&lt;/script&gt;æ¥é‡æ–°åŠ è½½éœ€è¦çš„jsã€‚2020.01.01 ä¸€äº›ç»†å¾®è°ƒæ•´ä¸»è¦æ˜¯é…ç½®æ–‡ä»¶ä¸Šçš„è°ƒæ•´ï¼Œç„¶åçœ‹äº†çœ‹æœ‰äº›å•¥è¦ç•™ä¸‹ï¼Œå•¥ä¸ç•™ä¸‹ã€‚ ä¹‹å‰ä¸€ç›´å¿™ç€æåå°ï¼Œè‡ªå·±æœ¬æ¥çš„ä¸œè¥¿éƒ½å¿˜äº†ã€‚ç°åœ¨äº‰å–æ¯å¤©æœ‰ç‚¹è¿›åº¦ 2020.1.19 live2Dé¼“æ£äº†åŠå¤©å®˜æ–¹çš„SDKï¼Œä¸€ç›´æœ‰ä¸ªå±æ€§èµ‹å€¼ä¸æˆåŠŸã€‚ç„¶åè¯•äº†ä¸‹hexo-helper-live2dï¼Œä½†æ˜¯å‘ç°æ€ä¹ˆä¹Ÿæ¢ä¸äº†æ¨¡å‹ï¼Œå¯èƒ½æˆ‘æœ‰å“ªé‡Œæ²¡å¼„å¯¹å§ã€‚ ç„¶ååˆè¿”å›æ¥é¼“æ£å®˜æ–¹SDKï¼Œä¸€æ­¥ä¸€æ­¥è°ƒè¯•å‘ç°motionçš„JSONåŠ è½½æœ‰é—®é¢˜ï¼Œè§£åŒ…ç¢§è“èˆªçº¿çš„Live2Dï¼Œç”¨çš„perfareå¤§ä½¬çš„UnityLive2DExtractoræå–çš„ã€‚ å‘ç°å®˜æ–¹SDKè¯»å–motionçš„JSONæ—¶&quot;TotalPointCount&quot;ä¼šè¶Šç•Œï¼Œä¹Ÿå°±æ˜¯æ²¡ç­‰&quot;segments&quot;è¯»å®Œï¼Œé¡¶ç‚¹å°±ç”¨å°½äº†ï¼Œæ”¹ä¸€ä¸‹é¡¶ç‚¹å¤§å°å°±èƒ½ç”¨å®˜æ–¹çš„SDKæ˜¾ç¤ºäº†ï¼Œé¡¶ç‚¹ç»™å¤šå¥½åƒä¹Ÿæ²¡å…³ç³»ï¼Œä½†æ˜¯ç°åœ¨æˆ‘é›ªé¢¨çš„idleåŠ¨ä½œä¸¢äº†å¾ˆå¤šï¼Œæ¯”å¦‚å¤´å‘ä¸é£˜äº†ï¼Œè€³æœµä¹Ÿä¸åŠ¨äº†ï¼Œè¿™äº›å¾ˆæ˜æ˜¾ã€‚ä½†æ˜¯å¸è¡€é¬¼çš„ä¼¼ä¹æ²¡çœ‹å‡ºæ¥å•¥ä¸¢å¤±çš„åŠ¨ä½œï¼Œå¤´å‘ä¹Ÿæœ‰é£˜ï¼Œç¿…è†€ã€è£™å­ä¹Ÿæœ‰åŠ¨ã€‚ è¢«è¿™ä¸ªå°ä¸œè¥¿å¡äº†ä¸€å¤©æˆ‘TMä¹ŸçœŸçš„æ˜¯è ¢ã€‚ è¯´çœŸçš„ï¼Œæ€»æœ‰ä¸€æ—¥å¤©ï¼Œæˆ‘ä¼šç”¨è‡ªå·±çš„çœ‹æ¿å¨˜ã€‚ 2020.01.21 å¥½çš„ï¼Œé—®é¢˜åŸå› å¾ˆç®€å•ï¼Œmodel3.jsonåå­—å†™é”™äº†ï¼ŒIdleå†™æˆäº†Idelï¼Œè‡ªå·±è ¢çˆ†äº†ã€‚ ä½†æ˜¯å‘ç°loopçš„çš„åŠ¨ç”»å’ŒCubismViewerForUnityçš„loopæ•ˆæœä¸ä¸€è‡´ï¼Œwebçš„loopå†ç»“æŸä¸€ä¸ªåŠ¨ä½œåæœ‰ä¸€ç§å¿«é€Ÿå€’æ”¾çš„æ„Ÿè§‰ã€‚ 2020.01.25 é¼“æ£äº†ä¸€å¤©ï¼Œå…¶å®æœ‰çš„åœ°æ–¹å› ä¸ºå«Œçƒ¦æ²¡æœ‰å¥½å¥½çœ‹è€½è¯¯äº†ï¼Œç›®å‰loopå€’æ”¾æ„Ÿè§‰ä¾ç„¶ä¸æ˜ï¼Œä½†æ˜¯å¯ä»¥åšåˆ°TapBodyè§¦å‘åŠ¨ä½œäº†model3.jsonä¸­æ·»åŠ &quot;HitAeras&quot;å­—æ®µï¼ŒIDå­—æ®µè¦å’Œthis._model._model.drawables.idsä¸­ç›¸åŒæ„æ€å­—æ®µå»åˆã€‚å…·ä½“å†…å®¹éœ€è¦è¿›æµè§ˆå™¨consoleé‡Œè°ƒè¯•æŸ¥çœ‹ã€‚è¿™ä¸ªå¯èƒ½æˆ‘è§‰å¾—å¯èƒ½å’Œmocæ–‡ä»¶æœ‰å…³ï¼ˆæˆ‘çè¯´çš„ï¼Œæˆ‘ä»€ä¹ˆä¹Ÿä¸çŸ¥é“ï¼ŒEditoræˆ‘ä¹Ÿåªæ˜¯æ‰“å¼€è¿‡çé¼“æ£äº†åŠå¤©ï¼‰ã€‚ å…³äºèº«ä½“éƒ¨ä½ï¼Œç›®å‰åªå®ç°äº†Headå’Œbodyï¼ŒBodyéƒ¨åˆ†ç›´æ¥JSONé‡Œå†™å°±å¥½ï¼ŒHeadä¸æ­¢éœ€è¦åœ¨JSONå®šä¹‰ã€‚lappdefine.tsä¸­éœ€è¦åŠ å…¥export const MotionGroupTapHead: string = &quot;TapHead&quot;;æ¥å®šä¹‰ä¸€ä¸ªåŠ¨ä½œæ§åˆ¶ã€‚å…¶æ¬¡å†lapplive2dmanager.tsçš„onTapæ–¹æ³•é‡Œç¬¬ä¸€ä¸ªåˆ¤æ–­å¤´éƒ¨å“ªé‡Œï¼ŒåŸæ–¹æ³•è‹¥ç‚¹å‡»å¤´éƒ¨æ˜¯å˜åŒ–è¡¨æƒ…this._models.at(i).setRandomExpression();,æœ‰å¿…è¦çš„è¯ï¼Œæ¢æˆå’Œä¸‹é¢ä¸€æ ·çš„this._models.at(i).startRandomMotion();ï¼Œè®°å¾—ä¼ å‚ï¼Œç¬¬ä¸€ä¸ªæ˜¯åˆšåˆšå®šä¹‰çš„LAppDefine.MotionGroupTapHead,æŒ‡å®šå“ªä¸€ä¸ªåŠ¨ä½œç”¨çš„ï¼Œç¬¬äºŒä¸ªä¸å˜LAppDefine.PriorityNormalå°±å¥½ã€‚ 2020.01.27 æ”¾å¼ƒäº†ï¼Œæ‰¾ä¸åˆ°è°ƒæ•´æ¨¡å‹çš„æ–¹æ³•ï¼Œçœ‹ç€ä¸€å †çœ¼èŠ±ç¼­ä¹±çš„ä»£ç ï¼Œè¿˜æœ‰æ¶å¿ƒçš„æ—¥è¯­æ³¨é‡Šï¼ˆä¸»è¦æ˜¯ç‰‡å‡åçœ‹ç€â€¦â€¦ï¼‰ã€‚æ‰“ç®—è¿˜æ˜¯ç”¨åˆ«äººç°æˆçš„ä¸œè¥¿å§ã€‚ 2020.01.31 æ•´ç†äº†ä¸‹å¿ƒæƒ…ï¼Œå¥½å¥½ç¿»äº†ä¸‹manualï¼Œæ‰¾åˆ°äº†æ”¾å¤§æ¨¡å‹æ˜¾ç¤ºçš„åœ°æ–¹ã€‚ 1ã€lapplive2dmanagerä¸‹æ¸²æŸ“å‰æœ‰ä¸ªonUpdate()å‡½æ•°ï¼Œåœ¨é‡Œé¢æŠŠçŸ©é˜µå¤§å°æ”¾å¤§å°±å¥½ã€‚2ã€lappmodelä¸‹setupModel()ä¸­ä¿®æ”¹ Layoutä¸‹_modelMatrixçš„scraleï¼Œè¿™é‡Œå¦‚æœå‚æ•°æ˜¯1ï¼Œ1çš„è¯æ˜¯æŒ‰ç…§æ¨¡å‹åŸæœ¬å¤§å°æ˜¾ç¤ºï¼Œä¸€èˆ¬ä¼šå¾ˆå¤§ã€‚åšæŒ‚ä»¶çš„ç”»ä¸€èˆ¬åœ¨1ä¸€ä¸‹ã€‚ æ¨¡å‹çš„ç§»åŠ¨ä¹Ÿå¯ä»¥åœ¨ä¸Šå›é¢ä¸¤ä¸ªåœ°æ–¹å®Œæˆï¼Œå¯¹çŸ©é˜µè°ƒç”¨translate()å‡½æ•°ï¼Œå‚æ•°ä»æ˜¯æµ®ç‚¹ï¼Œä¼¼ä¹æ˜¯æŒ‰ç…§æ¨¡å‹å¤§å°ä¸º1æ¥è®¡ç®—ä½ç§»ã€‚ å›æ”¾é—®é¢˜å‡ºåœ¨åŠ¨ä½œæ²¡æœ‰loopã€‚Sampleæ˜¯å°†ä½ æ‰€æœ‰çš„åŠ¨ä½œæ”¾åœ¨äº†ä¸€ä¸ªmotionä¸‹çš„ï¼Œç„¶åæ¯ä¸ªåŠ¨ä½œç»“æŸåå†é€‰å–åŠ¨ä½œå‹å…¥é˜Ÿåˆ—ã€‚å¯¹äºæ•´ä¸ªmotionçš„loopæ²¡æœ‰å¼€å¯çš„è¯ä¸çŸ¥é“ä¸ºä»€ä¹ˆå°±ä¼šæœ‰ä¸€ä¸ªå›æ”¾ä¸€æ ·çš„ã€‚ä½†æ˜¯è¿˜åªé’ˆå¯¹éäººç‰©çš„éƒ¨åˆ†ã€‚ä½ åœ¨motioné‡Œçš„loopè®¾ç½®æ˜¯æ— æ•ˆçš„ã€‚ å¦ˆçš„æ–‡æ¡£é‡Œå…¶å®è¯´æ˜äº†è¿™ä¸ªloopçš„é—®é¢˜ã€‚æ·¦!!è ¢çˆ†äº†!!! 2020.02.01 æ•´ç†ä¸‹ç›®å‰Live2Dç›¸å…³ä¸œè¥¿ã€‚ æ•´ä¸ªå†…å®¹æ˜¯ç”¨å®˜æ–¹çš„Demoæ”¹çš„ã€‚ç›®å‰æ•´ä¸ªä¸»å‡½æ•°æµç¨‹ä¸ºï¼š window.onload = (): void =&gt; { // create the application instance if (LAppDelegate.getInstance().initialize() == false) { return; } LAppDelegate.getInstance().run(); }; main.tsä¸ºä¸»ç¨‹åºå…¥å£ã€‚é¦–å…ˆåˆå§‹åŒ–Canvaså’ŒWebGLçš„ä¸œè¥¿ã€‚åŒ…æ‹¬Domæ“ä½œï¼Œäº‹ä»¶å‡½æ•°ç»‘å®šã€‚æ¥ä¸‹æ¥å°±æ˜¯Liveçš„Viewï¼ˆç”¨äºæ˜¾ç¤ºçš„ç»„ä»¶ï¼‰å’Œæ•´ä¸ªCubism SDKçš„åˆå§‹åŒ–ã€‚ Viewåˆå§‹åŒ–å°±æ˜¯è§†å£å¤§å°å’ŒçŸ©é˜µã€‚ SDKåŒ…æ‹¬Debugç”¨æ—¥å¿—ã€CubismFrameworkçš„åˆå§‹åŒ–ã€Live2DManagerçš„åˆ›å»ºã€æ—¶é’Ÿçš„æ›´æ–°å’ŒèƒŒæ™¯ç­‰å…¶ä»–ç´ æçš„åŠ è½½ã€‚æ¯”å¦‚åŸå§‹Demoä¸Šé¢çš„é‚£ä¸ªè¯æ¨¡å‹ç”¨çš„é½¿è½®å°±æ˜¯è¿™ä¸ªæ—¶å€™è¢«åŠ è½½çš„ã€‚ Live2DManagerçš„æ„é€ å‡½æ•°åŒ…æ‹¬çš„æ¨¡å‹çŸ©é˜µçš„è®¾ç½®ï¼Œæ¨¡å‹çš„åˆ›å»ºçš„åœºæ™¯ç´¢å¼•çš„æ›´æ–°ã€‚ æ›´æ–°åœºæ™¯æ—¶ä¼šé€šè¿‡LAppDefineä¸­å®šä¹‰å¥½çš„å†…å®¹è¯»å–è·¯å¾„ä¿¡æ¯ã€‚è°ƒç”¨LAppmodelçš„LoadAssetsæ–¹æ³•è¯»model3.jsonçš„ä¿¡æ¯ï¼Œè¿™é‡Œç”¨çš„æ—¶fetch()æ–¹æ³•ï¼Œæ‰€ä»¥æ˜¯å¼‚æ­¥çš„ã€‚ä¼šç»§ç»­å…ˆæ‰§è¡Œå…¶ä»–å‡½æ•°ã€‚æ–‡ä»¶åŠ è½½å®Œåä¼šè°ƒç”¨setupMpdel()å‡½æ•°ï¼Œç»§ç»­è¯»å–mocæ–‡ä»¶ã€å’ŒExpressionã€Physicsã€Motionç­‰ç›¸å…³æ–‡ä»¶ï¼Œå‡ä¸ºå¼‚æ­¥æ‰§è¡Œã€‚ æ¥ä¸‹æ¥å°±æ˜¯run()å‡½æ•°äº†ã€‚ public run(): void { // ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ãƒ— const loop = (): void =&gt; { // ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®æœ‰ç„¡ã®ç¢ºèª if (s_instance == null) { return; } // æ™‚é–“æ›´æ–° LAppPal.updateTime(); // ç”»é¢ã®åˆæœŸåŒ– gl.clearColor(0.0, 0.0, 0.0, 0.0); // æ·±åº¦ãƒ†ã‚¹ãƒˆã‚’æœ‰åŠ¹åŒ– gl.enable(gl.DEPTH_TEST); // è¿‘ãã«ã‚ã‚‹ç‰©ä½“ã¯ã€é ãã«ã‚ã‚‹ç‰©ä½“ã‚’è¦†ã„éš ã™ gl.depthFunc(gl.LEQUAL); // ã‚«ãƒ©ãƒ¼ãƒãƒƒãƒ•ã‚¡ã‚„æ·±åº¦ãƒãƒƒãƒ•ã‚¡ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹ gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT); gl.clearDepth(1.0); // é€éè¨­å®š gl.enable(gl.BLEND); gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA); // æç”»æ›´æ–° this._view.render(); // ãƒ«ãƒ¼ãƒ—ã®ãŸã‚ã«å†å¸°å‘¼ã³å‡ºã— requestAnimationFrame(loop); }; loop(); } æ•´ä½“æ¥è®²å®šä¹‰äº†ä¸€ä¸ªloop()å‡½æ•°ä½œä¸ºä¸»å¾ªç¯é€’å½’è°ƒç”¨ã€‚ é¦–å…ˆç¡®å®šinstanceï¼ˆå®ä¾‹ï¼‰æ˜¯å¦å­˜åœ¨ã€‚ç„¶åæ˜¯æ›´æ–°æ—¶é—´ï¼Œç”»é¢çš„æ¸…ç©ºï¼Œå¯åŠ¨æ·±åº¦æµ‹è¯•ï¼Œæ·±åº¦å‡½æ•°è®¾ç½®ï¼Œæ¸…ç©ºé¢œè‰²å’Œæ·±åº¦Bufferï¼Œæ··åˆè®¾ç½®å’Œæ··åˆå‡½æ•°è®¾ç½®ï¼Œç„¶åæœ€æœ€é‡è¦çš„ç”»é¢æ¸²æŸ“render()ï¼Œæœ€åæ˜¯ä¸ªé€’å½’çš„è°ƒç”¨å†™æ³•ã€‚ï¼ˆæˆ‘çŒœï¼‰ ä¸»è¦è¯´æ¸²æŸ“ï¼Œæ¸²æŸ“åŒ…æ‹¬èƒŒæ™¯å’Œé½¿è½®çš„ç»˜åˆ¶ï¼Œç„¶åç”¨äº†ä¸ªflush()ï¼Œæˆ‘çŒœæ˜¯åŒæ­¥ç”¨çš„ã€‚ç„¶åè·å–Live2DManagerå®ä¾‹ç„¶åè°ƒç”¨Live2DManagerçš„onUpdate()å‡½æ•°ã€‚ onUpdate()ä¸­ä¾ç„¶é¦–å…ˆæ•´ç†å¥½è§†å£å’ŒCanvaså¤§å°ä»¥åŠçŸ©é˜µçš„è®¾ç½®ã€‚æ¥ä¸‹æ¥è°ƒç”¨Modelçš„Update()æ–¹æ³•ã€‚è¿™é‡Œé¢é‡è¦çš„å°±æ˜¯æ¨¡å‹åŠ¨ä½œçš„startRandomMotion().åœ¨è¿™ä¸ªæ–¹æ³•é‡Œé»˜è®¤è°ƒç”¨çš„æ˜¯ä¼ å…¥çš„æ˜¯Idleçš„å‚æ•°ï¼Œæ‰€ä»¥ä¼šé‡å¤æ‰§è¡ŒIdleçš„åŠ¨ä½œã€‚ä½†æ˜¯æ­¤é‡å¤éå¾ªç¯æ’­æ”¾ã€‚å®˜æ–¹æ–‡æ¡£é‡Œè¯´äº†ã€‚ä¸èƒ½ä¿è¯å’Œç¼–è¯‘å™¨çš„å¾ªç¯ä¸€è‡´ï¼Œæ‰€ä»¥å°†å¾ªç¯è®¾ä¸ºfalseã€‚è¿™é‡Œåªæ˜¯å› ä¸ºä¹‹å‰loopçš„å¾ªç¯è€Œå¯¼è‡´ä¸€ç›´æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œä»è€Œçœ‹èµ·æ¥å¥½åƒæœ‰ç‚¹åˆ«æ‰­çš„å¾ªç¯IdleåŠ¨ä½œã€‚ åˆ°è¿™é‡Œå°±æ˜¯ä¸€èˆ¬çš„ï¼Œå¾ˆç®€å•çš„è¯´äº†ä¸‹æµç¨‹ã€‚è¦åšæŒ‚ä»¶çš„è¯å°±æ˜¯å†çŸ©é˜µã€è§†å£å¤§å°å’ŒCanvasçš„å¤§å°ä¸Šæ”¹ä¸€æ”¹å°±å¥½ã€‚ ä¸‹é¢æ˜¯ç‚¹å‡»äº‹ä»¶ï¼Œé»˜è®¤æ˜¯supportTouchæ˜¯falseçš„ï¼Œæ‰€ä»¥ç»‘å®šçš„æ˜¯clickçš„å‡½æ•°ã€‚ clickBegan()æ²¡ä»€ä¹ˆï¼Œé‡ç‚¹æ˜¯clickEnd()å‡½æ•°ã€‚è¿™é‡Œè·å–äº†ç‚¹å‡»åæ ‡åä¼šè°ƒç”¨viewçš„onTouchesEnded()å‡½æ•°ã€‚åœ¨è¿™é‡Œåšäº†åæ ‡å˜æ¢ã€‚ç„¶åè°ƒç”¨Live2DManagerçš„onTap()å‡½æ•°ã€‚åœ¨è¿™é‡Œå¯¹ç‚¹å‡»æ“ä½œè¿›è¡Œäº†hitTest()ï¼Œåˆ¤æ–­å‡»ä¸­çš„æ˜¯é‚£ä¸ªåŒºåŸŸã€‚é»˜è®¤æ˜¯å¯¹Headå’ŒBodyçš„æ£€æµ‹ï¼Œæ£€æµ‹æ˜¯éœ€è¦æ¨¡å‹é…åˆï¼Œä¼¼ä¹éœ€è¦å†ç¼–è¾‘å™¨é‡Œç¡®å®šã€‚ç„¶åæ ¹æ®Hitéƒ¨ä½ï¼Œè°ƒç”¨startRandomMotion()å‡½æ•°ç¡®å®šåŠ¨ä½œæˆ–è°ƒç”¨setRandomExpression()é»˜è®¤æ˜¯Headè°ƒç”¨åè€…ï¼ŒBodyè°ƒç”¨å‰è€…ã€‚ ç„¶åæ˜¯è‡ªå·±çš„ä¸œè¥¿ï¼Œæ·»åŠ äº†æ˜¾ç¤ºå¯¹è¯åŠŸèƒ½ã€‚é€šè¿‡æ‰“ä¹±Demoçš„ä»£ç ç»“æ„æ¥è¾¾æˆè‡ªå·±ä¸å¯å‘Šäººçš„ç›®çš„ã€‚åŠ å…¥äº†è‡ªå·±çš„äº‹ä»¶å’Œå¯¹è¯ç±»ã€‚å¯¹è¯æ˜¯å‚¨å­˜åœ¨jsonæ–‡ä»¶é‡Œçš„ï¼Œå¯ä»¥è‡ªå·±æ·»åŠ å’Œæ›´æ”¹ã€‚ä¿æŒè¯»æ–‡ä»¶æ“ä½œä¸€è‡´æ€§å­¦ä¹ ä½¿ç”¨äº†fetch()æ¥å¼‚æ­¥åŠ è½½å¯¹è¯ã€‚äº‹ä»¶å°±æ˜¯ç®€å•çš„ç‚¹å‡»äº‹ä»¶ï¼Œå› ä¸ºDemoç”¨çš„åŸç”ŸJSã€‚æ‰€ä»¥ä¾ç„¶ä¿æŒä½¿ç”¨åŸºç¡€Domæ“ä½œç»‘å®šäº‹ä»¶ã€‚ï¼ˆå†™çš„æ—¶å€™æœ‰ç§å›åˆ°äº†å¤§ä¸€çš„æ„Ÿè§‰ï¼‰ ä½†æ˜¯ç°åœ¨ç‚¹å‡»æœ‰æ—¶å€™ä¸ä¼šè§¦å‘åŠ¨ä½œï¼Œè¿™ä¸ªåœ¨åŸDemoä¸Šä¹Ÿæœ‰è¿™ä¸ªé—®é¢˜ï¼ˆä¹Ÿå¯èƒ½æ˜¯æˆ‘å·²ç»æ‰¾ä¸åˆ°åŸDemoè¯¯ä¼šäº†ï¼‰ã€‚ å·²çŸ¥é—®é¢˜sakura-app.jsé‡Œçš„imgErrorå‡½æ•°çªç„¶å¼€å§‹æŠ¥é”™è¯´æ‰¾ä¸åˆ°ã€‚ç°åœ¨ä¸€è„¸æ‡µé€¼ä¸­ ç”±äºCDNçš„é—®é¢˜ï¼Œå›¾ç‰‡æ˜¾ç¤ºä¸å®Œå…¨å’Œæ‰¾ä¸åˆ° é¡¶éƒ¨å¯¼èˆªæ Archiveå’Œlistéƒ¨åˆ†çš„ä¸‹æ‹‰èœå•çªç„¶æ•ˆæœå˜äº† å…¶å®æ˜¯å’ŒAnimate.cssçš„Keyframeé‡åäº†ï¼Œæ”¹ä¸€ä¸‹å°±å¥½ã€‚ MarkDownè§£ææœ‰ç‚¹é—®é¢˜ï¼Œæœ‰çš„æ ¼å¼ä¸æ”¯æŒ å…¶å®åº”è¯¥é‡æ„ä¸€ä¸‹ä»£ç çš„ï¼Œæ— å¥ˆæˆ‘å¾ˆæ‡’ï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆ","categories":[{"name":"åæ§½","slug":"åæ§½","permalink":"/categories/åæ§½/"}],"tags":[{"name":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","slug":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","permalink":"/tags/ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢/"},{"name":"åæ§½","slug":"åæ§½","permalink":"/tags/åæ§½/"}],"keywords":[{"name":"åæ§½","slug":"åæ§½","permalink":"/categories/åæ§½/"}]},{"title":"ä¸»é¢˜Adminæ›´æ”¹è®°å½•","slug":"Admin","date":"2050-12-11T16:00:00.000Z","updated":"2020-03-29T14:08:39.795Z","comments":true,"path":"2050/12/12/Admin/","link":"","permalink":"/2050/12/12/Admin/","excerpt":"","text":"è®°å½•ä¸€ä¸‹Adminçš„è¿›åº¦2020.01.05ä¸»é¢˜é€‰æ‹©çœ‹ä¸Šä¸ªVueå†™çš„Adminï¼Œè™½ç„¶å½“åˆè®²Vueçš„æ—¶å€™åŸºæœ¬æ²¡å¬ï¼Œä½†ä¹Ÿè¿˜å¥½å…¶å®ã€‚ ç”¨çš„æ˜¯Vue Black Dashboard - v1.1.0 MarkDownå…¶å®ä¸€å¼€å§‹æ˜¯æƒ³è‡ªå·±å†™çš„ï¼Œå†™äº†åŠå¤©å§ï¼Œå‘ç°æœ‰ç‚¹çƒ¦ï¼Œäºæ˜¯å°±æ‰“ç®—ç”¨ç°æˆçš„äº†ã€‚ ç”±äºæ˜¯Vueï¼Œæœ¬æ¥æƒ³ç”¨editor.mdçš„ï¼Œæ— å¥ˆä¸æ‡‚ä¸ºä»€ä¹ˆæœ‰ä¸ªCSSæ ·å¼ä¸€ç›´æŠ¥é”™ï¼Œè¯´æ‰¾ä¸åˆ°ã€‚ åæ¥åªèƒ½å†³å®šç”¨mavon-editorï¼Œå› ä¸ºç½‘ä¸Šæˆ‘çœ‹å¥½å¤šäººéƒ½æ˜¯ç”¨è¿™ä¸ªçš„ã€‚å°±ä»ä¼—äº†ï¼Œå› ä¸ºé»˜è®¤ä¸»é¢˜é¢œè‰²æ˜¯ç™½çš„ï¼Œé¦–å…ˆå°±æ˜¯æ”¹é¢œè‰²ã€‚ ç„¶åï¼Œå‘µå‘µï¼Œæ”¹äº†ä¸€å¤©ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆç¬¬ä¸‰æ–¹ç»„ä»¶æœ‰çš„æ ·å¼æ”¹äº†æ˜¯ä¸ç”Ÿæ•ˆçš„ã€‚å°¤å…¶æ˜¯mavon-editorçš„textareaæ–‡å­—é¢œè‰²ï¼Œæ€ä¹ˆæ”¹ä¹Ÿè¯¥ä¸å‡ºæ¥ï¼Œå¥½å®¶ä¼™æœ€åå‘ç°æ˜¯mavon-editor.jsé‡Œå±…ç„¶æŠŠAuto-texté‡Œçš„æ ·å¼ç”¨jså…¨é‡å†™äº†ä¸€éï¼ï¼ï¼ éš¾è¿‡â€¦â€¦ 2020.01.06MarkDownæ ·å¼åŸºæœ¬è°ƒå¥½åï¼Œè§£å†³äº†ä¸€ä¸‹å›¾ç‰‡ä¸Šä¼ çš„é—®é¢˜ã€‚ç›®å‰çš„æƒ³æ³•æ˜¯ï¼Œä¸Šä¼ å›¾ç‰‡åå…ˆå°†å›¾ç‰‡é€åˆ°æœåŠ¡å™¨ä¸Šæš‚æ—¶ä¿å­˜ï¼Œåˆ é™¤å›¾ç‰‡æ—¶ä¹Ÿä¼šä»æœåŠ¡å™¨ä¸Šåˆ é™¤ï¼Œæœ€ååœ¨å‘å¸ƒæ–‡ç« çš„æ—¶å€™å†ä¸€æ¬¡æ€§ä»æœåŠ¡å™¨ä¸Šä¸Šä¼ åˆ°è…¾è®¯çš„COSã€‚ç°åœ¨å¯ä»¥æš‚å­˜å›¾ç‰‡ï¼ŒCOSä¸Šä¼ è¿˜åœ¨è§£å†³å­è´¦æˆ·çš„é—®é¢˜ã€‚ ä¸Šä¼ å›¾ç‰‡æ—¶å‘ç°ç³»ç»Ÿæƒé™ä¸å¤Ÿæ— æ³•åˆ›å»ºæ–‡ä»¶å¤¹ã€‚ä¸çŸ¥é“ä¸ºä»€ä¹ˆwindowsé»˜è®¤ä½¿ç”¨çš„æ˜¯userç”¨æˆ·ï¼Œæ˜æ˜è¿˜æœ‰å¾ˆå¤šå¯é€‰ååé€‰è¿™ä¸ªã€‚ä½¿ç”¨axiosæ—¶å‡ºç°not defineçš„é”™è¯¯ï¼Œè¿™ä¸ªç½‘ä¸Šä¸€å †ï¼Œç±»æ¯”ä¸‹å°±å‡ºæ¥äº†ã€‚æœ‰æ—¶é—´çœŸçš„è¦çœ‹çœ‹æ–‡ä»¶æ“ä½œè¿™éƒ¨åˆ†ã€‚ Vueè·¯ç”±é€‰çš„ä¸»é¢˜å‘ç°æ²¡æœ‰ç™»é™†é€‰é¡¹ï¼Œå› ä¸ºåå°æ˜¯å’Œå°ä¼™ä¼´ä¸€èµ·ç”¨çš„ï¼Œæ‰€ä»¥éœ€è¦åŒºåˆ«ä¸‹ï¼ŒèƒŒæ™¯å•¦ï¼Œä¸Šä¼ URLå•¦ä»€ä¹ˆçš„ã€‚ç„¶åå­¦ä¹ äº†ä¸‹è·¯ç”±ï¼Œç”±äºæºç å°±æ˜¯ç”¨äº†ä¸€ä¸ªåµŒå¥—è·¯ç”±ï¼Œé»˜è®¤pathæ˜¯&#39;/&#39;ç„¶åredirectåˆ°ä¸€ä¸ª/dashboardä¸‹é¢ã€‚å¦‚æœæŠŠåŸpathæ”¹æˆåˆ«çš„ä¼šå¯¼è‡´éƒ¨åˆ†ç»„ä»¶ä¸æ˜¾ç¤ºã€‚ æ˜å‘ç°å†…éƒ¨ç»„ä»¶æ›´æ¢å’ŒTopNavBarä¸‹compute()æ–¹æ³•æœ‰å…³ routeName() { const { name } = this.$route; return this.capitalizeFirstLetter(name); } è¿™ä¸ªå€¼ä¼šæ”¹å˜vue2-transitionsçš„keyå€¼ã€‚æ¥æ§åˆ¶æ˜¾ç¤ºç»„ä»¶ã€‚å…·ä½“æ²¡æœ‰ç»†çœ‹ã€‚å°±ç›´æ¥å†appå’Œlayoutçš„mounted()é‡ŒåŠ äº†ä¸ªåˆ¤æ–­ï¼Œä¸ç¬¦åˆç›´æ¥è·³åˆ°Loginé¡µé¢ï¼Œç®€å•ç²—æš´ã€‚æœ‰æ—¶é—´ä¸€å®šè¦çœ‹çœ‹è¿™ä¸ªå…·ä½“æ˜¯æ€ä¹ˆå›äº‹ã€‚ 2020.01.07Loginåšäº†ä¸ªç™»é™†ç•Œé¢ï¼Œæ„Ÿè§‰è‡ªå·±ç›¸å½“èœé¸¡ï¼Œ æš‚æ—¶ä½œåºŸã€‚ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/tags/æŠ€æœ¯/"},{"name":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","slug":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","permalink":"/tags/ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"å®ä¹ å°â€œæ€»ç»“â€ï¼šè´´å›¾å°ºå¯¸æ£€æŸ¥","slug":"TextureSizeCheck","date":"2020-07-20T16:00:00.000Z","updated":"2020-07-22T13:22:17.063Z","comments":true,"path":"2020/07/21/TextureSizeCheck/","link":"","permalink":"/2020/07/21/TextureSizeCheck/","excerpt":"","text":"æ£€æŸ¥è´´å›¾å¤§å°æ˜¯å¦ç¬¦åˆè¦æ±‚Unityä¼šè‡ªåŠ¨å°†è´´å›¾æ‹‰ä¼¸æˆä¸€å®šå°ºå¯¸ï¼Œé€šå¸¸ä¸º2çš„næ¬¡å¹‚ï¼Œæ‰€ä»¥æœ‰äº›åŸå§‹è´´å›¾çš„å¤§å°ä¸ä¸€å®šæ˜¯Unityä¸­æ˜¾ç¤ºçš„å°ºå¯¸ï¼Œç›®æ ‡å°±æ˜¯åˆ¤æ–­è´´å›¾åŸå§‹å°ºå¯¸æ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚ æµç¨‹è·å–é€‰å®šæ–‡ä»¶å¤¹-&gt;è·å–æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰Texture2D-&gt;è¯»å–è´´å›¾-&gt;åˆ¤æ–­å°ºå¯¸ å‰2ä¸ªæµç¨‹å®Œå…¨å¯ä»¥ä½¿ç”¨ä¹‹å‰è´´å›¾å‹ç¼©çš„åšæ³•ã€‚ å…¶ä¸­è·å–æ–‡ä»¶å¤¹å¯ä»¥ä½¿ç”¨ä¹‹å‰ç”¨åˆ°çš„Selection.assetGUIDså¾—åˆ°èµ„æºçš„GUIDï¼Œç„¶åé€šè¿‡AssetDatabase.GUIDToAssetPath()å¾—åˆ°æ–‡ä»¶å¤¹çš„ç»å¯¹è·¯å¾„ã€‚å†ä½¿ç”¨AssetDatabase.FindAssets()ï¼Œå¯»æ‰¾æ–‡ä»¶å¤¹ä¸‹ä¸ºTexture2Dæ ¼å¼çš„æ–‡ä»¶ã€‚æœ€ååˆ©ç”¨GUIDçš„åˆ°ç»å¯¹è·¯å¾„ï¼Œè½¬ä¸ºAssetså¼€å¤´çš„ç›¸å¯¹è·¯å¾„ã€‚ è¯»å–è´´å›¾çš„æ—¶å€™ä¼šæœ‰å‡ ä¸ªé—®é¢˜ï¼Œé¦–å…ˆå¦‚æœä½¿ç”¨AssetDatabase.LoadAssetAtPath()æ–¹æ³•è·å–Texture2Dç±»å‹çš„è´´å›¾ï¼Œè¿™æ ·å¾—åˆ°çš„å®½é«˜å®é™…ä¸Šæ˜¯Unityå¤„ç†è¿‡åçš„ï¼Œä¹Ÿå°±æ˜¯è¯´åŸºæœ¬ä¸Šè‚¯å®šæ˜¯2çš„næ¬¡å¹‚ã€‚é‚£ä¹ˆå°±åªèƒ½å°è¯•è¯»å–åŸå§‹æ–‡ä»¶ã€‚ é¦–å…ˆæ˜¯å¯ä»¥ä½¿ç”¨System.Drawing.Imageç±»ï¼Œé€šè¿‡è¿”å›çš„å¯¹è±¡objï¼Œobj.widthå’Œobj.heightå¯ä»¥å¾—åˆ°åŸå§‹å¤§å°ã€‚ ä½†æ˜¯æœ‰ä¸€ç‚¹ï¼ŒSystem.Drawing.Imageè¿™ä¸ªç±»ç”¨çš„æ˜¯GDI+ï¼Œæ”¯æŒçš„æ ¼å¼æ¯”è¾ƒå°‘ã€‚è¯»åˆ°ä¸æ”¯æŒçš„æ ¼å¼ä¼šå‡ºç°OutOfMemoryExceptionã€‚åƒtgaæ ¼å¼å°±æ— æ³•è¯»å–ã€‚ å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨Unityåå°„ï¼Œè°ƒç”¨TextureImporterçš„ç§æœ‰å‡½æ•°getWidthAndHeightã€‚è™½ç„¶å®˜æ–¹æ–‡æ¡£é‡Œæ²¡æœ‰çœ‹è§ï¼Œä½†æ˜¯ç¡®å®å¯è¡Œï¼Œåƒexrã€tgaç­‰ç–‘éš¾æ‚ç—‡ä¹Ÿå¯ä»¥å¤„ç†ã€‚ä¸å¤ªç†è§£åå°„ï¼Œæ„Ÿè§‰å°±åƒæ˜¯æ¯”è¾ƒä¸‡èƒ½çš„å‹å…ƒå‡½æ•°ã€‚ MethodInfo mi = typeof(TextureImporter).GetMethod(&quot;GetWidthAndHeight&quot;, BindingFlags.NonPublic | BindingFlags.Instance); ä¸‹é¢çš„ä¸åªæ˜¯å¯ä»¥æ£€æŸ¥æ˜¯å¦æ˜¯4çš„å€æ•°ï¼Œ2çš„næ¬¡å¹‚ä¹Ÿå¯ä»¥ã€‚å…¶å®å°±æ˜¯å†åŠ ä¸€å±‚åˆ¤æ–­ã€‚ using System.Collections; using System.IO; using UnityEditor; using System.Drawing; using UnityEngine; using System.Reflection; public class CheckTexture : EditorWindow { [MenuItem(&quot;TextureTools/Texture Width Check&quot;)] static void TextureCheck() { string[] selected = Selection.assetGUIDs; if(selected.Length == 0) { EditorUtility.DisplayDialog(&quot;Error&quot;, &quot;Please select at least one folder&quot;, &quot;OK&quot;); return ; } ArrayList list = GetFolderList(selected); string[] folderPath = (string[])list.ToArray(typeof(string)); for(int i=0;i&lt;folderPath.Length;++i) { if (!Directory.Exists(folderPath[i])) { EditorUtility.DisplayDialog(&quot;Error&quot;, folderPath[i] + &quot;is not a folder,Please select a folder&quot;, &quot;OK&quot;); return; } } string[] assetsGuids = AssetDatabase.FindAssets(&quot;t:texture&quot;, folderPath); ArrayList notMultiple4 = new ArrayList(); ArrayList Multiple4notPow2 = new ArrayList(); for (int i=1;i&lt;= assetsGuids.Length;++i) { Bar(&quot;Executingâ€¦â€¦&quot;, &quot;Finding&quot;, i, assetsGuids.Length); string path = AssetDatabase.GUIDToAssetPath(assetsGuids[i-1]); TextureWidthCheck(path, Multiple4notPow2, notMultiple4); } if (EditorUtility.DisplayDialog(&quot;Save Log&quot;, &quot;notMultiple4:\\n&quot; + GetPathString((string[])notMultiple4.ToArray(typeof(string))) + &quot;\\n&quot; + &quot;Multiple4notPow2\\n&quot; + GetPathString((string[])Multiple4notPow2.ToArray(typeof(string))) + &quot;\\n&quot; + &quot;Do you need to save the Texture size Log?&quot;, &quot;yes&quot;, &quot;no&quot;)) WriteLog(Multiple4notPow2, notMultiple4); } public static void GetTextureOriginalSize(TextureImporter ti, out int width, out int height) { if (ti == null) { width = 0; height = 0; return; } object[] args = new object[2] { 0, 0 }; MethodInfo mi = typeof(TextureImporter).GetMethod(&quot;GetWidthAndHeight&quot;, BindingFlags.NonPublic | BindingFlags.Instance); mi.Invoke(ti, args); width = (int)args[0]; height = (int)args[1]; } static void TextureWidthCheck(string path, ArrayList Multiple4notPow2, ArrayList notMultiple4) { path = path.Substring(path.IndexOf(&quot;Assets&quot;)); TextureImporter textureImporter = AssetImporter.GetAtPath(path) as TextureImporter; int realwidth = 0; int realheight = 0; GetTextureOriginalSize(textureImporter, out realwidth, out realheight); if (MultipleOf4(realwidth,realheight)) { if (!PowOf2(realwidth, realheight)) Multiple4notPow2.Add(path); } else notMultiple4.Add(path); } static bool PowOf2(int width, int height) { return (width &amp; (width - 1))== 0 ? (height &amp; (height - 1)) == 0 ? true : false : false; } static bool MultipleOf4(int width,int height) { return width % 4 == 0 ? height % 4 == 0 ? true : false : false; } public static void Bar(string title, string message, int now, int end) { EditorUtility.DisplayProgressBar(title, message + now + &quot;/&quot; + end, (float)now / end); if (now &gt;= end) EditorUtility.ClearProgressBar(); } static ArrayList GetFolderList(string[] strs) { ArrayList list = new ArrayList(); for (int i = 1; i &lt;= strs.Length; ++i) { Bar(&quot;Executing...&quot;, &quot;confirming path&quot;, i, strs.Length); string path = AssetDatabase.GUIDToAssetPath(strs[i - 1]); list.Add(path); } return list; } static string GetPathString(string[] strs) { string allPath = &quot;&quot;; foreach (string str in strs) allPath += str + &quot;\\n&quot;; return allPath; } static void WriteLog(ArrayList Multiple4notPow2, ArrayList notMultiple4) { string path = &quot;Assets/Log/&quot;; string name = &quot;TextureSizeCheck.log&quot;; StreamWriter sw; FileInfo t = new FileInfo(path + &quot;//&quot; + name); if (!t.Exists) sw = t.CreateText(); else sw = t.AppendText(); sw.WriteLine(System.DateTime.Now); sw.WriteLine(&quot;notMultiple4:\\r\\n&quot; + GetPathString((string[])notMultiple4.ToArray(typeof(string))) + &quot;\\r\\n&quot; + &quot;Multiple4notPow2\\r\\n&quot; + GetPathString((string[])Multiple4notPow2.ToArray(typeof(string))) + &quot;\\r\\n&quot;); sw.Close(); sw.Dispose(); } }","categories":[{"name":"Unity","slug":"Unity","permalink":"/categories/Unity/"}],"tags":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/tags/æŠ€æœ¯/"},{"name":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","slug":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","permalink":"/tags/ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢/"},{"name":"å®ä¹ æ€»ç»“","slug":"å®ä¹ æ€»ç»“","permalink":"/tags/å®ä¹ æ€»ç»“/"}],"keywords":[{"name":"Unity","slug":"Unity","permalink":"/categories/Unity/"}]},{"title":"å®ä¹ å°â€œæ€»ç»“â€ï¼šè´´å›¾å‹ç¼©æ ¼å¼è½¬åŒ–","slug":"TextureCompressedFormatChange","date":"2020-07-12T16:00:00.000Z","updated":"2020-07-22T13:22:08.373Z","comments":true,"path":"2020/07/13/TextureCompressedFormatChange/","link":"","permalink":"/2020/07/13/TextureCompressedFormatChange/","excerpt":"","text":"æ”¹å˜è´´å›¾å‹ç¼©æ ¼å¼ETCOpenGL ES 2.0æ”¯æŒï¼Œç§»åŠ¨ç«¯GPUå‡æ”¯æŒï¼ŒETCæŠŠä¸€ä¸ª4x4çš„åƒç´ å•å…ƒç»„å‹æˆä¸€ä¸ª64ä½çš„æ•°æ®å—ã€‚ä½†æ˜¯æ²¡æœ‰Alphaé€šé“ï¼Œéœ€è¦é¢å¤–è¡¥ä¸€å—Alphaé€šé“çš„è´´å›¾ã€‚å°ºå¯¸ä¸º2çš„Næ¬¡å¹‚ï¼Œé•¿å®½å¯ä»¥ä¸ç›¸åŒã€‚ ETC2OpenGL ES 3.0æ”¯æŒï¼Œä¸ETCç›¸æ¯”å¢åŠ äº†Alphaé€šé“ï¼Œæ”¯æŒæ›´é«˜è´¨é‡çš„å‹ç¼©ã€‚å°ºå¯¸éœ€è¦ä¸º4çš„å€æ•°ã€‚ ASTCIOSä¸Šç”¨çš„æ ¼å¼ï¼ŒIOS9å¼€å§‹æ”¯æŒï¼Œéœ€è¦A8ä»¥ä¸Šå¤„ç†å™¨ï¼ŒAndroidä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯å‹ç¼©çš„æ—¶å€™å¾ˆæ…¢ã€‚ æµç¨‹ï¼šå¾—åˆ°é€‰æ‹©çš„æ–‡ä»¶åŠè·¯å¾„-&gt;å¾—åˆ°æ–‡ä»¶å¤¹ä¸‹è´´å›¾è·¯å¾„-&gt;æ”¹å˜è´´å›¾å‹ç¼©æ ¼å¼ å¾—åˆ°é€‰æ‹©çš„è·¯å¾„ä½¿ç”¨å¾—åˆ°èµ„Selection.assetGUIDsæºçš„GUIDï¼Œè¿”å›æ˜¯ä¸€ä¸ªstringæ•°ç»„ã€‚ç„¶åé€šè¿‡AssetDatabase.GUIDToAssetPath()å¯ä»¥å¾—åˆ°æ–‡ä»¶å¤¹çš„ç»å¯¹è·¯å¾„ã€‚ ç„¶åä½¿ç”¨AssetDatabase.FindAssets()ï¼Œå¯»æ‰¾æ–‡ä»¶å¤¹ä¸‹ä¸ºTexture2Dæ ¼å¼çš„æ–‡ä»¶ï¼Œè¿”å›çš„æ˜¯æ–‡ä»¶GUIDçš„stringæ•°ç»„ã€‚ æ¥ä¸‹æ¥åˆ©ç”¨GUIDçš„åˆ°ç»å¯¹è·¯å¾„åï¼Œè½¬ä¸ºAssetså¼€å¤´çš„ç›¸å¯¹è·¯å¾„ï¼Œå°±å¯ä»¥å¼€å§‹è½¬æ¢äº† æ”¹å˜è´´å›¾å‹ç¼©æ ¼å¼éœ€è¦ä½¿ç”¨TextureImporterçš„SetPlatformTextureSettings()å‡½æ•°ã€‚å¯ä»¥ä½¿ç”¨ AssetImporter.GetAtPath()æ–¹æ³•ï¼Œç„¶åå¼ºåˆ¶è½¬æ¢æˆTextureImporterï¼Œæ–¹æ³•éœ€è¦æä¾›çš„æ˜¯ä»¥Assetså¼€å¤´çš„ç›¸å¯¹è·¯å¾„ï¼Œä¸å¯ä»¥ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œå¦åˆ™è¿”å›ä¸ºç©ºã€‚SetPlatformTextureSettings()å‚æ•°ä¸ºï¼Œå¹³å°ï¼ˆAndroidæˆ–iPhoneï¼‰ï¼Œè´´å›¾å¤§å°ï¼Œè´´å›¾æ ¼å¼ã€‚è´´å›¾å¤§å°é€šå¸¸ç»Ÿä¸€ä¸º2çš„æ•´æ¬¡å¹‚ï¼ŒPVRTCã€ETCè¦æ±‚ï¼ŒETC2è¦æ±‚4çš„å€æ•°ã€‚è´´å›¾æ ¼å¼éƒ½åœ¨TextureImporterFormatè¿™ä¸ªæšä¸¾ç±»é‡Œï¼ŒæŒ‰éœ€æ±‚è®¾ç½®å°±å¥½ã€‚åŒæ—¶æ”¹å˜å®Œéœ€è¦é‡æ–°å¯¼å…¥ï¼Œä½¿ç”¨AssetDatabase.ImportAsset()æ–¹æ³•ï¼Œé‡æ–°å¯¼å…¥åå³ä½¿å…³é—­ç¼–è¾‘å™¨ï¼Œé‡æ–°æ‰“å¼€åä¾ç„¶ä¿å­˜ã€‚ æç¤ºæ¡†å’Œè¿›åº¦æ¡ã€‚Unityçš„EditorUtilityå·²ç»å°è£…å¥½äº†ä¸€äº›å·¥å…·ã€‚å¯ä»¥ä¸éœ€è¦è°ƒç”¨DLLã€‚ æç¤ºæ¡†å¯ä»¥ä½¿ç”¨EditorUtility.DisplayDialog(),å››ä¸ªå‚æ•°ä¸ºæ ‡é¢˜ï¼Œå†…å®¹ï¼Œç¡®è®¤æŒ‰é’®å’Œå–æ¶ˆæŒ‰é’®ï¼Œå…¨éƒ¨éƒ½ä¸ºstringï¼Œè¿”å›å€¼ä¸ºboolã€‚ä¸å¡«å†™å–æ¶ˆæˆ–ç¡®è®¤åˆ™ä¸æ˜¾ç¤ºå¯¹åº”æŒ‰é’®ã€‚ è¿›åº¦æ¡å¯ä»¥ä½¿ç”¨ä¸å¸¦å–æ¶ˆçš„EditorUtility.DisplayProgressBar(),å‚æ•°ä¸ºæ ‡é¢˜ï¼Œå†…å®¹å’Œè¿›åº¦ã€‚å…¶ä¸­æ ‡é¢˜å’Œå†…å®¹æ˜¯Stringç±»ï¼Œè¿›åº¦æ˜¯0-1èŒƒå›´å†…çš„æµ®ç‚¹å‹ã€‚è¿›åº¦æ¡çš„æ¶ˆå¤±éœ€è¦è°ƒç”¨å‡½æ•°EditorUtility.ClearProgressBar();å¯ä»¥é€šè¿‡åˆ¤æ–­æ˜¯å¦æ‰§è¡Œå®Œæ¥å»è°ƒç”¨ã€‚ using System.Collections; using System.Collections.Generic; using UnityEngine; using UnityEditor; public class ChangeFormate : EditorWindow { static TextureImporterFormat textureFormatA = TextureImporterFormat.RGBA32; static TextureImporterFormat textureFormat = TextureImporterFormat.RGB24; [UnityEditor.MenuItem(&quot;TextureTools/Convert/ConvertFormatToASTC&quot;)] static void AutoSetASTC() { textureFormatA = TextureImporterFormat.ASTC_RGBA_5x5; textureFormat = TextureImporterFormat.ASTC_RGB_4x4; StartToConvert(); } [UnityEditor.MenuItem(&quot;TextureTools/Convert/ConvertFormatToETC&quot;)] static void AutoSetETC() { textureFormatA = TextureImporterFormat.ETC_RGB4; textureFormat = TextureImporterFormat.ETC_RGB4; StartToConvert(); } [UnityEditor.MenuItem(&quot;TextureTools/Convert/ConvertFormatToETC2&quot;)] static void AutoSetETC2() { textureFormatA = TextureImporterFormat.ETC2_RGBA8; textureFormat = TextureImporterFormat.ETC2_RGB4; StartToConvert(); } [UnityEditor.MenuItem(&quot;TextureTools/Convert/ConvertFormatToRGBA32&quot;)] static void AutoSetRGBA32() { textureFormatA = TextureImporterFormat.RGBA32; textureFormat = TextureImporterFormat.RGB24; StartToConvert(); } static void SetPicFormat(string path) { path = path.Substring(path.IndexOf(&quot;Assets&quot;)); TextureImporter importer = (TextureImporter)AssetImporter.GetAtPath(path); if (importer.mipmapEnabled == true) importer.mipmapEnabled = false; Texture2D texture = AssetDatabase.LoadAssetAtPath&lt;Texture2D&gt;(path); int textureSize =0; int SizeType = 0; if (!texture) { Cubemap cube = AssetDatabase.LoadAssetAtPath&lt;Cubemap&gt;(path); textureSize = Mathf.Max(cube.height, cube.width); SizeType = FitSize(textureSize); } else { textureSize = Mathf.Max(texture.height, texture.width); SizeType = FitSize(textureSize); } if (importer.DoesSourceTextureHaveAlpha()) { //importer.SetPlatformTextureSettings(&quot;iPhone&quot;, SizeType, TextureImporterFormat.ASTC_RGBA_6x6); importer.SetPlatformTextureSettings(&quot;Android&quot;, SizeType, textureFormatA); } else { //importer.SetPlatformTextureSettings(&quot;iPhone&quot;, SizeType, TextureImporterFormat.ASTC_RGB_6x6); importer.SetPlatformTextureSettings(&quot;Android&quot;, SizeType, textureFormat); } AssetDatabase.ImportAsset(AssetDatabase.GetAssetPath(texture)); } static int[] formatSize = new int[] { 32, 64, 128, 256, 512, 1024, 2048, 4096 ,8192}; static Dictionary&lt;TextureImporterFormat, string&gt; formatDict = new Dictionary&lt;TextureImporterFormat, string&gt; { { TextureImporterFormat.ASTC_RGBA_5x5, &quot;ASTC_RGBA_5x5&quot; },{ TextureImporterFormat.ASTC_RGB_4x4, &quot;ASTC_RGB_4x4&quot; }, { TextureImporterFormat.ETC_RGB4, &quot;ETC_RGB4&quot; }, { TextureImporterFormat.ETC2_RGBA8, &quot;ETC2_RGBA8&quot; },{ TextureImporterFormat.ETC2_RGB4, &quot;ETC2_RGB4&quot; }, { TextureImporterFormat.RGBA32, &quot;RGBA32&quot; },{ TextureImporterFormat.RGB24, &quot;RGB24&quot; }}; static int FitSize(int picValue) { foreach (var one in formatSize) { if (picValue &lt;= one) { return one; } } return 1024; } public static void Bar(string title, string message, int now, int end) { EditorUtility.DisplayProgressBar(title, message + now + &quot;/&quot; + end, (float)now / end); if (now &gt;= end) { EditorUtility.ClearProgressBar(); } } static string GetPathString(string[] strs) { string allPath = &quot;&quot;; foreach (string str in strs) { allPath += str + &quot;\\n&quot;; } return allPath; } static bool isDir(string[] paths) { foreach(string path in paths) if(path.IndexOf(&quot;.&quot;) != -1) return false; return true; } static ArrayList GetFolderList(string[] strs) { ArrayList list = new ArrayList(); for (int i = 1; i &lt;= strs.Length; ++i) { Bar(&quot;æ‰§è¡Œä¸­...&quot;, &quot;æ­£åœ¨ç¡®å®šè·¯å¾„&quot;, i, strs.Length); string path = AssetDatabase.GUIDToAssetPath(strs[i - 1]); list.Add(path); } return list; } static void StartToConvert() { string[] guid = Selection.assetGUIDs; if (guid.Length == 0) { EditorUtility.DisplayDialog(&quot;Error&quot;, &quot;è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶å¤¹&quot;, &quot;ç¡®å®š&quot;); return; } ArrayList list = GetFolderList(guid); string[] folderpath = (string[])list.ToArray(typeof(string)); if(!isDir(folderpath)) { EditorUtility.DisplayDialog(&quot;Error&quot;, &quot;è¯·é€‰æ‹©æ–‡ä»¶å¤¹&quot;, &quot;ç¡®å®š&quot;); return; } if (EditorUtility.DisplayDialog(&quot;tittle&quot;, &quot;æ˜¯å¦è¦å°†\\n&quot; + GetPathString(folderpath) + &quot;è½¬æ¢æˆ&quot; + formatDict[textureFormatA]+ &quot;å’Œ&quot; + formatDict[textureFormat] , &quot;ç¡®å®š&quot;, &quot;å–æ¶ˆ&quot;)) { string[] guids = AssetDatabase.FindAssets(&quot;t:texture&quot;, folderpath); for (int i = 1; i &lt;= guids.Length; ++i) { Bar(&quot;æ‰§è¡Œä¸­â€¦â€¦&quot;, &quot;æ­£åœ¨è½¬æ¢&quot;, i, guids.Length); string path = AssetDatabase.GUIDToAssetPath(guids[i - 1]); SetPicFormat(path); } } } }","categories":[{"name":"Unity","slug":"Unity","permalink":"/categories/Unity/"}],"tags":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/tags/æŠ€æœ¯/"},{"name":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","slug":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","permalink":"/tags/ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢/"},{"name":"å®ä¹ æ€»ç»“","slug":"å®ä¹ æ€»ç»“","permalink":"/tags/å®ä¹ æ€»ç»“/"}],"keywords":[{"name":"Unity","slug":"Unity","permalink":"/categories/Unity/"}]},{"title":"å®ä¹ å°â€œæ€»ç»“â€ï¼šNGUI æ»‘åŠ¨èœå•","slug":"NGUI_ScrollView","date":"2020-07-07T16:00:00.000Z","updated":"2020-07-22T13:22:12.021Z","comments":true,"path":"2020/07/08/NGUI_ScrollView/","link":"","permalink":"/2020/07/08/NGUI_ScrollView/","excerpt":"","text":"NGUI æ»‘åŠ¨èœå•è¦æ±‚ä¸€ä¸ªæ»‘åŠ¨èœå•ï¼Œæ€»å…±æœ‰100ä¸ªç‰©ä½“ï¼Œæ˜¾ç¤º5ä¸ªï¼Œä½†åªèƒ½ç”¨åˆ›å»º100ä¸ªç‰©ä½“ï¼Œåªèƒ½ç”¨6ä¸ªã€‚ ç»“æ„ï¼šUI Root-&gt;Camera/Scroll View-&gt;Grid-&gt;itemsã€‚ Gridç”¨æ¥æ•´ç†å¸ƒå±€ã€‚itemä½¿ç”¨NGUIçš„Textureã€‚ å®ç°æè¿°ï¼šæ­å¥½ç»“æ„åéœ€è¦åœ¨itemä¸Šæ·»åŠ Box Colliderå’ŒUI Drag ScrollViewè„šæœ¬ã€‚å¹¶ä¸”è®¾ç½®UI Drag ScrollViewä¸­çš„ScrollViewä¸ºè‡ªèº«çˆ¶çº§çš„é‚£ä¸ªScrollViewã€‚åŒæ—¶éœ€è¦æ³¨æ„Box Collideræœ‰æ²¡æœ‰matchæ•´ä¸ªitemï¼Œæ²¡æœ‰çš„è¯å¯ä»¥ç‚¹å‡»UI Widgetä¸‹Colliderçš„auto-adjust to matchå‹¾é€‰æ¡†ã€‚ Box Colliderç”¨äºç›‘å¬è§¦æ‘¸æ»‘åŠ¨äº‹ä»¶ï¼Œæ®è¯´æ˜¯NGUIçš„æ ‡å‡†æ“ä½œï¼ŒUIDragScrollViewä¼šfind ScrollViewï¼Œç„¶åç›´æ¥è°ƒç”¨ScrollViewçš„Dragã€Pressã€Scrollã€‚è¿™æ ·å°±å¯ä»¥æ‹–åŠ¨äº†ã€‚ ä»¥çºµå‘æ»‘åŠ¨ä¸ºä¾‹ï¼š éœ€è¦å®ç°å‘ä¸‹ç¿»å°†ä¸Šé¢çš„å…ƒç´ ç§»åˆ°ä¸‹é¢ï¼Œå‘ä¸Šç¿»è¦æŠŠä¸‹é¢çš„ç§»åŠ¨åˆ°ä¸Šé¢ã€‚ è¿™ä¸ªå¯ä»¥é€šè¿‡è°ƒæ•´Gridä¸­itemçš„LocalPositionæ¥å®Œæˆã€‚å½“é¡¶å±‚itemæ¶ˆå¤±åœ¨æ˜¾ç¤ºåŒºåŸŸæ—¶ï¼Œå°†æ¶ˆå¤±çš„itemä»å½“å‰ä½ç½®ç§»åŠ¨å½“å‰ä½ç½®+Gridçš„Childæ•°é‡*Gridçš„Cellé«˜åº¦ï¼Œä¹Ÿå°±æ˜¯è®¾ç½®LocalPositionä¸ºè¿™ä¸ªå€¼ã€‚ç„¶åæ”¹å˜itemçš„å†…å®¹å³å¯ã€‚ ä½¿ç”¨listæ¥å‚¨å­˜æ•°æ®ï¼Œç”¨ç´¢å¼•æ¥è®°å½•å½“å‰æ˜¾ç¤ºæ•°æ®çš„å¤´å’Œå°¾ã€‚ é¦–å…ˆéœ€è¦è·å¾—æ‰€æœ‰itemçš„ä½ç½®ä¿¡æ¯ã€‚æ¥ä¸‹æ¥å…¶æ›´æ”¹é¡¶å±‚itemçš„ä¿¡æ¯å’Œä½ç½®ï¼Œæœ€åæ›´æ–°ç´¢å¼•å’Œé˜ˆå€¼ã€‚å¦‚ä½•åˆ¤æ–­å…ƒç´ å®Œå…¨æ¶ˆå¤±ï¼Œå¯ä»¥ä½¿ç”¨UIPanelçš„clipOffsetæ¥åˆ¤æ–­ã€‚å½“offsetå¤§äºæˆ–å°äºä¸€ä¸ªitemçš„é«˜åº¦æ—¶å€™å°±è¯´æ˜è¿™ä¸ªè¿™ä¸ªitemæ¶ˆå¤±äº†ã€‚ä¸Šä¸‹ç§»åŠ¨éƒ½æ˜¯ä¸€æ ·çš„ã€‚ å…¶å®ä¹Ÿå¯ä»¥è·å–Gridä¸‹çš„itemï¼Œå¹¶ä¸”æ›´æ–°æ•°æ®ï¼Œç»‘å®šOnDragäº‹ä»¶ã€‚äº‹ä»¶ç»‘å®šä½¿ç”¨UIEventListenerçš„Get().OnDragã€‚è¿™ä¸ªOnDragæ¥å—çš„å‡½æ•°å‚æ•°ä¸º(GameObjectï¼ŒVector2)å…¶ä¸­vector2å°±æ˜¯ç§»åŠ¨çš„å‘é‡ã€‚é€šè¿‡åˆ¤æ–­è¿™ä¸ªå‘é‡çš„yï¼Œå°±èƒ½çŸ¥é“å‘ä¸Šè¿˜æ˜¯å‘ä¸‹æ»‘åŠ¨ã€‚ å…³äºScrollBarï¼Œé€šè¿‡UIPanelçš„clipOffestå±æ€§é™¤ï¼ˆlistä¸­çš„æ•°é‡*Gridä¸€ä¸ªcellçš„é«˜åº¦ï¼‰å°±å¯ä»¥çš„åˆ°ç›¸å¯¹ä½ç½®ã€‚è®¾ç½®ScrollBarçš„valueå°±å¯ä»¥é€šè¿‡ScrollViewæ¥æ§åˆ¶ScrollBarã€‚ ä½†æ˜¯è¿™ä¸ªæƒ…å†µä¸‹ä¸èƒ½ä½¿ç”¨ScrollBarçš„OnValueChangeæ§åˆ¶æ»‘åŠ¨çª—å£ã€‚å› ä¸ºå¯¹ScrollBarçš„Valueè®¾ç½®ä¸€æ¬¡å€¼ä¹Ÿä¼šå‡ºå‘OnValueChangeã€‚ å¦‚æœæƒ³ScrollBarå¯¹æ»‘åŠ¨çª—å£ä¹Ÿè¿›è¡Œè®¾ç½®çš„è¯ï¼Œä¸ªäººåšæ³•æ˜¯é€‰æ‹©é‡æ’åˆ—è¡¨ï¼Œé€šè¿‡OnValueChangeè§¦å‘é‡æ’ï¼Œé€šè¿‡ScrollBarçš„Valueå¯ä»¥è®¡ç®—å‡ºåº”æ˜¾ç¤ºçš„æ˜¯ä»ç¬¬å‡ ä¸ªå¼€å§‹ï¼Œç„¶åå°†æ‰€æœ‰itemä»è¿™ä¸ªä½ç½®å¼€å§‹æ’ã€‚ æœ‰ä¸ªå°BUGï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆæœ‰æ—¶å€™è°ƒæ•´æ»‘å—åä¼šå›å¼¹ã€‚ å›å¼¹åŸå› å¯èƒ½æ˜¯ScrollViewçš„Momentum AmountåŸå› ï¼Œå¯¼è‡´æ»‘åŠ¨åä¼šæœ‰ä¸ªåŠ›çš„ååº”ï¼Œå¯¼è‡´itemä¾ç„¶åœ¨æ»‘åŠ¨ï¼Œè¿™æ—¶å€™æ“ä½œScrollBarå°±ä¼šå¯¼è‡´æœ‰å‚æ•°æ²¡æœ‰åŠæ—¶æ›´æ–°è€Œå‡ºé”™ã€‚æŠŠè¿™ä¸ªå€¼è®¾ä¸º0å°±å¥½äº†ã€‚ æ€»ç»“è¯´å®è¯ï¼Œè¿™ä¸ªæœ‰å¾ˆå¤§é—®é¢˜ï¼Œå› ä¸ºå®é™…ä¸Šé‡æ’æ¯å›éƒ½è¢«è§¦å‘ï¼Œåœ¨ScrollViewä¸Šæ»‘åŠ¨å›è¥¿å®‰å‡ºå‘é‡æ’ç„¶åå†ç§»åŠ¨å…ƒç´ ï¼Œä¸æ˜¯å¾ˆå¥½ã€‚ä½†æ˜¯æ•ˆæœä¸Šçœ‹æ˜¯æ²¡ä»€ä¹ˆæ²¡é—®é¢˜çš„ã€‚ using System; using System.Collections.Generic; using UnityEngine; public class Roll : MonoBehaviour { public UIGrid grid; public UIPanel panel; public UIScrollBar scrollBar; public List&lt;ItemProperty&gt; list = new List&lt;ItemProperty&gt;(); public int itemNum = 3; public float cellHeight = 0.0f; float nextHeight = 120.0f; float preHeight = 1.0f; int frontIndex = 0; int tailIndex = 4; int realFrontIndex = 0; int realTailIndex = 4; List&lt;string&gt; nameList = new List&lt;string&gt;(); void Start() { SetRandomName(); list = GridItemUtil.GetItems(grid.gameObject); for (int i = 0; i &lt; list.Count; ++i) { grid.gameObject.transform.GetChild(i).gameObject.transform.Find(&quot;Label&quot;).GetComponent&lt;UILabel&gt;().text = nameList[i]; UIEventListener.Get(grid.gameObject.transform.GetChild(i).gameObject).onDrag = ChangeScrollValue; } } void ChangeScrollValue(GameObject go, Vector2 deltaVector2) { if (deltaVector2.y &gt; 0) MoveToBottom(); else MoveToTop(); scrollBar.value = -(panel.clipOffset.y) / ((nameList.Count - itemNum) * cellHeight); } public void ChangeScrollView() { float offset = scrollBar.value * (nameList.Count - itemNum) * cellHeight; panel.clipOffset = new Vector2(0, -offset); panel.gameObject.transform.localPosition = new Vector3(0, offset, 0); int c = (int)(offset / cellHeight); c = c &gt; nameList.Count - list.Count ? nameList.Count - list.Count : c; for (int i = 0; i &lt; list.Count; ++i) { list[i].reName(nameList[c]); list[i].item.transform.localPosition = new Vector3(0, -c * cellHeight, 0); grid.gameObject.transform.GetChild(i).gameObject.transform.localPosition = new Vector3(0, -c * cellHeight, 0); c++; } nextHeight = (c - list.Count + 1) * cellHeight; preHeight = (c - list.Count) * cellHeight + 1.0f; realFrontIndex = c - list.Count; realTailIndex = c; frontIndex = 0; tailIndex = 4; } void SetRandomName() { for (int i = 0; i &lt; 100; ++i) { nameList.Add(&quot;No.&quot; + i); } } void MoveToBottom() { list = GridItemUtil.GetItems(grid.gameObject); list[frontIndex].reName(nameList[++realTailIndex]); list[frontIndex].item.transform.localPosition = list[frontIndex].item.transform.localPosition + new Vector3(0, -(grid.gameObject.transform.childCount) * cellHeight, 0); grid.gameObject.transform.GetChild(frontIndex).gameObject.transform.localPosition = list[frontIndex].item.transform.localPosition; nextHeight += cellHeight; preHeight += cellHeight; tailIndex = frontIndex; frontIndex++; frontIndex %= list.Count; realFrontIndex++; } void MoveToTop() { list = GridItemUtil.GetItems(grid.gameObject); list[tailIndex].reName(nameList[--realFrontIndex]); list[tailIndex].item.transform.localPosition = list[tailIndex].item.transform.localPosition + new Vector3(0, (grid.gameObject.transform.childCount) * cellHeight, 0); grid.gameObject.transform.GetChild(tailIndex).gameObject.transform.localPosition = list[tailIndex].item.transform.localPosition; nextHeight -= cellHeight; preHeight -= cellHeight; frontIndex = tailIndex; tailIndex--; tailIndex = (tailIndex + list.Count) % list.Count; realTailIndex--; } }","categories":[{"name":"Unity","slug":"Unity","permalink":"/categories/Unity/"}],"tags":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/tags/æŠ€æœ¯/"},{"name":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","slug":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","permalink":"/tags/ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢/"},{"name":"å®ä¹ æ€»ç»“","slug":"å®ä¹ æ€»ç»“","permalink":"/tags/å®ä¹ æ€»ç»“/"}],"keywords":[{"name":"Unity","slug":"Unity","permalink":"/categories/Unity/"}]},{"title":"UnityåŠ¨æ€åŠ è½½ç‰¹æ•ˆ","slug":"Unity_LoadFXDynamically","date":"2020-06-11T16:00:00.000Z","updated":"2020-07-15T13:57:43.714Z","comments":true,"path":"2020/06/12/Unity_LoadFXDynamically/","link":"","permalink":"/2020/06/12/Unity_LoadFXDynamically/","excerpt":"","text":"ç®€å•çš„åŠ¨æ€åŠ è½½ç‰¹æ•ˆæ–¹æ³•å‡†å¤‡è‡ªç„¶å°±æ˜¯éœ€è¦çš„ç‰¹æ•ˆäº†ã€‚å°†ç‰¹æ•ˆåšå¥½åä¿å­˜ä¸ºprefabæ”¾åœ¨Resourceæ–‡ä»¶å¤¹ä¸‹ã€‚ æ•´ä½“æ€è·¯åŠ¨æ€åŠ è½½ç‰¹æ•ˆä¸»è¦åˆ†ä¸ºåŠ è½½ï¼Œå®ä¾‹åŒ–å…‹éš†ä½“ï¼Œå¤„ç†æ•ˆæœé€»è¾‘ï¼Œé”€æ¯å…‹éš†ä½“å‡ ä¸ªæ­¥éª¤ï¼Œè‡³äºä¸ºä»€ä¹ˆè¦ç”¨å…‹éš†ä½“ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ä¸€ä¸ªç‰¹æ•ˆåŒæ—¶å‡ºç°å¾ˆå¤šæ¬¡çš„æ—¶å€™ï¼Œå¤šæ¬¡çš„åŠ è½½ä¼šæµªè´¹æ—¶é—´ï¼Œä»ä¸€ä¸ªå·²ç»åŠ è½½å¥½çš„ç‰©ä½“å…‹éš†çš„é€Ÿåº¦ä¼šç›¸å¯¹å¥½ä¸€äº›ã€‚ åŠ è½½Resources.Loadè¿™ä¸ªæ–¹æ³•æœ‰ä¸ªæ¨¡æ¿æ–¹æ³•ï¼Œè¿”å›å€¼å°±æ˜¯æ¨¡æ¿å€¼ã€‚é»˜è®¤æ˜¯è¿”å›Objectç±»å‹ã€‚å‚æ•°æ˜¯stringç±»å‹çš„è·¯å¾„ï¼Œè·¯å¾„æ˜¯åœ¨Resourceæ–‡ä»¶å¤¹ä¸‹çš„ã€‚ Object Loadobj = Resources.Load(&quot;Path&quot;); é€šå¸¸ç®€å•æƒ…å†µä¸‹ä¿æŒObjectç±»å‹å°±å¯ä»¥ã€‚ è¿˜æœ‰ä¸ªå¼‚æ­¥æ–¹æ³•ï¼š Resources.LoadAsyncå‚æ•°æ˜¯å‚æ•°æ˜¯stringç±»å‹çš„è·¯å¾„ï¼Œè·¯å¾„åŒæ ·æ˜¯åœ¨Resourceæ–‡ä»¶å¤¹ä¸‹çš„ã€‚è€Œè¿”å›å€¼æ˜¯ResourceRequestã€‚ ResourceRequestå±æ€§æœ‰ï¼šProperties | Descâ€”â€”â€”â€”-|â€”â€”â€”â€”â€” asset | åŠ è½½çš„ç‰©ä½“ allowSceneActivation | å½“åœºæ™¯åŠ è½½å®Œæˆæ—¶æ˜¯å¦å…è®¸æ¿€æ´»åœºæ™¯ isDone | åœºæ™¯æ˜¯å¦åŠ è½½å®Œ priority | è°ƒæ•´å¼‚æ­¥æ“ä½œçš„é¡ºåºçš„ä¼˜å…ˆçº§ progress | åŠ è½½è¿›åº¦ é€šè¿‡ResourceRequest.assetå°±å¯ä»¥è·å¾—åŠ è½½çš„ç‰©ä½“ã€‚ å®ä¾‹åŒ–å…‹éš†ä½“Object.Instantiateå°±å¯ä»¥åœ¨åœºæ™¯ä¸­å®ä¾‹åŒ–å‡ºä¸€ä¸ªå…‹éš†ä½“ã€‚æœ‰å¤šä¸ªé‡è½½å‡½æ•° public static Object Instantiate(Object original); public static Object Instantiate(Object original, Transform parent); public static Object Instantiate(Object original, Transform parent, bool instantiateInWorldSpace); public static Object Instantiate(Object original, Vector3 position, Quaternion rotation); public static Object Instantiate(Object original, Vector3 position, Quaternion rotation, Transform parent); Parameters Desc original è¦å…‹éš†çš„ç‰©ä½“ position å…‹éš†ä½“çš„ä½ç½® rotation å…‹éš†ä½“çš„æ–¹å‘ parent å…‹éš†ä½“çš„çˆ¶å¯¹è±¡ instantiateInWorldSpace å½“è®¾ç½®çˆ¶å¯¹è±¡æ—¶å€™ï¼Œä¼ å…¥trueåˆ™å…‹éš†ä½“ç›´æ¥å¤„äºä¸–ç•Œåæ ‡ï¼Œè‹¥ä¸ºfalseåˆ™æ˜¯çˆ¶å¯¹è±¡çš„ç›¸å¯¹åæ ‡ã€‚ è¿”å›å€¼æ˜¯å…‹éš†ä½“ã€‚ æœ€ç®€å•çš„æ“ä½œå°±æ˜¯ï¼š GameObject gameObj = Object.Instantiate(Loadobj) as GameObject; ç„¶åå¯¹gameObjåšæ“ä½œã€‚ å¤„ç†é€»è¾‘è¿™ä¸ªå°±è·Ÿæ®éœ€è¦ï¼Œåœ¨è¦åŠ è½½çš„ç‰¹æ•ˆä¸Šé¢æŒ‚ä¸Šç‰¹æ•ˆç”Ÿæˆåéœ€è¦éµå¾ªçš„é€»è¾‘å³å¯ã€‚ é”€æ¯å…‹éš†ä½“Object.Destroyå‡½æ•°å°±å¯ä»¥ä»åœºæ™¯ä¸­ç§»é™¤ç‰©ä½“ã€‚å‚æ•°ä¸ºï¼šParameters | Descâ€”â€”â€”â€”-|â€”â€”â€”â€”â€” obj | è¦åˆ é™¤çš„ç‰©ä½“ t | å»¶è¿Ÿtæ—¶é—´åˆ é™¤ç‰©ä½“ï¼Œfloatç±»å‹å¦‚æœobjæ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œåˆ™ä»å°†ç»„ä»¶ä»GameObjectç§»é™¤å¹¶é”€æ¯ï¼Œè‹¥objæ˜¯ä¸€ä¸ªGameObjectï¼Œåˆ™é”€æ¯GameObjectåŠå…¶å·¦å³å­å¯¹è±¡å’Œç»„ä»¶ã€‚ ä½¿ç”¨ä¹Ÿå¾ˆç®€å•ï¼Œéœ€è¦ç§»é™¤çš„æ—¶å€™è°ƒç”¨å°±å¯ä»¥ã€‚ Object.Destroy(gameObj); å°æç¤ºå¦‚æœç‰¹æ•ˆå…è®¸è‡ªèº«é‡ç”¨ï¼Œå…¶å®å¯ä»¥ä¿ç•™ä¸€ä¸ªå°çš„å…‹éš†ä½“åˆ—è¡¨æ¥é¿å…å®ä¾‹åŒ–å…‹éš†ä½“å’Œé”€æ¯å…‹éš†ä½“çš„å¼€é”€ï¼Œé€šè¿‡è®¾ç½®GameObjectçš„Activeæ¥ç®¡ç†æ˜¾ç¤ºï¼Œè‹¥åˆ—è¡¨æ•°ç›®ä¸å¤Ÿå¯ä»¥åœ¨å®ä¾‹åŒ–ç„¶ååˆ é™¤ã€‚ è¿˜å¯ä»¥å»ºç«‹ä¸€ä¸ªç»Ÿä¸€çš„ç‰¹æ•ˆç±»æ¥ç®¡ç†ç‰¹æ•ˆæœ¬èº«ï¼Œå¹¶ä¾æ®ç‰¹æ•ˆç±»å‹åˆ¶å®šå„è‡ªçš„æ§åˆ¶ç±»ã€‚è·¯å¾„æ–¹é¢å¯ä»¥ç”¨ä¸€ä¸ªç±»ä¸“é—¨ç®¡ç†è·¯å¾„ã€‚","categories":[{"name":"Unity","slug":"Unity","permalink":"/categories/Unity/"}],"tags":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/tags/æŠ€æœ¯/"},{"name":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","slug":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","permalink":"/tags/ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢/"}],"keywords":[{"name":"Unity","slug":"Unity","permalink":"/categories/Unity/"}]},{"title":"Unityå¼‚æ­¥åŠ è½½åœºæ™¯","slug":"Unity_LoadSceneAsynchronously","date":"2020-06-10T16:00:00.000Z","updated":"2020-07-15T13:57:43.714Z","comments":true,"path":"2020/06/11/Unity_LoadSceneAsynchronously/","link":"","permalink":"/2020/06/11/Unity_LoadSceneAsynchronously/","excerpt":"","text":"è¿™é‡Œæ˜¯ä¸ªç®€å•çš„å®ç°åœºæ™¯å¼‚æ­¥åŠ è½½å¹¶æ˜¾ç¤ºè¿›åº¦ï¼ˆé™„åŠ æ·¡å…¥æ·¡å‡ºæ•ˆæœï¼‰åœºæ™¯åŠ è½½åŒæ­¥æ–¹å¼è¿˜æ˜¯è¦æä¸€å˜´åŠ è½½æ–¹å¼å“ˆã€‚ SceneManager.LoadSceneæ–¹æ³•æ˜¯åŒæ­¥åŠ è½½åœºæ™¯ã€‚ å‚æ•°ç®€å•æ¥ç”¨å°±æ˜¯åœºæ™¯åç§°æˆ–åœºæ™¯åœ¨BuildSettingä¸‹çš„ç´¢å¼•ã€‚ä½¿ç”¨åœºæ™¯åç§°æ—¶ï¼Œä¼šè‡ªåŠ¨ä»Sceneæ–‡ä»¶å¤¹ä¸‹å¯»æ‰¾åœºæ™¯ã€‚æ— è¿”å›å€¼ã€‚ å¼‚æ­¥æ–¹å¼SceneManager.LoadSceneAsyncæ–¹æ³•æ˜¯å¼‚æ­¥åŠ è½½åœºæ™¯ï¼Œå°±æ˜¯æ–‡ç« çš„ä¸»è§’ã€‚ å‚æ•°ï¼šParameters | Descâ€”â€”â€”â€”-|â€”â€”â€”â€”â€” sceneName | åœºæ™¯åç§°æˆ–è·¯å¾„ sceneBuildIndex | åœºæ™¯åœ¨BuildSettingä¸‹çš„ç´¢å¼• mode | SceneManager.LoadSceneMode,é»˜è®¤Singleï¼Œä¼šå¸è½½å½“å‰åœºæ™¯ï¼Œè‹¥ä¸ºAdditiveåˆ™ä¼šåœ¨å½“å‰åœºæ™¯ä¸­æ·»åŠ ä¸‹ä¸€ä¸ªåœºæ™¯ã€‚ parameters | ä¸€ä¸ªå°†å„ç§å‚æ•°å‚¨å­˜åˆ°å•ç‹¬ä½ç½®çš„ç»“æ„ä½“ï¼Œé™¤äº†åç§°å’Œç´¢å¼• è¿”å›å€¼ä¸ºAsyncOperation è¿™é‡Œparameterä¸€èˆ¬ä¸ä¼šç”¨åˆ°ã€‚ä½¿ç”¨åœºæ™¯åç§°æ—¶å€™å‡½æ•°ä¼šä»Sceneæ–‡ä»¶å¤¹ä¸‹å¯»æ‰¾åœºæ™¯ã€‚åœºæ™¯åŠ è½½å¥½åä¼šç›´æ¥è¿›å…¥åŠ è½½çš„åœºæ™¯ã€‚ æ˜¾ç¤ºè¿›åº¦UIæ–¹é¢ä½¿ç”¨Slideræ¥è¡¨ç¤ºè¿›åº¦æ¡å’ŒTextæ¥è¡¨ç¤ºæ–‡å­—ä¿¡æ¯ã€‚ æ˜¾ç¤ºè¿›åº¦å°±éœ€è¦å¼‚æ­¥åŠ è½½çš„è¿”å›å€¼AsyncOperationäº†ã€‚AsyncOperationçš„å±æ€§æœ‰ï¼šProperties | Descâ€”â€”â€”â€”-|â€”â€”â€”â€”â€” allowSceneActivation | å½“åœºæ™¯åŠ è½½å®Œæˆæ—¶æ˜¯å¦å…è®¸æ¿€æ´»åœºæ™¯ isDone | åœºæ™¯æ˜¯å¦åŠ è½½å®Œ priority | è°ƒæ•´å¼‚æ­¥æ“ä½œçš„é¡ºåºçš„ä¼˜å…ˆçº§ progress | åŠ è½½è¿›åº¦ è¿™é‡Œä»¬æˆ‘ä»¬éœ€è¦ç”¨åˆ°çš„æ˜¯progressã€‚progressè¿”å›çš„æ˜¯0-1çš„å€¼ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ç”¨æ¥åšè¿›åº¦æ¡Sliderçš„valueã€‚ä½œä¸ºæ˜¾ç¤ºç»™äººçœ‹çš„æ–‡å­—éƒ¨åˆ†ï¼Œç›´æ¥ä¹˜100å†åŠ ä¸Š%å°±å¥½äº†ã€‚ æ·¡å…¥æ·¡å‡ºæ·¡å…¥æ·¡å‡ºæœ€ç®€å•çš„æƒ³æ³•å°±æ˜¯ä½¿ç”¨ä¸€å¼ é»‘è‰²çš„çº¯è‰²å±‚ç„¶åè°ƒæ•´é€æ˜åº¦ã€‚ æˆ‘ä»¬åªéœ€è¦ä¸ªæ ¹æ®æ—¶é—´è°ƒæ•´çº¯è‰²å±‚çš„é€æ˜åº¦å°±å¥½ã€‚ç®€å•æ¥è®²å°±æ˜¯æ–°å»ºä¸€ä¸ªUI.Imageï¼Œè°ƒæ•´å®ƒçš„é¢œè‰²ï¼Œä½†æ˜¯ç”±äºä¸èƒ½å•ç‹¬è°ƒæ•´é¢œè‰²çš„Alphaé€šé“ï¼Œæ‰€ä»¥åªèƒ½ç›´æ¥èµ‹å€¼é¢œè‰²ã€‚ æ·¡å…¥ç¤ºä¾‹ï¼š public Image img; float Alpha = 1.0f; void Update() { Alpha -= Time.deltaTime; img.color = new Color(0, 0, 0, Alpha); } æ€»ä½“å®ç°æ•´ä½“æ€è·¯ä¸€ç§æƒ³æ³•æ˜¯ï¼š è®¾æˆ‘ä»¬ä»Aåœºæ™¯åŠ è½½åˆ°Cåœºæ™¯ã€‚ä¸ºäº†æ˜¾ç¤ºè¿›åº¦ï¼Œæ·»åŠ ä¸­é—´åœºæ™¯Bä½œä¸ºæ˜¾ç¤ºLoadingåª’ä»‹ã€‚åœ¨Båœºæ™¯ä¸­åšUIï¼Œç„¶åé€šè¿‡å…¨å±€å˜é‡ç¡®å®šè¦è·³è½¬çš„åœºæ™¯ã€‚ å¦ä¸€ç§æƒ³æ³•æ˜¯ï¼š è¦è¿›è¡Œåœºæ™¯åˆ‡æ¢æ—¶å€™ï¼Œåœ¨Aåœºæ™¯ä¸­ç”Ÿæˆå·²ç»åšå¥½çš„Loadingçš„UIï¼ŒåŠ è½½å¥½ååœ¨è·³è½¬ã€‚ ä¸¤ç§éƒ½å¯ä»¥ï¼Œè¿™é‡Œç”¨ç¬¬ä¸€ç§ï¼Œç¬¬äºŒç§ç›´æ¥æŠŠåœºæ™¯Bçš„UIæ‹–å‡ºæ¥ï¼Œç„¶åæŒ‰éœ€åŠ è½½å°±å¥½ã€‚ åœºæ™¯åˆ‡æ¢ç¬¬ä¸€æ­¥ï¼Œä¸è®ºå¦‚ä½•è¦è¿›å…¥Loadingåœºæ™¯ï¼Œç„¶åå†è¿›å…¥æˆ‘ä»¬éœ€è¦çš„åœºæ™¯ã€‚è¿™æ—¶å€™å°±æ¶‰åŠä¿å­˜è¦è¿›å…¥åœºæ™¯åå­—ã€‚æˆ‘ä»¬è®¾ç½®å…¨å±€å˜é‡æ¥è§£å†³ public class SceneLoadProperty { public static string NextloadScene = &quot;SampleScene&quot;; } ç„¶åå°±æ˜¯è¿›å…¥Loadingåœºæ™¯ã€‚ public void ToLoad(string nextScene) { SceneLoadProperty.NextloadScene = nextScene; SceneManager.LoadScene(&quot;Loading&quot;); } å› ä¸ºçš„Loadingåœºæ™¯éå¸¸ç®€å•ï¼Œå°±æ˜¯UIï¼Œæ‰€ä»¥åŠ è½½å¾ˆå¿«ï¼ŒåŒæ­¥å¼‚æ­¥æ²¡æœ‰å•¥å¤§åŒºåˆ«ï¼Œéƒ½å¯ä»¥ã€‚éœ€è¦åœºæ™¯åˆ‡æ¢çš„æ—¶å€™å°±è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè¿›å…¥Loadingåœºæ™¯å†è¯´åˆ«çš„ã€‚ æ¥ä¸‹æ¥è¿›å…¥äº†Loadingåœºæ™¯ã€‚æˆ‘ä»¬éœ€è¦å±•ç¤ºåŠ è½½è¿›åº¦ï¼Œæ­£å¦‚ä¸Šé¢æ‰€è¯´ï¼Œä½¿ç”¨Textå’ŒSlideræ¥å®ç°ã€‚ç”¨ä¸Šé¢æ–¹æ³•ä¹Ÿå¯ä»¥ã€‚ä½†è¿™ä¸ªæ—¶å€™æœ‰ä¸ªå°äº‹æƒ…ï¼Œå¦‚æœåŠ è½½çš„åœºæ™¯è¿‡äºç®€å•ä»¥è‡³äºä¸€ç¬é—´å®Œæˆï¼Œçœ‹ä¸åˆ°åŠ è½½ç•Œé¢ã€‚ç„¶æ˜¯åˆæƒ³æ˜¾ç¤ºæ€ä¹ˆåŠã€‚è¿™ä¸ªæ—¶å€™å°±æ˜¯åšå‡è¿›åº¦æ¡æ¥å®ç°ã€‚ ä¸ºäº†ä¸è®©åœºæ™¯åŠ è½½å¥½å°±æ¿€æ´»ï¼Œæˆ‘ä»¬ç”¨åˆ°äº†å¼‚æ­¥åŠ è½½ç­‰æˆ‘è¿”å›å€¼AsyncOperationä¸­çš„allowSceneActivationå±æ€§ï¼Œé¦–å…ˆå°†å…¶è®¾ç½®ä¸ºfalseå°±å¯ä»¥è§£å†³é—®é¢˜ã€‚ AsyncOperation async; async = SceneManager.LoadSceneAsync(SceneLoadProperty.NextloadScene); async.allowSceneActivation = false; ç„¶åç­‰åœºæ™¯åŠ è½½å¥½åœ¨è®¾ç½®å…¶ä¸ºtrueå°±å¥½äº†ã€‚ä½†æ˜¯è¿™å¸¦æ¥ä¸€ä¸ªé—®ï¼Œprogresså±æ€§è¯´æ˜ä¸­æåˆ°ï¼Œå½“allowSceneActivationä¸ºfalseæ—¶å€™progressæœ€ç»ˆä¼šåœåœ¨0.9ï¼Œç›´åˆ°allowSceneActivationå˜ä¸ºtrueã€‚æ‰€ä»¥æ³¨æ„å¯¹progresså¤„ç†ä¸‹å†ä½¿ç”¨ã€‚ç®€å•æ¥è®²å°±æ˜¯ float fakeRate = 0.0f; fakeRate = Mathf.Lerp(fakeRate,async.progress/9*10,Time.deltaTime); è¿™æ ·å°±æ˜¯å¯¹è¿›åº¦è¿›è¡Œçº¿æ€§æ’å€¼ï¼Œè¿›åº¦æ¡ä¼šå‡åŒ€å¢åŠ åˆ°100%ã€‚ç„¶ååˆ°100%æ—¶å€™æŠŠallowSceneActivationè®¾ä¸ºtrueï¼Œå°±ä¼šè¿›å…¥ä¸‹ä¸€ä¸ªåœºæ™¯äº†ã€‚ æ·¡å…¥æ·¡å‡ºä½¿ç”¨UIæ–¹æ³•ï¼Œå°±å¯ä»¥ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨åç¨‹,è¿™æ ·å°±å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªUIäº†ã€‚ public Image img; float Alpha = 1.0f; void Start() { StartCoroutine(FadeIn()); } void Update() { if(SceneLoadProperty.isOut) FadeOut() } IEnumerator FadeIn() { Alpha = 1.0f; while(Alpha&gt;0) { Alpha -= Time.deltaTime; img.color = new Color(0, 0, 0, Alpha); yield return null; } } IEnumerator FadeOut() { Alpha = 0.0f; while (Alpha &lt; 1) { Alpha += Time.deltaTime; img.color = new Color(0, 0, 0, Alpha); yield return null; } }","categories":[{"name":"Unity","slug":"Unity","permalink":"/categories/Unity/"}],"tags":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/tags/æŠ€æœ¯/"},{"name":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","slug":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","permalink":"/tags/ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢/"}],"keywords":[{"name":"Unity","slug":"Unity","permalink":"/categories/Unity/"}]},{"title":"Unityè§’è‰²æ§åˆ¶","slug":"Unity_CharacterController&Rigidbody","date":"2020-05-25T16:00:00.000Z","updated":"2020-07-15T14:28:08.910Z","comments":true,"path":"2020/05/26/Unity_CharacterController&Rigidbody/","link":"","permalink":"/2020/05/26/Unity_CharacterController&Rigidbody/","excerpt":"","text":"å…¶å®è¿™é‡Œæ˜¯å®ç°è§’è‰²ç§»åŠ¨çš„é—®é¢˜CharacterConttrollerè§’è‰²æ§åˆ¶å™¨ï¼Œå­—é¢å«ä¹‰ï¼Œå°±æ˜¯æ§åˆ¶å™¨ï¼Œè‡ªå¸¦ç¢°æ’æ£€æµ‹ã€‚ å±æ€§ Property: Function: Slope Limit è§’è‰²çˆ¬å¡æœ€å¤§è§’åº¦ Step Offset è§’è‰²æœ€å¤§å¯è¿ˆä¸Šçš„å°é˜¶é«˜åº¦ Skin width è¦†ç›–äºè§’è‰²è¡¨é¢çš„â€œçš®è‚¤â€åšåº¦ Min Move Distance æœ€å°ç§»åŠ¨è·ç¦» Center æ§åˆ¶å™¨èƒ¶å›Šçš„ä¸­å¿ƒä½ç½® Radius æ§åˆ¶å™¨èƒ¶å›Šçš„åŠå¾„ Height æ§åˆ¶å™¨èƒ¶å›Šçš„é«˜åº¦ï¼Œèƒ¶å›Šä¸¤ç«¯åœ†å¿ƒä¹‹é—´è·ç¦» å‰é¢å‚æ•°å’Œè§’è‰²çš„æ§åˆ¶æœ‰å…³ï¼Œåé¢ä¸‰ä¸ªä¸»è¦å’Œç¢°æ’æœ‰å…³ï¼Œå½“ç„¶ACTä¸€èˆ¬éƒ½ä¼šå¦å¤–ç»‘ç¢°æ’ï¼Œæ¥åšæ›´å¤æ‚çš„é€»è¾‘ï¼Œå¦‚æ‰“åˆ°å¤´å’Œæ‰“åˆ°æ‰‹ä¼¤å®³ä¸ä¸€æ ·ã€‚ CharacterControllerè¯´ç™½äº†å°±æ˜¯æä¾›äº†ä¸€ä¸ªç®€å•çš„ç¢°æ’å’Œä¸€äº›ç®€å•å‚æ•°ç½¢äº†ï¼Œå…·ä½“å…¶ä»–ä¸œè¥¿éƒ½éœ€è¦æˆ‘ä»¬è‡ªå·±æ¥å†™ã€‚ å¦‚æœä½¿ç”¨è‡ªå¸¦çš„èƒ¶å›Šå°±å¯ä»¥çš„è¯ï¼Œé‚£ä¹ˆè°ƒæ•´å¥½èƒ¶å›Šå¤§å°åå°±å¯ä»¥å†™è§’è‰²çš„ç§»åŠ¨çš„ä»£ç äº†ã€‚ è·å–è¾“å…¥ç¬¬ä¸€ä¸ªå…³é”®ç‚¹ä¾¿æ˜¯è·å–è¾“å…¥ï¼Œé€šè¿‡Inputç±»å¯ä»¥è·å–ã€‚ä½¿ç”¨GetKey()æ–¹æ³•å¯ä»¥è·å–åˆ°æŒ‰ä¸‹çš„æŒ‰é”®ï¼Œè‹¥æŒ‰é”®ä¸€ç›´è¢«æŒ‰ç€ï¼ŒGetKey()å°†ä¼šä¸€ç›´è·å–ï¼ŒåŒæ ·è¿˜æœ‰GetKeyDown()å’ŒGetKeyUp()ä¸¤ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«è·å–æŒ‰é”®è¢«æŒ‰ä¸‹çš„é‚£ä¸€ä¸‹å’ŒæŠ¬èµ·çš„é‚£ä¸€ä¸‹ã€‚ä¸€ç›´æŒ‰ç€GetKeyDown()ä¹Ÿåªä¼šè§¦å‘ä¸€æ¬¡ã€‚é€šè¿‡è¿™ä¸‰ä¸ªå‡½æ•°å¯ä»¥çµæ´»ä½¿ç”¨è¾¾åˆ°ä¸åŒçš„å–å¾—æŒ‰é”®å€¼çš„æ•ˆæœã€‚ å½“ç„¶ï¼Œç®€å•æ¥è¯´æŒ‰é”®å°±å¯ä»¥è§£å†³å¤§éƒ¨åˆ†çš„è¾“å…¥é—®é¢˜äº†ã€‚ä½†æ˜¯æœ‰äº›3Dçš„ADVéš¾é“ç”¨æ‰‹æŸ„ç©çš„ä¸æ¯”é”®ç›˜é¦™å—ï¼Ÿäºæ˜¯è¿™é‡Œå¼•å…¥Axisï¼ˆè½´ï¼‰ã€‚é€šè¿‡Inputç±»çš„GetAxis()æ–¹æ³•å¯ä»¥å¾—åˆ°è½´çš„ä¿¡æ¯ã€‚å‚æ•°åç§°Unityé»˜è®¤ä¸ºâ€Horizontalâ€å’Œâ€Virticalâ€åˆ†åˆ«å¯¹åº”xè½´å’Œzè½´ã€‚è¿™ä¸ªå¯ä»¥åœ¨Unityçš„Edit-&gt;Project Settings-&gt;Input Manageré‡Œæ·»åŠ å’Œæ›´æ”¹ã€‚ GetAxis()çš„è¿”å›å€¼æ˜¯floatèŒƒå›´ä¸º[-1,1]ã€‚è¡¨ç¤ºè½´çš„æ­£å‘å’Œåˆ°è´Ÿå‘ã€‚é€šè¿‡è¿”å›å€¼é…åˆVector3å‘é‡ç±»å¯ä»¥å¾—åˆ°å’Œxzå¹³é¢å¹³è¡Œçš„ä»»æ„æ–¹å‘ã€‚ float h = Input.GetAxis(&quot;Horizontal&quot;); float v = Input.GetAxis(&quot;Vertical&quot;); Vector3 moveDirection = new Vector3(h,0,v); å½“ç„¶è¿™ä¸ªè·å–çš„æ˜¯æˆ‘ä»¬çš„è¾“å…¥æ–¹å‘ï¼ŒåŒæ—¶ä¹ŸåŒ…æ‹¬äº†ä¸€å®šçš„è·ç¦»ï¼ˆé€Ÿåº¦ï¼‰ã€‚å¦‚æœæƒ³è¦æœ‰ä¸€ç§æ‘„åƒæœºçœ‹å“ªé‡Œå°±ä»¥è¿™ä¸ªæ–¹å‘ä¸ºåŸºå‡†çš„æ•ˆæœï¼Œé‚£ä¹ˆæ–¹å‘æ•°æ®å°±éœ€è¦ä»æ‘„åƒæœºå–å¾—ï¼Œè€ŒGetAxis()ä»…ä»…å°±å˜æˆäº†ä¸€ä¸ªé€Ÿåº¦å€¼çš„å«ä¹‰ã€‚ float h = Input.GetAxis(&quot;Horizontal&quot;); float v = Input.GetAxis(&quot;Vertical&quot;); Vector3 moveDirection = cameras.transform.forward * v + cameras.transform.right * h; ä½ç§»å¾—åˆ°ç§»åŠ¨çš„æ–¹å‘åå°±å¯ä»¥ç§»åŠ¨äº†ï¼ŒCharacterControlleræä¾›äº†ä¸¤ç§ç§»åŠ¨æ–¹æ³•ï¼šMove()å’ŒSimpleMove()ã€‚å®˜æ–¹å¯¹ä¸¤ä¸ªæ–¹æ³•çš„æè¿°ä¸º Function Describe Move() ä¸€ä¸ªæ›´å¤æ‚çš„ç§»åŠ¨å‡½æ•°ï¼Œä½¿ç”¨ç»å¯¹$\\Delta$ç§»åŠ¨ SimpleMove() ä»¥ä¸€ä¸ªé€Ÿåº¦ç§»åŠ¨è§’è‰² è¯´å®è¯å®˜æ–¹çš„Moveæè¿°æˆ‘æ˜¯çœ‹ä¸æ‡‚ã€‚äºŒè€…å‚æ•°éƒ½æ˜¯ä¸€ä¸ªè¡¨ç¤ºæ–¹å‘çš„Vector3ï¼ˆä¸‰ç»´å‘é‡ï¼‰ã€‚åŒºåˆ«åœ¨äºMove()å°†ç‰©ä½“å‘æ–¹å‘ç§»åŠ¨ï¼Œä»…å—ç¢°æ’çº¦æŸï¼Œä¸åº”ç”¨é‡åŠ›ã€‚SempleMove()ï¼Œä»¥ä¸€å®šé€Ÿåº¦å‘ä¸€ä¸ªæ–¹å‘ç§»åŠ¨ï¼Œä¸ä»…å—ç¢°æ’ï¼Œè€Œä¸”ä¼šåº”ç”¨é‡åŠ›ï¼Œæœ€é‡è¦çš„ä¸€ç‚¹ï¼Œä¼šå¿½ç•¥Yè½´é€Ÿåº¦ã€‚ä¸ªäººç†è§£æ˜¯ï¼Œé™¤äº†è‡ªå¸¦é‡åŠ›æ•ˆæœï¼Œä¸èƒ½é€šè¿‡SempleMove()å®ç°åœ¨Yè½´çš„ç§»åŠ¨ã€‚ æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ï¼š characterController.Move(moveDirection * moveSpeed * Time.deltaTime); Time.deltaTimeçš„å«ä¹‰æ˜¯å¤„ç†ä¸€å¸§æ‰€ç”¨çš„æ—¶é—´ï¼Œå› ä¸ºç”»é¢æ˜¯æ¯å¸§æ›´æ–°ï¼Œæˆ‘ä»¬éœ€è¦å¾—åˆ°ä¸€å¸§ä¸­ï¼Œç‰©ä½“è¿åŠ¨çš„è·ç¦»ã€‚$x = v_{0}t + \\frac{1}{2}at^{2}$ æ—‹è½¬ç°åœ¨ç§»åŠ¨è§£å†³äº†ï¼Œä½†æ˜¯è¿˜ä¸å¤Ÿã€‚å› ä¸ºæˆ‘ä»¬åªä½¿ç”¨ç§»åŠ¨æ—¶å€™ä¼šå‘ç°ï¼Œè§’è‰²æ˜¯ä¸ä¼šè½¬å‘çš„ï¼Œä¹Ÿå°±æ˜¯æˆ‘å‘å³èµ°æ—¶ï¼Œè§’è‰²è¿˜æ˜¯é¢æœå‰çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦æ—‹è½¬è§’è‰²æ¥ä¿è¯æœå‘å’Œè¡ŒåŠ¨æ–¹å‘çš„ä¸€è‡´æ€§ã€‚ Unityä½¿ç”¨äº†å››å…ƒæ•°æ¥æ—‹è½¬ï¼Œå½“ç„¶æˆ‘ä»¬ä¸€å¼€å§‹æ¥è§¦çš„æ—‹è½¬éƒ½æ˜¯ç”¨çŸ©é˜µçš„ï¼Œè¿™ä¸¤ä¸ªä¼šå¼€åˆ«çš„å‘è§£é‡Šçš„ã€‚ ä½¿ç”¨å‡½æ•°Quaternionç±»çš„é™æ€å‡½æ•°Quaternion.LookRotation()ï¼Œå‚æ•°ä¸ºVector3,è¯¦ç»†è¯·çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œè¿™é‡Œæˆ‘ä»¬åªæ˜¯ç”¨ä¸€ä¸ªå‚æ•°çš„ç‰ˆæœ¬ï¼Œæ„æ€æ˜¯è·å–Zè½´è½¬åˆ°æŒ‡å®šæ–¹å‘çš„å››å…ƒæ•°ã€‚ ç”¨æ³•å°±æ˜¯å°†ç‰©ä½“çš„transform.rotation å¤åˆ¶æˆå‡½æ•°çš„è¿”å›å€¼å°±å¥½ã€‚ transform.rotation = Quaternion.LookRotation(rotation); rotationçš„xã€zè½´å’ŒmoveDirectionä¸€è‡´ï¼Œyä¿æ­£ä¸º0å°±å¯ä»¥äº†ã€‚ è·³è·ƒä¸‹æ¥å°±æ˜¯æœ‰ç‚¹çƒ¦çš„è·³è·ƒéƒ¨åˆ†ã€‚ é¦–å…ˆåº”è¯¥å…ˆç¡®å®šè‡ªå·±æƒ³è¦çš„è·³è·ƒæ˜¯ä»€ä¹ˆæ ·çš„ï¼Œè¿™é‡Œåªè¯´ä¸‹åªå…è®¸è„šåº•ä¸‹æœ‰ç¢°æ’ç‰©ä½“æ—¶å€™æ‰èƒ½èµ·è·³å¹¶ä¸”ä¸€ä¸‹è·³è·ƒé”®åªè·³ä¸€æ¬¡ï¼ˆä¸€ç›´æŒ‰ä¹Ÿåªè·³ä¸€ä¸‹ï¼‰ã€‚ é¦–å…ˆå°±æ˜¯è·³è·ƒæ˜¯å‘ä¸Šçš„ä¸€ä¸ªé€Ÿåº¦ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨SempleMove()ï¼Œè™½ç„¶è‡ªå¸¦é‡åŠ›ä½†æ˜¯å®ƒå¿½ç•¥Yè½´é€Ÿåº¦ï¼Œæ˜¯é£ä¸ä¸Šå»çš„ã€‚æ‰€ä»¥åªèƒ½ä½¿ç”¨Move()ï¼Œå…¶æ¬¡ä¸ºäº†ä¿è¯ä¸€ç›´æŒ‰ä¹Ÿåªè·³ä¸€ä¸‹ï¼Œè·å–è·³è·ƒé”®çš„æ–¹å¼æ˜¯GetKeyDown()ï¼Œæœ€åæ˜¯è¦åˆ¤æ–­è§’è‰²æ˜¯ä¸æ˜¯è„šåº•ä¸‹æœ‰ä¸œè¥¿ï¼Œä¹Ÿå°±æ˜¯æ˜¯ä¸æ˜¯åœ¨â€œåœ°ä¸Šâ€ï¼ˆä¹Ÿå¯èƒ½æ˜¯ç®±å­ä¸Šå•Šï¼‰ã€‚ è¦æ˜¯ç‰©ä½“å‘ä¸Šå¾ˆç®€å•ï¼Œç»™moveDirectionçš„Yè½´ä¸€ä¸ªèµ·è·³é€Ÿåº¦å€¼å°±å¥½ã€‚ä½†æ˜¯å› ä¸ºMove()ä¸é€‚é…é‡åŠ›ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±æ¨¡æ‹Ÿï¼Œç®€å•ç‚¹çš„æ–¹æ³•å°±æ˜¯æ¯å¸§ç»™moveDirectionçš„Yè½´å‡å°‘ä¸€ä¸ªå› é‡åŠ›å› ç´ ä¸‹é™çš„ä½ç§»å³å¯ã€‚ moveDirection -= Vector3.down * gravity * Time.deltaTime; å½“ç„¶ä¹Ÿå¯ä»¥æŒ‰ç‰©ç†å…¬å¼æ¨¡æ‹Ÿæ›´ç²¾ç¡®çš„ã€‚æœ€åæ˜¯åˆ¤æ–­æ˜¯å¦å¯ä»¥èµ·è·³ï¼ŒCharacterControlleræœ‰ä¸€ä¸ªisGroundedçš„å±æ€§å¯ä»¥ç”¨æ¥åˆ¤æ–­è„šä¸‹æ˜¯ä¸æ˜¯æœ‰ä¸œè¥¿ï¼ˆå¬è¯´æœ‰BUGï¼Œä½†æ˜¯æˆ‘è¿˜æ²¡é‡åˆ°ï¼Œåº”è¯¥æ˜¯æˆ‘çš„æ¡ä»¶æ¯”è¾ƒç®€å•å§ï¼‰ã€‚ è¿™æ ·ï¼Œç®€å•çš„èµ·è·³å°±å®Œæˆäº†ã€‚ åŠ¨ç”»ç§»åŠ¨çš„èµ°åŠ¨ï¼Œè·‘åŠ¨åŠ¨ç”»éƒ½è¿˜ç®€å•ï¼Œä¸»è¦æ˜¯è·³è·ƒè¿™ä¸ªåŠ¨ç”»æ¡ä»¶ï¼Œå¦‚æœä»…å…è®¸æŒ‰ä¸€ä¸‹è·³ä¸€ä¸‹ï¼Œä¸€ç›´æŒ‰ä¸è·³è·ƒçš„é€»è¾‘æ¥è®²ï¼Œåªéœ€è¦åœ¨ç¦»åœ°çš„æ—¶å€™ï¼ˆisGroundedä¸ºå‡ï¼‰è®¾ç½®jumpå±æ€§ä¸ºfalseå°±å¥½äº†ï¼Œä½†æ˜¯è¦æ˜¯æƒ³ä¸€ç›´æŒ‰ä¸€ç›´è·³çš„è¯ï¼Œæˆ‘ä¸ä¼šï¼Œæœ‰è°ä¼šæ•™æ•™æˆ‘ã€‚ åšè„¸çš®è´´ä¸ªåƒåœ¾ä»£ç å§ using System.Collections; using System.Collections.Generic; using UnityEngine; public class UnityChanMove : MonoBehaviour { private CharacterController characterController; private Animator anime; public Camera cameras; public Chara State ; public float moveSpeed = 0.001f; public float gravity = 10.0f; public float jumpSpeed = 0.0f; Vector3 moveDirection = Vector3.zero; private void Awake() { State = new Chara(100, 0); } private void Start() { State.life = 90; characterController = this.GetComponent&lt;CharacterController&gt;(); anime = this.GetComponent&lt;Animator&gt;(); anime.SetBool(&quot;Jump&quot;, false); } // Update is called once per frame void Update() { if (characterController.isGrounded) { float h = Input.GetAxis(&quot;Horizontal&quot;); float v = Input.GetAxis(&quot;Vertical&quot;); moveDirection = cameras.transform.forward * v + cameras.transform.right * h; //moveDirection = new Vector3(h,0,v); if (Mathf.Abs(h) &gt; 0.1f || Mathf.Abs(v) &gt; 0.1f) { Vector3 rotation = moveDirection; rotation.y = 0; transform.rotation = Quaternion.LookRotation(rotation); if (Input.GetKey(KeyCode.LeftShift) || Input.GetKey(KeyCode.Joystick1Button7)) { anime.SetBool(&quot;Walk&quot;, false); anime.SetBool(&quot;Run&quot;, true); moveDirection *= moveSpeed * 2; } else { anime.SetBool(&quot;Run&quot;, false); anime.SetBool(&quot;Walk&quot;, true); moveDirection *= moveSpeed; } } else { anime.SetBool(&quot;Run&quot;, false); anime.SetBool(&quot;Walk&quot;, false); } if (Input.GetKeyDown(KeyCode.Joystick1Button1) || Input.GetKeyDown(KeyCode.Space)) { Debug.Log(&quot;No Available Anime&quot;); anime.SetBool(&quot;Jump&quot;, true); moveDirection.y = jumpSpeed; } } else { anime.SetBool(&quot;Jump&quot;, false); } moveDirection -= Vector3.down * gravity * Time.deltaTime; characterController.Move(moveDirection * moveSpeed * Time.deltaTime); } } è®°å¾—CharacterControllerçš„å‚æ•°ä¹Ÿæ˜¯æœ‰ç”¨çš„ï¼Œè°ƒä¸€è°ƒä¹Ÿæ˜¯å¯ä»¥å°‘å†™ä¸€ç‚¹ä¸œè¥¿çš„ã€‚ Rigidbodyåˆšä½“ï¼Œä½¿æŒ‚è½½åˆšä½“çš„ç‰©ä½“å—ç‰©ç†å¼•æ“æ§åˆ¶ï¼Œå¯ä»¥æ¥å—åŠ›å’ŒåŠ›çŸ©ã€‚ å±æ€§ Property: Function: Mass è´¨é‡ Drag ç©ºæ°”é˜»åŠ› Angular Drag æ‰­çŸ©ç©ºæ°”é˜»åŠ› Use Gravity æ˜¯å¦åº”ç”¨é‡åŠ› Is Kinematic æ˜¯å¦å¼€å¯è¿åŠ¨å­¦ Interpolate æ’å€¼ï¼Œå½“åˆšä½“æŠ–åŠ¨æ—¶å€™è°ƒä¸€ä¸‹è¿™ä¸ª Collision Detection ç¢°æ’æ£€æµ‹ï¼Œç”¨æ¥é˜²æ­¢ç‰©ä½“è¿åŠ¨è¿‡å¿«è€Œæ²¡æœ‰æ£€æµ‹åˆ°ç¢°æ’ Constraints çº¦æŸï¼Œä½ç§»å’Œæ—‹è½¬çš„çº¦æŸï¼Œæ‰“å‹¾è¡¨ç¤ºé”å®šè¿™ä¸ªå€¼ Info è¯¦ç»†ä¿¡æ¯ ä»å±æ€§ä¸Šçœ‹ï¼Œå¯è§è¿™ä¸ªåˆšä½“çœŸçš„å¾ˆç‰©ç†ã€‚å½“ç„¶åˆšä½“ä½¿ä¸å¸¦ç¢°æ’ï¼Œé€šå¸¸å¸¦åˆšä½“ä¹Ÿä¼šå¸¦ä¸€ä¸ªç¢°æ’ç»„ä»¶ã€‚ä½†æ˜¯è¦æ³¨æ„ï¼Œå› ä¸ºåˆšä½“çœŸçš„å¾ˆ=ç‰©ç†ï¼Œèƒ¶å›Šç¢°æ’ç»™è§’è‰²çš„æ—¶å€™å¯èƒ½ä¼šç«™ä¸ç¨³ã€‚ è·å–è¾“å…¥å’ŒCharacterControllerä¸€æ ·å°±å¥½ã€‚ ä½ç§»ä¸€æ—¦ç‰©ä½“ç»‘ä¸Šäº†åˆšä½“ï¼Œå°±ä¸èƒ½é€šè¿‡æ™®é€šçš„Transformæ¥è¿›è¡Œä½ç§»ï¼Œéœ€è¦é€šè¿‡åˆšä½“(Rigidbody)çš„transformæ¥è¿›è¡Œä½ç§»ã€‚ Rigidbody.transform.position; Rigidbody.transform.rotation; è€Œåˆšä½“è¿˜æœ‰ä¸€ä¸ªæ–¹æ³•ä¹Ÿå¯ä»¥å®ç°ä½ç§»ï¼ŒMove Position() å‚æ•°ä½¿ä¸€ä¸ªVector3ï¼Œè¡¨ç¤ºè¦ç§»åŠ¨åˆ°çš„ä½ç½®ï¼Œå¦‚æˆ‘ä»¬æƒ³ä»ç°åœ¨ä½ç½®ï¼Œå‘moveDirectionç§»åŠ¨|moveDirection|è·ç¦»ï¼Œåˆ™å¯ä»¥ï¼š Rigidbody.MovePosition(Rigidbody.position + moveDirection); æ—‹è½¬æ—‹è½¬æ–¹å‘å’Œä¸Šé¢CharacterControllerä¸€æ ·ï¼Œè¿˜æ˜¯è¦æ³¨æ„ä¸€ç‚¹æ˜¯è¦ç”¨åˆšä½“çš„rotationå±æ€§ä¸æ˜¯ç‰©ä½“è‡ªå·±çš„ï¼Œè€Œä¸”ä¾ç„¶æ˜¯ä¸ªå››å…ƒæ•°ã€‚ è·³è·ƒåˆšä½“çš„è·³è·ƒå°±æ¯”CharacterControllerç®€å•å¾ˆå¤šï¼Œå› ä¸ºåˆšä½“è‡ªèº«å°±è‡ªå¸¦ä¸ªå¾ˆâ€œçœŸå®â€çš„ç‰©ç†ç³»ç»Ÿï¼Œè€Œä¸”æœ€é‡è¦çš„ï¼Œåˆšä½“å¯ä»¥æ¥å—åŠ›å’ŒåŠ›çŸ©ã€‚è¿™å°±æ„å‘³è¿™æˆ‘ä»¬æƒ³ä¸€ä¸‹å¹³æ—¶æ€ä¹ˆè·³å°±å¥½äº†ã€‚åˆšä½“æœ‰ä¸€ä¸ªAddForce()çš„æ–¹æ³•ï¼Œå‚æ•°æ˜¯Vector3ï¼Œè¡¨ç¤ºåŠ›çš„æ–¹å‘ï¼Œå¤§å°å°±æ˜¯|Vector3|ã€‚å¦‚æƒ³è¦ä»¥åŠ›Forceèµ·è·³ï¼Œå°±å¯ä»¥ Rigidbody.AddForce(Vector3.up * Froce); è¿™æ ·å°±èƒ½è·³èµ·æ¥å¹¶ä¸”è¿˜å—é‡åŠ›ä¼šè‡ªå·±æ‰ä¸‹æ¥ã€‚å¦‚æœå‘ç°åŠ åŠ›äº†è¿˜ä¸åŠ¨ï¼Œå°è¯•å¤§åŠ›ï¼Œä¸è¦å¿˜è®°åˆšä½“ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è´¨é‡ã€‚ AddForce()è¿˜æœ‰ä¸ªé‡è½½æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¿˜æ˜¯Vector3ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸ªæšä¸¾ç±»å‹ForceModeForceMode | Functionâ€”â€”â€”â€”-|â€”â€”â€”â€”â€” Force | ç»™ä¸€ä¸ªæŒç»­çš„åŠ› Impulse| ç»™ä¸€ä¸ªç¬æ—¶çš„åŠ› VelocityChange | ç»™ä¸€ä¸ªç¬æ—¶çš„åŠ é€Ÿåº¦ï¼Œå¿½ç•¥è´¨é‡ Acceleration | ç»™ä¸€ä¸ªæŒç»­çš„åŠ é€Ÿåº¦ï¼Œå¿½ç•¥è´¨é‡ è¿™æ ·ä¸€æ¥åŸºæœ¬ä¸Šçš„é«˜ä¸­è¿åŠ¨å­¦å°±éƒ½å¯ä»¥è¡¨ç¤ºäº†ã€‚ç‰©ç†æ–¹é¢åˆšä½“è¿˜æ˜¯å¾ˆå¥½ç”¨çš„ï¼Œä½†æ˜¯ä¸€å®šè¦å’Œç¢°æ’ä½“ä¸€èµ·ä½¿ç”¨ï¼Œè¿™å°±ä¼šå¯¼è‡´æœ‰çš„åœ°å½¢ä»–è‡ªå·±å°±å€’äº†ï¼Œæˆ–æ˜¯å€¾æ–œäº†ï¼Œè¿™æ—¶å€™é”å®šåˆšä½“çš„rotationå¯ä»¥è§£å†³ã€‚ å½“ç„¶ï¼Œæ¥ä¸‹æ¥å°±æ˜¯è½åœ°æ£€æµ‹äº†ï¼Œåˆšä½“ä¸åƒè§’è‰²æ§åˆ¶å™¨é‚£æ ·æœ‰ä¸ªè½åœ°å±æ€§æ¥åˆ¤æ–­ï¼Œæ‰€ä»¥å°±éœ€è¦è‡ªè¡Œæ£€æµ‹ï¼Œå¸¸è§æ–¹æ³•æ˜¯å‘ä¸‹æ–¹å‘å‡ºä¸€æ¡å›ºå®šé•¿åº¦çš„å…‰çº¿ï¼Œè‹¥å…‰çº¿æœ‰ç¢°æ’åˆ™è¯´æ˜è½åœ°ã€‚ä½¿ç”¨Physics.Raycast()æ–¹æ³•å°±å¯ä»¥ã€‚è¿™ä¸ªå‡½æ•°é‡è½½å¾ˆå¤šè¯¦ç»†çœ‹RayCastçš„æ–‡æ¡£å§ï¼Œè¿™é‡Œè¯´ä¸€ä¸ªä¸‰ä¸ªå‚æ•°çš„ä¾‹å­ï¼Œç¬¬ä¸€ä¸ªæ˜¯Vector3ï¼Œè¡¨ç¤ºå…‰çº¿çš„å‡ºå‘ç‚¹ï¼Œç¬¬äºŒä¸ªä¹Ÿæ˜¯Vector3ï¼Œè¡¨ç¤ºå…‰çº¿æ³•å‘ï¼Œç¬¬ä¸‰ä¸ªæ˜¯floatè¡¨ç¤ºå…‰çº¿é•¿åº¦ï¼Œè¿”å›å€¼æ˜¯boolè¡¨ç¤ºæ—¶å€™ç¢°æ’åˆ°ç‰©ä½“ã€‚ç®€å•ç”¨æ³•ä¸º bool isGrounded = Physics.Raycast(transform.position, Vector3.down, 0.2f); è¡¨ç¤ºç‰©ä½“ä¸­å¿ƒä½ç½®å‘ä¸‹æ–¹å‘å‡ºä¸€æ¡é•¿0.2çš„å…‰çº¿ã€‚ åŠ¨ç”»å’ŒControllerä¸€æ ·ã€‚ ä¸è¦è„¸çš„ä»£ç æ¥äº† using System.Collections; using System.Collections.Generic; using UnityEngine; public class RigidbodyMove : MonoBehaviour { public Camera cameras; private Animator anime; private Rigidbody player; public float moveSpeed = 0.1f; public float jumpForce = 0f; private CapsuleCollider capsuleCollider; private Vector3 pointBottom, pointTop; public float radius; bool isOnGround = true; // Start is called before the first frame update void Start() { anime = GetComponent&lt;Animator&gt;(); player = GetComponent&lt;Rigidbody&gt;(); capsuleCollider = GetComponent&lt;CapsuleCollider&gt;(); } // Update is called once per frame void FixedUpdate() { float h = Input.GetAxis(&quot;Horizontal&quot;); float v = Input.GetAxis(&quot;Vertical&quot;); if (Mathf.Abs(h) &gt; 0.01f || Mathf.Abs(v) &gt; 0.01f) { // Vector3 moveDirection = new Vector3(h, 0, v); Vector3 moveDirection = cameras.transform.forward * v + cameras.transform.right * h; Vector3 rotationDirection = cameras.transform.forward * v + cameras.transform.right * h; rotationDirection.y = 0; if (Input.GetKey(KeyCode.LeftShift) || Input.GetKey(KeyCode.Joystick1Button7)) { anime.SetBool(&quot;Walk&quot;, false); anime.SetBool(&quot;Run&quot;, true); player.MovePosition(player.position + moveDirection * moveSpeed * 2); player.transform.rotation = Quaternion.LookRotation(rotationDirection); } else { anime.SetBool(&quot;Run&quot;, false); anime.SetBool(&quot;Walk&quot;, true); player.MovePosition(player.position + moveDirection * moveSpeed ); player.transform.rotation = Quaternion.LookRotation(rotationDirection); } } else { anime.SetBool(&quot;Run&quot;, false); anime.SetBool(&quot;Walk&quot;, false); } bool isGrounded = Physics.Raycast(transform.position, Vector3.down, 0.2f); if (isOnGround) { if (Input.GetKey(KeyCode.Space) || Input.GetKey(KeyCode.Joystick1Button1)) { isOnGround = false; anime.SetBool(&quot;Jump&quot;, true); player.AddForce(Vector3.up * jumpForce,ForceMode.Impulse); else { anime.SetBool(&quot;Jump&quot;, false); } } } } è¡¥å……å®é™…ä¸Šä¸ç®¡æ˜¯RayCast()è¿˜æ˜¯iSGroundedéƒ½ä¼šæœ‰åˆ¤æ–­å¤±è¯¯çš„æƒ…å†µï¼Œå¯¼è‡´å³ä½¿è§¦åœ°ä¹Ÿæ²¡åŠæ³•èµ·è·³ã€‚è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªæƒ³æ³•ï¼Œå°±æ˜¯ä½¿ç”¨AnimatorStateInfoï¼Œé€šè¿‡AnimatorStateInfo.normalizedTime å’ŒAnimatorStateInfo.IsNameæ¥åˆ¤æ–­æŸä¸ªåŠ¨ç”»æ’­æ”¾åˆ°äº†ä»€ä¹ˆæ—¶å€™ã€‚é€šå¸¸æˆ‘ä»¬éƒ½æ˜¯è¦æ±‚åŠ¨ç”»åšå‡ºè½åœ°åŠ¨ä½œè§’è‰²å°±è‚¯å®šæ˜¯åœ¨åœ°ä¸Šçš„ã€‚é‚£ä¹ˆå°±å¯ä»¥é€šè¿‡è¿™ç‚¹æ¥åˆ¤æ–­è§’è‰²æ˜¯å¦åœ¨åœ°ä¸Šã€‚ è¿™æ ·å°±å¯ä»¥ç¼–å†™isGround()å‡½æ•°æ¥åˆ¤æ–­æ˜¯å¦åœ¨åœ°ä¸Šã€‚ bool isGround() { AnimatorStateInfo info = anime.GetCurrentAnimatorStateInfo(0); if (info.IsName(&quot;jump_medium_up@loop&quot;) || info.IsName(&quot;jump_medium_Down@loop&quot;)) return false; return true; } è¿™ä¸ªæ„æ€å°±æ˜¯å¦‚æœæ’­æ”¾çš„åŠ¨ç”»ä¸æ˜¯è·³è·ƒåŠ¨ç”»ï¼Œé‚£ä¹ˆå°±åœ¨åœ°ä¸Šã€‚è¿™é‡Œæ˜¯æ²¡æœ‰è¦æ±‚è§’è‰²è·³èµ·æ¥ä¹Ÿå¯ä»¥æ”»å‡»çš„æƒ…å†µä¸‹ã€‚å¦åˆ™ifçš„é€»è¾‘åº”è¯¥æ˜¯å…¶ä»–çš„ã€‚ Lastè¿™é‡Œä¹Ÿåªæ˜¯ç®€å•çš„è¯´æ˜ä¸€ä¸ªå¯ç”¨çš„æ–¹æ¡ˆï¼Œè‚¯å®šè¿˜æœ‰æ›´å¤šæ›´å¥½çš„æ–¹æ¡ˆï¼Œå®é™…é¡¹ç›®ä¸­èƒ½ç”¨çš„ã€‚ ä¸‹ä¸€ä¸ªå‘ä¼šæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ","categories":[{"name":"Unity","slug":"Unity","permalink":"/categories/Unity/"}],"tags":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/tags/æŠ€æœ¯/"},{"name":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","slug":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","permalink":"/tags/ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢/"},{"name":"ç¬”ç»é¢ç»å‡‰å‡‰ç»","slug":"ç¬”ç»é¢ç»å‡‰å‡‰ç»","permalink":"/tags/ç¬”ç»é¢ç»å‡‰å‡‰ç»/"}],"keywords":[{"name":"Unity","slug":"Unity","permalink":"/categories/Unity/"}]},{"title":"2020å­—èŠ‚è·³åŠ¨æ ¡å›­æ‹›è˜ç®—æ³•æ–¹å‘ç¬¬ä¸‰åœºè€ƒè¯• å‡‰å‡‰ç»","slug":"2020å­—èŠ‚è·³åŠ¨æ ¡å›­æ‹›è˜ç®—æ³•æ–¹å‘ç¬¬ä¸‰åœºè€ƒè¯• å‡‰ç»","date":"2020-05-10T16:00:00.000Z","updated":"2020-05-11T06:58:27.477Z","comments":true,"path":"2020/05/11/2020å­—èŠ‚è·³åŠ¨æ ¡å›­æ‹›è˜ç®—æ³•æ–¹å‘ç¬¬ä¸‰åœºè€ƒè¯• å‡‰ç»/","link":"","permalink":"/2020/05/11/2020å­—èŠ‚è·³åŠ¨æ ¡å›­æ‹›è˜ç®—æ³•æ–¹å‘ç¬¬ä¸‰åœºè€ƒè¯• å‡‰ç»/","excerpt":"","text":"2020å­—èŠ‚è·³åŠ¨æ ¡å›­æ‹›è˜ç®—æ³•æ–¹å‘ç¬¬ä¸‰åœºè€ƒè¯• å‡‰å‡‰ç»ç¬¬ä¸€é¢˜ å­—ç¬¦ä¸²é—®é¢˜æœ‰ä¸ªç®€å•çš„ç¼–è¾‘å™¨ï¼Œæœ‰4ç§å‘½ä»¤ï¼š1 k è¡¨ç¤ºå°†å­—ç¬¦ä¸²kæ’å…¥åˆ°åé¢ 2 k è¡¨ç¤ºåˆ é™¤åkä¸ªå­—ç¬¦ 3 k è¡¨ç¤ºè¾“å‡ºç¬¬kä¸ªå­—ç¬¦ 4 è¡¨ç¤ºæ’¤é”€ä¸Šæ¬¡æ“ä½œï¼ŒæŒ‡çš„æ˜¯æ’¤é”€1 2 æ“ä½œã€‚ è¿™ä¸ªå…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯å­—ç¬¦ä¸²æ“ä½œï¼Œæ’¤é”€å¯ä»¥ç”¨ä¸ªæ ˆæ¥ç»´æŠ¤ä¹‹å‰1 2 çš„æ“ä½œï¼Œ æ„Ÿè§‰æ•°æ®å¾ˆæ°´æ‰€ä»¥å¾ˆå¥½è¿‡ã€‚ #include&lt;iostream&gt; #include&lt;string&gt; int main() { std::string str, laststr; int n; std::cin &gt;&gt; n; for (int i = 0; i &lt; n; ++i) { char cmd; std::cin &gt;&gt; cmd; switch (cmd) { case &#39;1&#39;: { std::string add; std::cin &gt;&gt; add; laststr = str; str += add; break; } case &#39;2&#39;: { int k; std::cin &gt;&gt; k; laststr = str; str.erase(str.end() - k, str.end()); break; } case &#39;3&#39;: { int k; std::cin &gt;&gt; k; std::cout &lt;&lt; str[k-1] &lt;&lt; std::endl; break; } case &#39;4&#39;: { str = laststr; break; } default: break; } } system(&quot;pause&quot;); return 0; } ç¬¬äºŒé¢˜åŸé¢˜è¯´ç»™ä¸€ç¯‡æ–‡ç« ï¼Œå†ç»™æœ¬è¯å…¸ï¼Œé—®æœ‰å¤šå°‘ç§ç¿»è¯‘ã€‚ä¸èƒ½ç¿»è¯‘è¾“å‡º0 å®é™…ä¸Šæ˜¯ç»™ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå†ç»™ä¸ªå•è¯è¡¨ï¼Œé—®æœ‰å¤šå°‘ç§åˆ’åˆ†èƒ½ä½¿æ¯ä¸ªéƒ¨åˆ†éƒ½æ˜¯å•è¯è¡¨é‡Œçš„ã€‚ä¾‹ï¼š &quot;abcba&quot; ab ba bc ca cb a æ€»å…±æœ‰ä¸¤ç§åˆ’åˆ†æ–¹æ³• ab | cb | a a | bc |ba è¯´å®è¯è¿™ä¸ªé¢˜é™¤äº†æš´åŠ›æšä¸¾æˆ‘æƒ³ä¸åˆ°åˆ«çš„åšæ³•ï¼Œæ„Ÿè§‰åƒDPä½†æ˜¯åˆä¸ä¼šDP æˆ‘æš´åŠ›æ ·ä¾‹è¿‡äº†ä½†æ˜¯ã€‚ã€‚è‚¯å®šè¶…æ—¶å¯¹ä¸å¯¹å•Šï¼Œä¸ä¼šä¼˜åŒ–äº†ã€‚ ä¸è¦è„¸çš„è´´ä»£ç äº† #include&lt;iostream&gt; #include&lt;unordered_map&gt; #include&lt;string&gt; #include&lt;algorithm&gt; long long res; const long long mod = 835672545; int maxLen = 0; void find(std::string &amp;passage, std::unordered_map&lt;std::string, bool&gt; &amp;map, int index) { if (index &gt;= passage.size()) { ++res; res %= mod; return; } for (int i = index + 1; i &lt;= passage.size() &amp;&amp; (i - index) &lt;= maxLen; ++i) { std::string sub = passage.substr(index, i - index); if (map.find(sub) != map.end()) { find(passage, map, i); } } } int main() { std::string passage; std::cin &gt;&gt; passage; int n; std::cin &gt;&gt; n; std::unordered_map&lt;std::string, bool&gt; map; for (int i = 0; i &lt; n; ++i) { std::string temp; std::cin &gt;&gt; temp; map[temp] = true; maxLen = std::max(maxLen, (int)temp.size()); } find(passage, map, 0); std::cout &lt;&lt; res &lt;&lt; std::endl; system(&quot;pause&quot;); return 0; } ç¬¬ä¸‰é¢˜æœ‰ä¸ªäººæœ‰nåªè¢œå­ï¼Œæ¯åªè¢œå­é¢œè‰²ä¸ºc_iï¼Œæ¯åªè¢œå­ä¹Ÿæœ‰ç¼–å·ï¼Œæ¥ä¸‹æ¥må¤©è¦ç©¿ç¼–å·ä¸ºa_iå’Œb_içš„è¢œå­ï¼Œå› ä¸ºä¸¤åªè¢œå­è¦ä¸€æ ·é¢œè‰²ï¼Œæ‰€ä»¥è¿™ä¸ªäººä¼šæå‰æŸ“è‰²ï¼Œé—®æ¥ä¸‹æ¥må¤©ï¼Œæœ€å°‘æŸ“è‰²æ¬¡æ•°ã€‚ è¯»å®Œé¢˜æˆ‘æ˜¯æ‡µé€¼çš„ï¼Œå¹²å•¥å‘¢è¿™äººã€‚è¿™é‡Œæ„Ÿè§‰è¿˜æ˜¯DPä½†æ˜¯åˆä¸ä¼šDP; æ ¼å¼ï¼šå…ˆè¾“å…¥nè¢œå­æ•°nå’Œå¤©æ•°mï¼Œç„¶åæ¥ä¸‹æ¥ä¸€è¡Œæœ‰nä¸ªæ•°ï¼Œç¬¬iä¸ªæ•°ä»£è¡¨ç¼–å·ä¸ºiçš„è¢œå­é¢œè‰²ä¸ºc_iæ ·ä¾‹ï¼š 3 2 1 2 3 1 2 2 3 æœ€å°‘æŸ“è‰²ä¸¤æ¬¡ã€‚ æœ‰ä¸ªæšä¸¾æ€è·¯æ˜¯ï¼Œä¸€ä½†ä¸¤åªè¢œå­é¢œè‰²ä¸åŒé‚£ä¹ˆå¿…å®šè¦æŸ“è‰²ï¼Œé‚£ä¹ˆå°±æœ‰ä¸¤ç§æƒ…å†µï¼Œè¦ä¹ˆç¬¬ä¸€åªæŸ“æˆç¬¬äºŒåªé¢œè‰²ï¼Œè¦ä¹ˆåè¿‡æ¥ï¼Œè¿™æ ·æ¯å¤©å¦‚æœè¦æŸ“è‰²å°±æœ‰ä¸¤ç§æƒ…å†µï¼Œé€’å½’æ±‚è§£å°±å¥½ã€‚ ç„¶è€Œè¿™é‡Œæœ‰ä¸€ç‚¹ï¼Œé€’å½’æ¬¡æ•°è‚¯å®šä¸æ˜¯mæ¬¡ï¼Œæ‰€ä»¥éœ€è¦å…ˆä¿å­˜æ¯å¤©è¦ç©¿çš„è¢œå­ç¼–å·ï¼Œç„¶åå†é€’å½’ã€‚ æ²¡é”™æˆ‘å°±é”™åœ¨è¿™é‡Œï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆï¼Œæ·¦ï¼ ä¿®æ”¹åä¸çŸ¥é“èƒ½ä¸èƒ½è¿‡ï¼Œåæ­£ç°åœ¨æˆ‘ä¸è¦è„¸çš„è´´å‡ºæ¥äº†ã€‚ #include&lt;iostream&gt; #include&lt;vector&gt; #include&lt;algorithm&gt; int res = 0x3f3f3f3f; void GetDown(std::vector&lt;int&gt; &amp;color, std::vector&lt;std::pair&lt;int, int&gt;&gt; &amp;day, int m, int sum) { if (m == 0) { res = std::min(res, sum); return; } int a = day[day.size() - m].first; int b = day[day.size() - m].second; if (color[a] != color[b]) { sum++; int temp = color[a]; color[a] = color[b]; GetDown(color,day, m - 1, sum); color[a] = temp; temp = color[b]; color[b] = color[a]; GetDown(color, day, m - 1, sum); color[b] = temp; } else { GetDown(color, day, m - 1, sum); } } int main() { int n, m; std::cin &gt;&gt; n &gt;&gt; m; std::vector&lt;int&gt; color(n + 1); std::vector&lt;std::pair&lt;int,int&gt;&gt; day(m); for (int i = 1; i &lt;= n; ++i) std::cin &gt;&gt; color[i]; for (int i = 0; i &lt; m; ++i) std::cin &gt;&gt; day[i].first &gt;&gt; day[i].second; int sum = 0; GetDown(color, day, m, sum); std::cout &lt;&lt; res &lt;&lt; std::endl; system(&quot;pause&quot;); return 0; } ç¬¬å››é¢˜è¯´å®è¯çœ‹ä¸æ‡‚å¿˜äº†ï¼Œæ‰¾æœ€é•¿è¿ç»­å­åºåˆ—å¹¶ä¸”è¦æ±‚åºåˆ—ä¸­æ˜¯å®Œå…¨å¹³æ–¹æ•°ã€‚ å¯¹æˆ‘ä¸æ‡‚å®Œå…¨å¹³æ–¹æ•°ã€‚ çæ‰¯ç»è¿‡è¿™ä¹ˆå¤šæ¬¡ç¬”è¯•ï¼Œç°åœ¨æ„Ÿè§‰æ²¡æœ‰ä»¥å‰é‚£ç§æŠ“ççš„æ„Ÿè§‰äº†ã€‚ï¼ˆé¢˜åšå¤šäº†ï¼‰è™½ç„¶è¿™æ¬¡å®ä¹ åŸºæœ¬å‡‰å‡‰ï¼Œä½†æ˜¯æœ‰äº†æ–¹å‘ï¼Œç§‹æ‹›å¥½å¥½å‡†å¤‡ï¼ è¿™é‡Œé¡ºä¾¿æµ‹è¯•ä¸‹ä¸ç”¨CDNçš„å°é¢æ•ˆæœ","categories":[{"name":"åæ§½","slug":"åæ§½","permalink":"/categories/åæ§½/"}],"tags":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/tags/æŠ€æœ¯/"},{"name":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","slug":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","permalink":"/tags/ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢/"},{"name":"ç¬”ç»é¢ç»å‡‰å‡‰ç»","slug":"ç¬”ç»é¢ç»å‡‰å‡‰ç»","permalink":"/tags/ç¬”ç»é¢ç»å‡‰å‡‰ç»/"}],"keywords":[{"name":"åæ§½","slug":"åæ§½","permalink":"/categories/åæ§½/"}]},{"title":"å…‰ç…§ä¸æè´¨","slug":"Light&Matrial","date":"2020-05-07T16:00:00.000Z","updated":"2020-07-15T15:13:54.950Z","comments":true,"path":"2020/05/08/Light&Matrial/","link":"","permalink":"/2020/05/08/Light&Matrial/","excerpt":"","text":"å°±æ˜¯ç®€å•è®°å½•ä¸€ä¸‹æ¯”è¾ƒåŸºç¡€çš„Light(å…‰ç…§)æ²¡æœ‰å…‰ç…§ï¼Œæˆ‘ä»¬å°±åŸºæœ¬çœ‹ä¸è§ç‰©ä½“ï¼ˆè‡ªå‘å…‰é™¤å¤–ï¼‰ï¼Œå…‰çº¿æ˜¯è¡¨ç°ç‰©ä½“æœ€æœ€é‡è¦çš„ã€‚äººç±»è§†è§‰å¯¹ä¸–ç•Œçš„æ„ŸçŸ¥å¯ä»¥è¯´å°±æ˜¯å…‰çº¿å’Œæè´¨çš„äº¤äº’ã€‚æ‰€ä»¥ï¼Œåªè¦æ¨¡æ‹Ÿç‰©ç†è§„å¾‹ï¼Œæ„å»ºå‡ºåˆé€‚çš„å…‰ç…§æ¨¡å‹ï¼Œå°±å¯ä»¥è·å¾—è®¸å¤šæ•ˆæœæ›´å¥½çš„åœºæ™¯ã€‚ Matrial(æè´¨)æè´¨å¯ä»¥è¯´æ˜¯ä½“ç°ç‰©ä½“è´¨æ„Ÿçš„æ€§è´¨ã€‚ä»–æ˜¯é€æ˜çš„ï¼Œä¸é€æ˜çš„ï¼Œå…‰æ»‘çš„ï¼Œç²—ç³™çš„ï¼Œé‡‘å±è´¨æ„Ÿï¼Œç»ç’ƒè´¨æ„Ÿã€‚åœ¨æœ‰å…‰çš„æ¡ä»¶ä¸‹ï¼Œå…‰çº¿ä¸æè´¨äº¤äº’å½¢æˆäº†æˆ‘ä»¬çœ‹è§çš„ç‰©ä½“çš„æ ·å­ã€‚ ä¸‡ç‰©çš†æ˜¯æ•°å­¦ï¼Œå†äº†è§£å…‰çº¿ä½œç”¨çš„å‰æä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæè´¨ç”¨æ•°å­¦æ¥æŠ½è±¡è¡¨ç°ã€‚ æè´¨å¤§è‡´å¯ä»¥æŠ½è±¡ä¸ºï¼š åå°„å…‰çš„é¢œè‰² å¸æ”¶å…‰çš„é¢œè‰² æŠ˜å°„ç‡ åå°„ç‡ å…‰æ»‘åº¦ é€æ˜åº¦ å‘å…‰åº¦ ä¸ºäº†è‰ºæœ¯æ„Ÿï¼Œè¿˜å¯ä»¥æ·»åŠ å…¶ä»–å½±å“è§†è§‰çš„å±æ€§ã€‚ åªè¦ç”¨å…‰çº¿å’Œè¿™äº›å±æ€§è¿›è¡Œæ•°å­¦è¿ç®—ï¼Œå°±å¯ä»¥å¾—åˆ°å°„å…¥æˆ‘ä»¬çœ¼ç›é‡Œçš„å…‰çº¿çš„å±æ€§ï¼Œæ¥å½¢æˆæˆ‘ä»¬çœ‹åˆ°çš„ç”»é¢ã€‚ å†è¯´å…‰ç…§å®ç°å‰ï¼Œæˆ‘ä»¬äº†è§£ä¸€äº›æ¦‚å¿µï¼Œåé¢åˆ°æ—¶å€™ä¹Ÿä¼šè¯´ï¼Œå¯ä»¥è¿”å›æ¥å†çœ‹ã€‚ å…‰ç…§æ¨¡å‹å…‰ç…§æ¨¡å‹åˆ†ä¸ºå±€éƒ¨å…‰ç…§æ¨¡å‹å’Œå…¨å±€å…‰ç…§æ¨¡å‹ã€‚ å±€éƒ¨å…‰ç…§æ¨¡å‹ï¼šä½¿ç”¨è¿™ç§æ¨¡å‹ï¼Œæ¯ä¸ªç‰©ä½“çš„å…‰ç…§éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œä¹Ÿå°±æ˜¯åœ¨å¤„ç†æ¯ä¸ªç‰©ä½“çš„å…‰ç…§æ—¶å€™ï¼Œåªè€ƒè™‘å…‰æºçš„å…‰çº¿å³å¯ã€‚ å…¨å±€å…‰ç…§æ¨¡å‹ï¼šè¿™ç§æ¨¡å‹ä¸ä»…è¦è€ƒè™‘å…‰æºå°„å‡ºçš„å…‰çº¿ï¼ŒåŒæ—¶è¿˜è¦è€ƒè™‘æ¥è‡ªåœºæ™¯å†…å…¶ä»–ç‰©ä½“åå°„ã€æŠ˜å°„æ¥çš„å…‰çº¿ã€‚ æœ—ä¼¯ä½™å¼¦å®šå¾‹å…‰ä¹Ÿæ˜¯ä¸€ç§è¾å°„ï¼Œå…·æœ‰èƒ½é‡ã€‚å…‰æºæ¯ç§’å‘å‡ºçš„å…‰èƒ½é‡æˆä¸ºè¾å°„é€šé‡ã€‚æˆ‘ä»¬ç”¨å•ä½é¢ç§¯ä¸Šçš„è¾å°„é€šé‡å¯†åº¦æ¥ç¡®å®šè¡¨é¢æŸåŒºåŸŸæ¥å—çš„å…‰é‡ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çœ‹è§çš„æ˜äº®ç¨‹åº¦ã€‚ æœ—ä¼¯ä½™å¼¦å®šå¾‹: L \\cdot n = cos \\thetaæŒ‡çš„æ˜¯ä¸€ä¸ªåŒºåŸŸå†…çš„è¾å°„å¼ºåº¦ç›¸å½“äºå—åˆ°å‚ç›´å…‰ç…§çš„é¢ç§¯çš„è¾å°„å¼ºåº¦æŒ‰ç…§æ¯”ä¾‹$cos\\theta$è¿›è¡Œç¼©æ”¾ã€‚$cos\\theta$å°±æ˜¯å…‰å‘é‡å’Œå¹³é¢æ³•å‘é‡nçš„ç‚¹ä¹˜ã€‚åªè¦åœ¨ä½¿ç”¨é€‚å½“çš„å‡½æ•°é’³ä½ä¸€ä¸‹ï¼Œå°±å¯ä»¥ä¿è¯å¼ºåº¦åœ¨0~1èŒƒå›´å†…ï¼Œå½“ç„¶HDRæ˜¯å¯ä»¥è¶…è¿‡1çš„ã€‚ æˆ‘ä»¬è®¾$A$ä¸ºå‚ç›´å…¥å°„å…‰ç…§é¢ç§¯ã€‚åˆ™å¤¹è§’ä¸º$cos\\theta$å…¥å°„å…‰çš„é¢ç§¯ä¸º A^{'} = \\frac{A} {cos\\theta} = \\frac{A} {LÂ·n}é€šè¿‡è¿™ä¸ªå…¬å¼æˆ‘ä»¬å°±è§£å†³äº†å…‰çš„åå°„åå¼ºåº¦çš„é—®é¢˜ã€‚ æ¼«åå°„ä½œä¸ºæœ€å¸¸è§çš„åå°„ç±»å‹ï¼Œåªè¦è¡¨é¢ç²—ç³™å°±ä¼šäº§ç”Ÿæ¼«åå°„ã€‚å½“æŸä¸ªæ–¹å‘çš„å…‰çº¿å°„åˆ°ä¸€ä¸ªç‰©ä½“ä¸Šæ—¶ï¼Œå…¶ä¸­ä¼šè¢«å¸æ”¶ä¸€éƒ¨åˆ†ï¼Œå‰©ä¸‹çš„ç”±äºå„ç‚¹çš„æ³•çº¿æ–¹å‘ä¸ä¸€è‡´ï¼Œé€ æˆåå°„å…‰çº¿å‘ä¸åŒçš„æ–¹å‘æ— è§„åˆ™åœ°åå°„ã€‚ï¼ˆåˆä¸­ç‰©ç†ï¼‰ å½“ç„¶ï¼Œä¸ºäº†ç®€åŒ–æ¨¡å‹ï¼Œæˆ‘ä»¬å‡è®¾å…‰åœ¨å…¥å°„ç‚¹å¤„å‡åŒ€åå°„åˆ°æ¯ä¸ªæ–¹å‘ï¼Œæ‰€ä»¥è¡¨é¢ä¸Šç‚¹çš„é¢œè‰²åœ¨ä»»ä½•ä½ç½®è§‚å¯Ÿéƒ½æ˜¯ä¸€æ ·çš„ã€‚ ä¸ºäº†è®¡ç®—æ¼«åå°„ï¼Œæˆ‘ä»¬éœ€è¦å…‰ç…§é¢œè‰²å’Œæ¼«åå°„åç…§ç‡(Diffuse Albedo)é¢œè‰²ï¼Œå…¶ä¸­æ¼«åå°„åç…§ç‡è¡¨ç¤ºçš„æ˜¯æ ¹æ®è¡¨é¢çš„æ¼«åå°„ç‡åå°„çš„å…¥å°„å…‰çš„å…‰é‡ã€‚è¿™é‡Œå°±éœ€è¦ç”¨å‘é‡çš„åˆ†é‡ä¹˜æ³•ã€‚ c = a * b = (x_{a} * x_{b},y_{a} * y_{b},z_{a} * z_{b})è®¾å…‰ç…§é¢œè‰²ä¸º$C{i}$ï¼Œæ¼«åå°„é¢œè‰²ä¸º$D$ï¼Œ$L{i}$ä¸ºç‰©ä½“ä¸Šç‚¹$Q$æŒ‡å‘å…‰æºä½ç½®$P$çš„å‘é‡ï¼Œè®¡ç®—æœ‰iä¸ªå…‰æºçš„åœºæ™¯ä¸­çš„ç‰©ä½“çš„æ¼«åå°„å…‰é¢œè‰²$C$ä¸ºï¼š C = C_{i} * D * max( L_{i}*N,0)è¿™æ˜¯å°±æ˜¯lambertæ¼«åå°„ä¸­æœ€é‡è¦çš„éƒ¨åˆ†ã€‚ é•œé¢åå°„åŒæ ·ä¹Ÿæ˜¯å¾ˆå¸¸è§çš„åå°„ç±»å‹ï¼Œå†°é¢ï¼Œæ°´é¢éƒ½ä¼šå‘ç”Ÿè¿™ç§åå°„ã€‚é•œé¢åå°„å‘ç”Ÿæ˜¯å› ä¸ºè²æ¶…å°”æ•ˆåº”ï¼ˆFresnel Effectï¼‰è€Œäº§ç”Ÿçš„ç°è±¡ã€‚å½“å…‰çº¿ä»ä¸€ç§ä»‹è´¨å°„å…¥å¦ä¸€ç§ä»‹è´¨æ—¶ï¼Œå› ä¸ºä¸¤ç§ä»‹è´¨æŠ˜å°„ç‡ä¸åŒï¼Œä¸€éƒ¨åˆ†å…‰è¢«åå°„ï¼Œå¦ä¸€éƒ¨åˆ†å‘ç”ŸæŠ˜å°„ã€‚ï¼ˆåˆä¸­ç‰©ç†ï¼‰å¦‚æœæŠ˜å°„å…‰æ²¿ç€æŠ˜å°„å‘é‡ä»ä»‹è´¨å°„å‡ºå¹¶è¿›å…¥è§‚å¯Ÿè€…çœ¼ç›ï¼Œåˆ™ç‰©ä½“çœ‹èµ·æ¥å°±æ˜¯é€æ˜çš„ã€‚ è¿™é‡Œæˆ‘ä»¬ä¾ç„¶åªè€ƒè™‘ä¸é€æ˜ç‰©ä½“ï¼Œæ‰€ä»¥é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çœ‹åˆ°çš„ç‰©ä½“ä¸ºé•œé¢åå°„å’Œæ¼«åå°„å…±åŒç»„æˆçš„ï¼ŒåŒæ—¶é•œé¢åå°„åªé’ˆå¯¹ç‰¹å®šèŒƒå›´å†…çš„è§’åº¦ï¼Œéšç€è§‚å¯Ÿè€…ä½ç½®ç§»åŠ¨ï¼Œé•œé¢åå°„çš„å…‰é‡ä¹Ÿåœ¨å˜åŒ–ã€‚ è²æ¶…å°”æ•ˆåº”æœ‰è²æ¶…å°”æ•ˆåº”çš„å‡ºçš„è²æ¶…å°”æ–¹ç¨‹è¡¨è¿°äº†åå°„å…‰çš„å¼ºåº¦ã€æŠ˜å°„å…‰çš„å¼ºåº¦ã€ç›¸ä½ä¸å…¥å°„å…‰çš„å¼ºåº¦çš„å…³ç³»ã€‚ç®€å•åœ°å¯ä»¥è¯´åå°„å…‰é‡å’Œæè´¨ä»¥åŠæ³•çº¿ä¸å…‰å‘é‡çš„å¤¹è§’æœ‰å…³ã€‚å½“ç„¶ï¼Œç‰©ç†ä¸Šè¿™ä¸ªå…¬å¼æŒºå¤æ‚çš„ï¼Œä¸ä¼šç”¨äºå®æ—¶è®¡ç®—ï¼Œä¸€èˆ¬ç®€åŒ–å…¬å¼æ›¿ä»£ã€‚ ä¹¦ä¸­ä½¿ç”¨äº†çŸ³é‡Œå…‹è¿‘ä¼¼ï¼ˆSchlick approximationï¼‰ï¼š R_{F}(\\theta_{i}) = R_{F}(0\\degree) + (1 - R_{F}(0\\degree))(1-cos\\theta_{i})^{5}å…¶ä¸­$cos\\theta_{i}$ç”±ä¹‹å‰çš„æœ—ä¼¯ä½™å¼¦å®šå¾‹å¯ä»¥å¾—å‡ºï¼Œå³$L \\cdot n$ï¼Œå…¶ä¸­Læ˜¯åå°„ç‚¹å’Œè§‚å¯Ÿè€…çœ¼ç›ä¹‹é—´çš„å‘é‡ï¼Œnä¸ºå¹³é¢æ³•çº¿ã€‚ $R{F}(\\theta)$æ˜¯ä»‹è´¨çš„ä¸€ç§å±æ€§ï¼Œ$R{F}(\\theta{i})$è¡¨ç¤ºè§’åº¦ä¸º$\\theta{i}$ä¸‹æè´¨çš„å±æ€§çš„å€¼ã€‚$R{F}(0\\degree)$è¡¨ç¤ºåœ¨å…‰çº¿å‚ç›´ç…§å°„æè´¨æ—¶çš„å±æ€§å€¼ã€‚ä¹¦ä¸­ç»™å‡ºäº†å‡ ç§æè´¨çš„$R{F}(0\\degree)$ ä»‹è´¨ $R_{F}(0 \\degree)$ æ°´ (0.2,0.2,0.2) ç»ç’ƒ (0.08,0.08,0.08) å¡‘æ–™ (0.05,0.05,0.05) é‡‘ (1.0,0.71,0.29) é“¶ (0.95,0.93,0.88) é“œ (0.95,0.64,0.54)F å¦ä¸€ç§è¡¨ç° åŒæ—¶è¿˜æœ‰ä¸€ç§å…¬å¼è¡¨ç°ï¼š $$ Fresnel = FresnelBase + FresnelScale * 1 - N \\cdot V^{FresnelIndensity} $$ å½¢å¼ä¸Šæ¥è®²å’Œç¬¬ä¸€ä¸ªä¸€æ¨¡ä¸€æ ·ï¼Œä½†æ˜¯ç¬¬ä¸€ä¸ªä½¿ç”¨çš„$R_{F}(\\theta)$å±æ€§æ˜¯ä¸€ä¸ªä¸‰ç»´å‘é‡ï¼Œæ­£å¥½å¯ä»¥è¡¨ç¤ºå…‰çš„é¢œè‰²ï¼Œè€Œç¬¬äºŒä¸ªå…¬å¼å¯ä»¥çœ‹å‡ºæœ€åçš„ç­”æ¡ˆæ˜¯ä¸€ä¸ªæ•°ï¼Œè€Œä¸æ˜¯å…‰çš„é¢œè‰²ã€‚æ‰€ä»¥è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªæ’å€¼æ“ä½œï¼Œè¿™é‡Œç”¨HLSLè¯­æ³•è¡¨è¿°ã€‚ $$ col.rgb += lerp(col.rgb, FresnelColor, Fresnel) * FresnelColor.a $$ å…¶ä¸­ï¼Œcol.rgbæ˜¯çº¹ç†é‡‡æ ·åå½’ä¸€åŒ–ï¼ˆ0~1ï¼‰çš„é¢œè‰²å€¼ä¹˜ä¸Šå…‰æºé¢œè‰²åçš„å€¼ã€‚åœ¨è¿™ä¸ªå€¼çš„åŸºç¡€ä¸ŠåŠ ä¸Šæ ¹æ®Fresnelåœ¨col.rgbåˆ°FresnelColorä¸Šæ’å€¼çš„å€¼ä¹˜ä¸ŠFresnelColorçš„alphaå€¼åçš„å€¼ã€‚ï¼ˆç»•æ­»å•¦ï¼ï¼ï¼ï¼‰ è¿™æ ·å°±å¾—åˆ°äº†åå°„å…‰çº¿çš„å€¼ã€‚ åŒæ—¶ï¼Œå¯¹äºå¯¼ä½“ï¼Œå¦‚é‡‘å±ï¼Œå®ƒä»¬è²æ¶…å°”æ•ˆåº”å¾ˆå°å¾ˆå°ã€‚ å½“ç„¶ï¼Œè¿˜æ²¡æœ‰å®Œï¼Œè¿™ä¸ªåªè®¡ç®—äº†ä¸€éƒ¨åˆ†æˆ‘ä»¬éœ€è¦çš„ä¸œè¥¿ã€‚ è¡¨é¢ç²—ç³™åº¦äº†è§£äº†é•œé¢åå°„å’Œæ¼«åå°„ï¼Œå°±åŸºæœ¬å¯ä»¥æè¿°æè´¨çš„ç²—ç³™ç¨‹åº¦äº†ã€‚å› ä¸ºç°å®ä¸­å‡ ä¹æ²¡æœ‰ç»å¯¹å¹³æ•´çš„å¹³é¢ã€‚ç²—ç³™åº¦å‡ ä¹ä¸å¯èƒ½ä¸ºé›¶ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¤ä¸ºç†æƒ³é•œé¢çš„ç²—ç³™åº¦æ˜¯0ã€‚ä¸ºäº†æè¿°ç²—ç³™åº¦ï¼Œæˆ‘ä»¬ä¾ç„¶ç”¨å¾®å¹³é¢çš„æ¦‚å¿µæ¥æè¿°ã€‚ï¼ˆå’Œåˆä¸­è¿˜æ˜¯é«˜ä¸­ä¸€æ ·æ¥ç€ï¼Ÿï¼‰ ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªè¡¨é¢ç”±æ— æ•°ä¸ªå¾®å¹³é¢æ„æˆï¼Œè¿™äº›å¾®å¹³é¢éƒ½æ‹¥æœ‰ç€è‡ªå·±çš„æ³•çº¿ï¼Œè¿™ä¸ªæ³•çº¿å¯ä»¥ç”±å…¥å°„å…‰çº¿Lå’Œè§‚å¯Ÿå‘é‡vç›¸åŠ å¾—åˆ°ã€‚å³$h = normalize(L + v)$ï¼ˆå½“ç„¶æ³•çº¿ä¸€èˆ¬éƒ½å½’ä¸€åŒ–ï¼‰ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ç¡®å®šæ‹¥æœ‰è¿™æ ·çš„æ³•çº¿çš„å¹³é¢å æ‰€æœ‰å¾®å¹³é¢çš„æ¯”ä¾‹ï¼Œæ¥å¾—åˆ°é•œé¢åå°„çš„å¼ºåº¦ã€‚è¿™æ ·çš„å¹³é¢è¶Šå¤šï¼Œé•œé¢åå°„è¶Šå¼ºçƒˆã€‚ ä¹¦ä¸­æ¥ä¸‹æ¥å¼•å…¥äº†å¾®å¹³é¢æ³•çº¿hä¸å®è§‚å¹³é¢æ³•çº¿nçš„å¤¹è§’$\\theta{h}$ã€‚å¹¶å®šä¹‰äº†å½’ä¸€åŒ–å‡½æ•°$\\rho(\\theta)\\in[0,1]$æ¥è¡¨ç¤ºhï¼Œnå’Œ$\\theta{h}$çš„åˆ†å¸ƒæƒ…å†µã€‚ \\rho(\\theta_{h}) = cos^{m}(\\theta_{h}) = (n \\cdot h)^{m} è¿™é‡Œæˆ‘ä»¬æœŸæœ›å½“$\\theta$è¶Šæ¥è¶Šå°æ—¶ï¼Œ$\\rho$è¶Šæ¥è¿‘æœ€å¤§å€¼ã€‚æ‰€ä»¥è¿™é‡Œé€‰ç”¨äº†coså‡½æ•°ã€‚å…¶ä¸­mæ§åˆ¶çš„æ˜¯ç²—ç³™åº¦,å®é™…ä¸Šmçš„å€¼è¶Šå¤§ï¼Œå‡½æ•°å€¼è¶Šå°ï¼Œä¹Ÿå°±æ˜¯é•œé¢åå°„å¼ºåº¦è¶Šå°ï¼ˆä¹¦ä¸Šé”™äº†ï¼ï¼‰ã€‚ åŒæ—¶å¼•å…¥äº†ä¸€ä¸ªå½’ä¸€åŒ–å› å­$\\frac{m+8}{8}$ã€‚,ç„¶åå°±æœ‰äº†ä¸€ä¸ªæ–°å‡½æ•°$S(\\theta_{h})$ S(\\theta_{h}) = \\frac{m+8}{8}cos^{m}(\\theta_{h}) = \\frac{m+8}{8}(n \\cdot h)^{m}æ‰€ä»¥è¿™é‡Œå¼€å§‹å¯ä»¥è®¡ç®—æˆ‘ä»¬çš„é•œé¢åå°„äº†ã€‚ é¦–å…ˆæˆ‘ä»¬éœ€è¦è®¡ç®—è§‚å¯Ÿå‘é‡ä¸Šçš„åå°„å…‰é‡ã€‚ max(L \\cdot n , 0) * B_{L}æ¥ç€å› ä¸ºè²æ¶…å°”æ•ˆåº”ï¼Œä¼šæœ‰ä¸€ä¸ª$R{F}(\\theta{i})$éœ€è¦è®¡ç®—ï¼ŒåŒæ—¶è¿˜å› ä¸ºç²—ç³™åº¦åŸå› ï¼Œè¿˜éœ€è¦ä¹˜ä¸Šç²—ç³™ç²—ã€‚ä¹Ÿå°±æ˜¯ï¼š R_{F}(\\theta_{i}) * \\frac{m+8}{8} * (h \\cdot n)^{m}è®¾ç»æ¼«åå°„å…‰é‡ä¸º$c{s}$,åˆ™$c{s}$ä¸ºï¼š c_{s} = max(L \\cdot n , 0) * B_{L} * R_{F}(\\theta_{i}) * \\frac{m+8}{8} * (h \\cdot n)^{m}ç¯å¢ƒå…‰è¿™é‡Œè®¨è®ºä¸€ä¸ªå®é™…ä¸Šä¹ŸæŒºé‡è¦çš„å…‰ç…§ä½†æ˜¯åœ¨è¿™é‡Œå‡ ä¹è¢«æˆ‘ä»¬å¿½ç•¥çš„å…‰ç…§â€”â€”â€”â€”ç¯å¢ƒå…‰ç…§ã€‚ ç¯å¢ƒå…‰ç…§å°±æ˜¯ç”±å…¶ä»–ç‰©ä½“åå°„ã€æŠ˜å°„åç…§åˆ°æˆ‘ä»¬è¦è®¡ç®—çš„ç‰©ä½“ä¸Šçš„å…‰ç…§çš„é›†åˆã€‚å¬æè¿°å°±çŸ¥é“è¿™ç§å…‰ç…§æå…¶å¤æ‚ï¼Œå’Œåœºæ™¯å†…å…¶ä»–ç‰©ä½“æ€§è´¨å’Œæ•°é‡å‡æœ‰å…³ç³»ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å¯¹å®æ—¶å…‰ç…§è´Ÿæ‹…å¾ˆå¤§ã€‚äºæ˜¯æˆ‘ä»¬é€‰æ‹©ä½¿ç”¨ä¸€ä¸ªé¡¹ï¼Œæ¥å‡è£…æˆ‘ä»¬è€ƒè™‘äº†ç¯å¢ƒå…‰ç…§ã€‚è®¾ç¯å¢ƒå…‰ç…§ä¸º$c_{a}$ c_{a} = A_{L} * m_{d}å…¶ä¸­$A{L}$è¡¨ç¤ºå…¥å°„çš„ç¯å¢ƒå…‰çš„å…‰é‡ï¼Œ$m{d}$æ ¹æ®è¡¨ç¤ºæ¼«åå°„ç‡è€Œåå°„çš„å…¥å°„å…‰é‡ã€‚ å…‰ç…§æ¨¡å‹æ€»ç»“ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬æœ€åçš„å…‰ç…§æ¨¡å‹ä¸­éœ€è¦è€ƒè™‘çš„å…‰ç…§æœ‰3ç§ï¼Œæ¼«åå°„å…‰ç…§$c{d}$ï¼Œé•œé¢åå°„å…‰ç…§$c{s}$å’Œç¯å¢ƒå…‰ç…§$c_{a}$ã€‚åˆ™æœ€åçš„å…‰ç…§Cåˆ™ä¸ºï¼š C = c_{d} + c_{s} + c_{a} \\\\ = A_{L} * m_{d} + max(L \\cdot n , 0) * B_{L} * ï¼ˆm_{d} + R_{F}(\\theta_{i}) * \\frac{m+8}{8} * (h \\cdot n)^{m}ï¼‰ Column A Column B L å…‰æºçš„å…‰å‘é‡ n å®è§‚å¹³é¢æ³•çº¿ h å¾®è§‚å¹³é¢æ³•çº¿ $A_{L}$ å…¥å°„å…‰çš„ç¯å¢ƒå…‰é‡ $B_{L}$ å…¥å°„å…‰çš„ç›´å°„å…‰é‡ $m_{d}$ æ ¹æ®è¡¨é¢æ¼«åå°„ç‡è€Œåå°„çš„å…¥å°„å…‰é‡ $\\theta_{i}$ hå’ŒLçš„å¤¹è§’ $R{F}(\\theta{i})$ è²æ¶…å°”æ•ˆåº” m è¡¨é¢ç²—ç³™åº¦ $\\frac{m+8}{8}$ é•œé¢åå°„çš„å½’ä¸€åŒ–å› å­ å°åæ§½æ‰¯äº†è¿™ä¹ˆå¤šè¯´ç™½äº†å°±æ˜¯æˆ‘ä»¬çœ‹åˆ°çš„éƒ½æ˜¯å…‰ï¼æˆ‘ä»¬åªè¦æƒ³åŠæ³•æŠŠå°„å…¥æˆ‘ä»¬çœ¼ç›çš„å…‰æè¿°å‡ºæ¥å°±æ˜¯æˆ‘ä»¬çœ‹åˆ°çš„ç”»é¢ã€‚è€Œç°å®ä¸­çš„ç‰©ä½“å¯¹å…‰æœ‰ä¸åŒç¨‹åº¦çš„ä½œç”¨ï¼Œè¦å¾—åˆ°çœ‹åˆ°çš„å…‰æˆ‘ä»¬è¿˜éœ€è¦æè¿°è®¡ç®—è¿™äº›ä½œç”¨ã€‚æ‰€ä»¥æœ‰äº†ä¸€å¤§å †çš„å…‰å­¦çŸ¥è¯†ã€‚ è€Œè¿™äº›å½±å“å…‰çš„å±æ€§å¾ˆå¤šéƒ½æ˜¯ä¸€æ ·çš„ï¼Œä¸åŒæè´¨çš„ç‰©ä½“å¤§ä½“éƒ½æ˜¯å±æ€§å€¼ä¸åŒï¼Œæ‰€ä»¥é€šè¿‡æè¿°å½±å“å…‰çš„å±æ€§å€¼å°±å¯ä»¥æ¥æè¿°æè´¨ã€‚å·®ä¸å¤šå°±æ˜¯è¿™ä¸ªæ„æ€å§ã€‚ æè´¨å®ç°ç”±ä¸Šæ–‡å¯çŸ¥ï¼Œæè´¨å¿…è¦çš„å±æ€§æœ‰ï¼Œæ¼«åå°„åç…§ç‡ï¼ˆæ¼«åå°„ç‡ï¼‰ï¼Œè²æ¶…å°”æ•ˆåº”ç”¨åˆ°çš„$R_{F}(0\\degree)$å±æ€§å’Œç²—ç³™ç²—ã€‚ä¹Ÿå°±æ˜¯è¯´æœ€åŸºæœ¬çš„æè´¨åº”è¯¥æœ‰ï¼š struct{ XMFLOAT4 DiffuseAlbedo; //æ¼«åå°„ç‡ XMFLOAT3 FresnelR0; // int Roughness; //ç²—ç³™åº¦ }; å½“ç„¶è¿™äº›æ˜¯åº”è¯¥æœ‰çš„ï¼Œè¿˜å¯ä»¥åŒ…å«åå­—ã€ç´¢å¼•ï¼Œç­‰å…¶ä»–å±æ€§ã€‚åŒæ—¶å…³äºç²—ç³™åº¦ï¼Œå¯ä»¥è®¾ç½®ä¸º0~1èŒƒå›´å†…ï¼Œç„¶åå°±å¯ä»¥è®¾ç½®ä¸€ä¸ªä¸Šé™å€¼æ¥é™åˆ¶ã€‚ä¹¦ä¸­ç»™å‡ºçš„å®ç°ä¾‹å­å¦‚ä¸‹ï¼š struct Material { // Unique material name for lookup. std::string Name; // Index into constant buffer corresponding to this material. int MatCBIndex = -1; // Index into SRV heap for diffuse texture. int DiffuseSrvHeapIndex = -1; // Index into SRV heap for normal texture. int NormalSrvHeapIndex = -1; // Dirty flag indicating the material has changed and we need to update the constant buffer. // Because we have a material constant buffer for each FrameResource, we have to apply the // update to each FrameResource. Thus, when we modify a material we should set // NumFramesDirty = gNumFrameResources so that each frame resource gets the update. int NumFramesDirty = gNumFrameResources; // Material constant buffer data used for shading. DirectX::XMFLOAT4 DiffuseAlbedo = { 1.0f, 1.0f, 1.0f, 1.0f }; DirectX::XMFLOAT3 FresnelR0 = { 0.01f, 0.01f, 0.01f }; float Roughness = .25f; DirectX::XMFLOAT4X4 MatTransform = MathHelper::Identity4x4(); }; å…‰æºç”±äºå…‰æºç±»å‹ä¸åŒï¼Œè¡¨ç°å‡ºæ¥çš„æ•ˆæœä¹Ÿæœ‰å¯èƒ½ä¸åŒï¼Œæ‰€ä»¥ä¸ºäº†æ›´å¥½çš„æ•ˆæœè¡¨ç°ï¼Œå¯¹äºä¸åŒç±»å‹çš„å…‰æºä¹Ÿéœ€è¦å»ºæ¨¡ã€‚ å¹³è¡Œå…‰å¹³è¡Œå…‰åˆç§°æ–¹å‘å…‰æºï¼ˆDirectional Lightï¼‰æ˜¯æœ€ç®€å•çš„å…‰æºï¼Œè€Œæœ€ç®€å•çš„ä¾‹å­å°±æ˜¯å¤ªé˜³ã€‚å› ä¸ºæ¯æ¡å…‰çº¿å½¼æ­¤å¹³è¡Œäº’ä¸ç›¸äº¤ï¼Œè€Œä¸”ä¸€èˆ¬è®¤ä¸ºå…‰è¿œç¦»ç‰©ä½“å¾ˆè¿œï¼Œä¸è€ƒè™‘èƒ½é‡è¡°å‡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨ä¸€ä¸ªå‘é‡æ¥æè¿°ã€‚ ç‚¹å…‰æºç‚¹å…‰æºä¹Ÿæ˜¯æœ€å¸¸è§çš„å…‰æºä¹‹ä¸€ï¼Œæœ€ç®€å•çš„ä¾‹å­å°±æ˜¯ç¯æ³¡ã€‚ç‚¹å…‰æºå‘å››é¢å…«æ–¹æ— æ­»è§’çš„å‡åŒ€çš„è¾å°„å…‰ã€‚å¯¹äºç‚¹å…‰æºçš„å…‰çº¿æ–¹å‘ï¼Œä»»ä¸€ç‚¹Påˆ°å…‰æºQçš„æ–¹å‘ä¸ºï¼š L = \\frac{Q - P}{||Q - P||}ä½†æ˜¯ç‚¹å…‰æºä¸å¹³è¡Œå…‰ä¸åŒçš„æ˜¯ï¼Œç‚¹å…‰æºçš„èƒ½é‡æ˜¯ä¼šè¡°å‡çš„ã€‚ç‰©ç†ä¸Šå…‰å¼º(I)æ˜¯å’Œè·ç¦»(d)çš„å¹³æ–¹æˆåæ¯”çš„å…³ç³»ã€‚ I = \\frac{I_{0}}{d^{2}} å¦ä¸€ç§è¡¨ç¤º è¿™ç§è¡°å‡è¡¨ç¤ºæ¶‰åŠé‡æ¯”è¾ƒå¤šï¼ŒåŒ…å«ä¸‰ä¸ªå¸¸é‡ï¼Œè·ç¦»è¡°å‡å¸¸é‡($c{d}$),ä¸€æ¬¡ï¼ˆçº¿æ€§ï¼‰è¡°å‡å¸¸é‡($c{1}$)å’ŒäºŒæ¬¡è¡°å‡å¸¸é‡($c_{2}$),å’Œä¸€ä¸ªå˜é‡è·ç¦»(d)ã€‚å…¬å¼ä¸ºï¼š C = \\frac{1.0}{c_{d}+c_{l} * d + c_{q} * d^{2}} C_{0}&lt;/details&gt;ä½†æ˜¯ç”±äºä»¥ä¸Šå…¬å¼æ¯”è¾ƒå¤æ‚ï¼ˆåˆä¹˜åˆé™¤çš„ï¼‰ï¼Œäºæ˜¯é€‰æ‹©ç®€åŒ–æ“ä½œï¼Œä½¿ç”¨çº¿æ€§è¡°å‡ã€‚ I = saturate(\\frac{d_{max}-d}{d_{max}-d_{min}})å…¶ä¸­ï¼Œsaturateå‡½æ•°è¡¨ç¤ºæŠŠå€¼é™åˆ¶åœ¨[0,1]èŒƒå›´å†…ï¼Œ$d{max}$è¡¨ç¤ºå…‰è¡°å‡åˆ°0çš„æœ€å°è·ç¦»ï¼ˆå…‰èƒ½åˆ°è¾¾çš„æœ€å¤§è·ç¦»ï¼‰ $d{min}$è¡¨ç¤ºå…‰å¼€å§‹è¡°å‡çš„è·ç¦»ï¼Œdè¡¨ç¤ºè¦è®¡ç®—çš„ç‚¹åˆ°å…‰æºçš„è·ç¦»ã€‚ è¿™ä¸ªè¡°å‡çš„å€¼æ˜¯éœ€è¦ä¹˜åœ¨å…¥å°„å…‰($B{L}$)ä¸Šçš„ã€‚å½“ç„¶å…‰æºå…‰å¼ºè¶Šå¼ºï¼Œ$d{max}$è¶Šå¤§ï¼Œå…‰å°„çš„è¶Šè¿œã€‚å¦‚æœä¸€ä¸ªç‰©ä½“åˆ°å…‰æºçš„è·ç¦»å¤§äº$d_{max}$ï¼Œåˆ™è¿™ä¸ªç‰©ä½“ä¸å—å…‰ç…§ã€‚ èšå…‰ç¯å…‰æºèšå…‰ç¯çš„è¯ï¼Œé¦–å…ˆæƒ³åˆ°çš„å¯èƒ½æ˜¯èˆå°ä¸Šçš„é‚£ç§å•ªçš„ä¸€æ‰“ï¼Œä¸€ä¸ªåœ†å…‰å°±æ‰“åœ¨äº†ä¸»è§’èº«ä¸Šçš„é‚£ç§ã€‚èšå…‰ç¯å®é™…ä¸Šæ˜¯ç”±èšå…‰ç¯å…‰æºQå‘æ–¹å‘då‘å‡ºçš„ä¸€ä¸ªåœ†é”¥ä½“çš„å…‰çº¿ã€‚åŒæ—¶ï¼Œå…‰çº¿å¼ºåº¦åº”è¯¥ç”±ä¸­å¿ƒå‘å››å‘¨é€æ¸å‡å¼±ï¼Œä¸ºäº†å®ç°è¿™ä¸ªï¼Œè®¾èšå…‰ç¯ä¸­å¿ƒå°„å‡ºçš„é‚£æ¡å…‰å‘é‡ä¸ºdï¼Œæœ€å¤§ç…§å°„çš„è§’åº¦ä¸º$\\phi_{max}$ã€‚æˆ‘ä»¬éœ€è¦æœ‰ä¸€ä¸ªå‡½æ•°æ¥æ ¹æ®è§’åº¦æ§åˆ¶å…‰å¼ºè¡°å‡ã€‚å’Œè§’åº¦æœ‰å…³çš„ä¸€èˆ¬éƒ½æ˜¯æˆ‘ä»¬ä¸‡èƒ½çš„ä¸‰è§’å‡½æ•°å•¦ï¼æˆ‘ä»¬å¸Œæœ›å½“$\\phi$ä¸º0æ—¶ï¼Œä¹Ÿå°±æ˜¯ä¸­å¿ƒé‚£æ ¹å…‰çº¿å¼ºåº¦æœ€å¼ºï¼Œæ‰€ä»¥è¿˜æ˜¯ä½¿ç”¨coså‡½æ•°ã€‚ K_{spot} = max(cos\\phi,0)^{s} \\\\ = max(-L \\cdot d,0)^{s}è¿™é‡Œçš„è¡¨ç¤ºæ–¹æ³•å’Œè¡¨é¢ç²—ç³™åº¦ä¸­çš„$\\rhoå‡½æ•°å¦‚å‡ºä¸€è¾™$ï¼Œåªä¸è¿‡è¿™é‡Œçš„sè¡¨ç¤ºå…‰æºèšåˆåº¦ï¼Œsè¶Šå¤§ï¼Œèšåˆåº¦è¶Šå°ã€‚ å…‰æºå®ç°å…³äºå…‰æºï¼Œç”±ä¸Šæ–‡å¯çŸ¥ï¼Œä¸åŒå…‰æºä¼šæœ‰ä¸åŒå˜é‡éœ€æ±‚ï¼Œç»¼åˆèµ·æ¥å¯ä»¥ç”±ä¸€ä¸‹ç»“æ„ä½“è¡¨ç¤ºï¼š struct Light { DirectX::XMFLOAT3 Strength = { 0.0f, 0.f, 0.0f }; float FalloffStart = 1.0f; // point/spot light only DirectX::XMFLOAT3 Direction = { 0.0f, -1.0f, 0.0f };// directional/spot light only float FalloffEnd = 10.0f; // point/spot light only DirectX::XMFLOAT3 Position = { 0.0f, 0.0f, 0.0f }; // point/spot light only float SpotPower = 64.0f; // spot light only }; æ³¨æ„çš„æ˜¯ï¼Œå¼ºåº¦è‚¯å®šéƒ½è¦ç»™ï¼Œå¹³è¡Œå…‰åªéœ€è¦è®¾ç½®Directionï¼Œèšå…‰ç¯ä¸‹ï¼ŒPositionå’ŒSpotPowerå˜é‡ä¹Ÿéœ€è¦è°ƒæ•´ï¼Œè€ŒDirectioné»˜è®¤å³å¯ã€‚ç‚¹å…‰æºä¸éœ€è¦æŒ‡å®šDirectionä½†æ ¹æ®åº”ç”¨åœ°ç‚¹ï¼Œpositionéœ€è¦åˆ¶å®šã€‚è‡³äºè¡°å‡èµ·å§‹å’Œç»“æŸä½ç½®æŒ‰éœ€è¦è®¾ç½®ã€‚ å½“ç„¶è¿™éƒ½åªæ˜¯æœ€åŸºæœ¬çš„ï¼Œæ›´å…·å®é™…éœ€æ±‚è¿˜å¯ä»¥å¢åŠ æˆ–åˆ é™¤å˜é‡æ¥è¾¾åˆ°ç›®çš„ã€‚ æŒ–ä¸ªå‘ï¼Œçœ‹ä»€ä¹ˆæ—¶å€™æ€»ç»“ä¸ªPBR","categories":[{"name":"æ¸²æŸ“ å›¾å½¢å­¦","slug":"æ¸²æŸ“-å›¾å½¢å­¦","permalink":"/categories/æ¸²æŸ“-å›¾å½¢å­¦/"}],"tags":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/tags/æŠ€æœ¯/"},{"name":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","slug":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","permalink":"/tags/ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢/"}],"keywords":[{"name":"æ¸²æŸ“ å›¾å½¢å­¦","slug":"æ¸²æŸ“-å›¾å½¢å­¦","permalink":"/categories/æ¸²æŸ“-å›¾å½¢å­¦/"}]},{"title":"è…¾è®¯æš‘æœŸå®ä¹ ç”Ÿæ‹›è˜-å¸¸è§„æ‰¹-è½¯ä»¶å¼€å‘ç»¼åˆå‡‰å‡‰ç»å‡‰å‡‰ç»","slug":"è…¾è®¯ç¬”è¯•å‡‰ç»","date":"2020-04-25T16:00:00.000Z","updated":"2020-07-15T13:44:29.102Z","comments":true,"path":"2020/04/26/è…¾è®¯ç¬”è¯•å‡‰ç»/","link":"","permalink":"/2020/04/26/è…¾è®¯ç¬”è¯•å‡‰ç»/","excerpt":"","text":"è…¾è®¯æš‘æœŸå®ä¹ ç”Ÿæ‹›è˜-å¸¸è§„æ‰¹-è½¯ä»¶å¼€å‘ç»¼åˆå‡‰å‡‰ç»å†™åœ¨å‰é¢ï¼šè¿™æ¬¡ä»£ç æœ‰ç‚¹ä¹±ï¼Œæˆ‘è§‰å¾—æˆ‘åº”è¯¥æ˜¯è´´å¯¹äº†ã€‚ æ²¡é”™ï¼æˆ‘ç°åœ¨åšé¢œæ— è€»çš„ï¼Œæ¶å¿ƒäººçš„ä»£ç ï¼Œæ²¡è¿‡çš„ä»£ç ä¹Ÿä¸æ‰“ç®—è—äº†ï¼Œæˆ‘å°±æ˜¯è¦ä¸è¦è„¸ï¼ï¼ï¼ ç¬¬ä¸€é¢˜ å®ç°é˜Ÿåˆ—è¦æ±‚å®ç°â€œPUSHâ€ï¼Œâ€œPOPâ€ï¼Œâ€œTOPâ€ï¼Œâ€œCLEARâ€ï¼Œâ€œSIZEâ€ã€‚ POPä¸å–å¾—æ•°æ®ï¼Œæ— æ³•POPæ—¶è¾“å‡º-1ã€‚TOPæ— æ•°æ®æ—¶å€™è¾“å‡º-1ï¼Œæœ‰æ•°æ®è¾“å‡ºé˜Ÿé¦–ã€‚ è¿™é‡Œçœ‹ç€çœŸçš„æ˜¯å¾ˆç®€å•ï¼Œå®é™…ä¸Šä¹Ÿæ˜¯ç®€å•ã€‚è¿™é‡Œæˆ‘ä¸€å¼€å§‹æƒ³ç€ç”¨vectorçš„æ€è·¯å»å†™äº†ï¼Œæ²¡æ³¨æ„åˆ°å®ƒçš„æ“ä½œæ•°æœ€å¤§æ˜¯1000ä¸ªæ“ä½œã€‚ç„¶ååœ¨å¦å¤–å¼€è¾Ÿå†…å­˜è¿™é‡Œå¯èƒ½æœ‰ç‚¹é—®é¢˜ï¼Œå¯¼è‡´æ€»æ˜¯è¿‡ä¸å»ï¼ˆçœ‹æ¥çœŸçš„éœ€è¦çœ‹ä¸€çœ¼æºç äº†ï¼‰ã€‚æœ€åè¿˜æ˜¯å¼€äº†ä¸ªå¤§äºæ“ä½œæ•°çš„æ•°ç»„æ¥å®ç°ï¼Œæœ€åè¿‡äº†ã€‚ è¿™é‡Œè´´ä¸€ä¸‹ä»£ç å§ã€‚å…¶å®æŒºæ¶å¿ƒçš„ä»£ç ã€‚ #include&lt;iostream&gt; #include&lt;string.h&gt; #include&lt;string&gt; struct Queue { int size; int* front; int* back; int* end; int element[2000]; //int* element; //int capicity; Queue() { this-&gt;size = 0; //capicity = 5; //element = new int[5]; back = front = element; //end = element + 5; } void push(int num) { *back=num; ++back; ++size; // if (back == end) // { // int* temp = new int[2 * capicity]; // memmove(temp, element, sizeof(int)*size); // capicity *= 2; // int* it = element; // element = temp; // front = element; // back = front + size; // *back = num; // back++; // end = element + capicity; // delete[] it; // } // else // { // *back = num; // back++; // } // size++; } void pop() { if (front == back) { std::cout &lt;&lt; -1 &lt;&lt; std::endl; return; } front++; size--; } int top() { if (front == back) return -1; return *front; } void clear() { front = back; size = 0; } int Size() { return this-&gt;size; } void distory() { delete[] element; } }; int main() { int t, n; std::cin &gt;&gt; t; while (t--) { Queue q; std::cin &gt;&gt; n; std::string s; int num; for (int i = 0; i &lt; n; ++i) { std::cin &gt;&gt; s; if (s == &quot;PUSH&quot;) { std::cin &gt;&gt; num; q.push(num); } else if (s == &quot;POP&quot;) q.pop(); else if (s == &quot;TOP&quot;) std::cout &lt;&lt; q.top() &lt;&lt; std::endl; else if (s == &quot;SIZE&quot;) std::cout &lt;&lt; q.Size() &lt;&lt; std::endl; else if (s == &quot;CLEAR&quot;) q.clear(); } q.distory(); } system(&quot;pause&quot;); return 0; } ç¬¬äºŒé¢˜ ç‚¹å¯¹é—´æœ€çŸ­è·ç¦»ç»™å‡ºä¸€ä¸ªé›†åˆAï¼Œé‡Œé¢åˆåæ ‡ç‚¹ï¼ˆx,yï¼‰ï¼Œåœ¨ç»™å‡ºä¸€ä¸ªé›†åˆBé‡Œé¢ä¹Ÿæœ‰ä¸€äº›ç‚¹ã€‚æ±‚è¿™ä¸¤ä¸ªé›†åˆçš„ç‚¹å¯¹ä¹‹é—´çš„æœ€çŸ­è·ç¦»ï¼ˆæ¬§å¼è·ç¦»ï¼‰ã€‚ è¿™ä¸ªé¢˜ï¼Œè¯´å®è¯ä¸€å¼€å§‹æƒ³åˆ°çš„æ˜¯å¹³é¢å†…ç‚¹å¯¹æœ€å°è·ç¦»é‚£ä¸ªé¢˜ï¼Œä½†å¥½åƒæ€è·¯ä¸æ˜¯å¾ˆå¯¹ã€‚æœ€åç›´æ¥æš´åŠ›äº†ï¼Œä½†æ˜¯å¾ˆå¥‡æ€ªï¼Œæš´åŠ›ä¸ºä»€ä¹ˆæ˜¯è¿‡0%ä¸”è¶…æ—¶ã€‚å¥½åƒåº”è¯¥æ˜¯ç€æ€¥iï¼Œjå†™é”™äº†ã€‚ åˆ°æ—¶å€™å†çœ‹çœ‹æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½æ–¹æ³•ã€‚ #include&lt;iostream&gt; #include&lt;cmath&gt; #include &lt;iomanip&gt; #include&lt;vector&gt; #include&lt;algorithm&gt; int main() { std::vector&lt;std::pair&lt;int, int&gt;&gt; A; std::vector&lt;std::pair&lt;int, int&gt;&gt; B; std::vector&lt;double&gt; res; int t; std::cin &gt;&gt; t; while (t--) { int n; std::cin &gt;&gt; n; for (int i = 0; i &lt; n; ++i) { int x, y; std::cin &gt;&gt; x&gt;&gt; y; A.push_back(std::make_pair(x, y)); } for (int i = 0; i &lt; n; ++i) { int x, y; std::cin &gt;&gt; x&gt;&gt; y; B.push_back(std::make_pair(x, y)); } for (int i = 0; i &lt; A.size(); ++i) { for (int j = 0; j &lt; B.size();j++) { long long x = (A[i].first - B[j].first) * (A[i].first - B[j].first); long long y = (A[i].second - B[j].second) * (A[i].second - B[j].second); res.push_back(std::sqrt((x + y))); } } std::sort(res.begin(), res.end()); std::cout &lt;&lt; std::fixed &lt;&lt; std::setprecision(3) &lt;&lt; res[0] &lt;&lt; std::endl; } return 0; } ç¬¬ä¸‰é¢˜ ç¿»ç‰Œå­ï¼ˆDPï¼Ÿï¼‰ç»™å‡ºä¸€ç»„çº¸ç‰Œï¼Œæ­£é¢æœ‰aiï¼ŒèƒŒé¢æ˜¯biï¼Œæ¯æ¬¡æ“ä½œå¯ä»¥äº¤æ¢ç›¸é‚»ä¸¤ä¸ªç‰Œï¼Œç„¶åç¿»é¢ï¼Œæ±‚æ˜¯ä¸€ç»„ç‰Œéé™åºæ’åˆ—çš„æœ€å°‘æ¬¡æ•°ã€‚ è¿™ä¸ªé¢˜å§ï¼Œå¥½åƒä¹Ÿåœ¨å“ªé‡Œè§è¿‡ï¼Œç±»ä¼¼çš„ä¸€ä¸ªå°†ä¸€ä¸ªæ•°ç»„é€šè¿‡äº¤æ¢å˜æˆæŒ‰å‡åºæ’åˆ—ã€‚ä½†æ˜¯ï¼Œå˜¿å˜¿å˜¿ï¼Œæˆ‘å¿˜äº†ã€‚ æœ‰æ—¶é—´å†åšä¸€ä¸‹æŠŠã€‚ ç¬¬å››é¢˜ ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—è¿™ä¸ªä¸çŸ¥é“æ˜¯å“ªé‡Œå¾—åŸé¢˜å§ï¼Ÿï¼Ÿï¼Ÿå°±æ˜¯ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—æ“ä½œã€‚ æ€è·¯ç®€å•ï¼Œå‡†å¤‡ä¸¤ä¸ªæ ˆinå’Œoutï¼Œå¦‚æœæœ‰pushç›´æ¥å‹å…¥inï¼Œå½“æœ‰topå’Œpopæ—¶ï¼Œå¦‚æœoutä¸ºç©ºï¼Œå†å°†inå‹å…¥outï¼Œå¦åˆ™ç›´æ¥è¿”å›outæˆ–pop outã€‚ è¿™ä¸ªé¢˜æˆ‘å¯èƒ½ä¹Ÿæ˜¯ä¾¥å¹¸ï¼Œå› ä¸ºç¬¬ä¸€æ¬¡äº¤75%è¶…æ—¶ï¼Œæ‰‹æŠ–äº†ä¸€ä¸‹åˆäº¤äº†ä¸€é95%è¶…æ—¶ï¼Œå†äº¤ä¸€å›ï¼Œè¿‡äº†ï¼ ç„å­¦ #include&lt;iostream&gt; #include&lt;stack&gt; #include&lt;string&gt; int main() { std::stack&lt;int&gt; s1; std::stack&lt;int&gt; s2; int n; std::cin&gt;&gt;n; std::string s; for(int i=0;i&lt;n;++i) { std::cin&gt;&gt;s; if(s==&quot;add&quot;) { int num ; std::cin&gt;&gt;num; s1.push(num); } else if (s==&quot;poll&quot;) { if(!s2.empty()) s2.pop(); else { while(!s1.empty()) { s2.push(s1.top()); s1.pop(); } s2.pop(); } } else if(s==&quot;peek&quot;) { if(!s2.empty()) std::cout&lt;&lt;s2.top()&lt;&lt;std::endl; else { while(!s1.empty()) { s2.push(s1.top()); s1.pop(); } std::cout&lt;&lt;s2.top()&lt;&lt;std::endl; } } } return 0; } ç¬¬äº”é¢˜ äºŒå‰æ ‘ç»™å‡ºä¸€ä¸ªæ— é™æ·±çš„æ»¡äºŒå‰æ ‘ï¼ŒèŠ‚ç‚¹æ ‡å·ä»1å¼€å§‹ï¼Œå†ç»™å‡ºä¸€ä¸ªèŠ‚ç‚¹ç¼–å·xå’Œæ·±åº¦kã€‚æ±‚xåœ¨kæ·±åº¦çš„çˆ¶äº²èŠ‚ç‚¹ç¼–å·ï¼Œæ²¡æœ‰è¾“å‡º-1ã€‚ è¿™ä¸ªæ€è·¯å¾ˆç®€å•ï¼Œå…ˆæ‰¾åˆ°xçš„æ·±åº¦dï¼Œç„¶åæ¯”è¾ƒkå’Œdï¼Œè‹¥kå°äºdï¼Œå‘ä¸Šæ‰¾å°±è¡Œï¼Œå¦åˆ™å°±-1ã€‚ ä½†æ˜¯å¾ˆç¥å¥‡ï¼Œç‰›å®¢çš„æ ·ä¾‹æˆ‘è¿‡äº†ï¼Œä½†æ˜¯äº¤é¢˜å‘Šè¯‰æˆ‘æ ¼å¼ä¸æ­£ç¡®ï¼Œå†è·‘æ ·ä¾‹çš„æ—¶å€™å°±è‡ªåŠ¨äº¤å·äº†ã€‚ï¼ˆæ‚²ï¼‰ï¼ï¼ï¼å¥½åƒè¿™ä¸ªè¿˜è¦å¿«é€Ÿå¹‚æ‰èƒ½è¿‡ã€‚ #include&lt;iostream&gt; int main() { int t; std::cin&gt;&gt;t; long long x,k; while(t--) { std::cin&gt;&gt;x&gt;&gt;k; long long i=1,deep=1; while(i&lt;=x) { i&lt;&lt;=1; deep++; } i&gt;&gt;=1; deep--; while(deep!=k) { x&gt;&gt;=1; deep--; } std::cout&lt;&lt;x&lt;&lt;std::endl; } return 0; }","categories":[{"name":"åæ§½","slug":"åæ§½","permalink":"/categories/åæ§½/"}],"tags":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/tags/æŠ€æœ¯/"},{"name":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","slug":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","permalink":"/tags/ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢/"},{"name":"ç¬”ç»é¢ç»å‡‰å‡‰ç»","slug":"ç¬”ç»é¢ç»å‡‰å‡‰ç»","permalink":"/tags/ç¬”ç»é¢ç»å‡‰å‡‰ç»/"}],"keywords":[{"name":"åæ§½","slug":"åæ§½","permalink":"/categories/åæ§½/"}]},{"title":"2020å­—èŠ‚è·³åŠ¨æ ¡å›­æ‹›è˜ç®—æ³•æ–¹å‘ç¬¬äºŒåœºè€ƒè¯•å‡‰å‡‰ç»","slug":"å­—èŠ‚è·³åŠ¨å‡‰ç»","date":"2020-04-11T16:00:00.000Z","updated":"2020-04-12T14:51:53.523Z","comments":true,"path":"2020/04/12/å­—èŠ‚è·³åŠ¨å‡‰ç»/","link":"","permalink":"/2020/04/12/å­—èŠ‚è·³åŠ¨å‡‰ç»/","excerpt":"","text":"2020å­—èŠ‚è·³åŠ¨æ ¡å›­æ‹›è˜ç®—æ³•æ–¹å‘ç¬¬äºŒåœºè€ƒè¯•å‡‰å‡‰ç»è¯´åˆ°åº•è¿˜æ˜¯è‡ªå·±èœï¼ŒçœŸçš„ä¸è¡Œã€‚ ç¬¬ä¸€é¢˜ æ•°ç»„è½¬æ¢é—®é¢˜ç»™å‡ºä¸¤ä¸ªæ•°ç»„Aï¼ŒBï¼Œå…¶ä¸­å†Aä¸­æ‰¾å‡ºä¸€ä¸ªåŒºé—´r-lï¼Œä½¿å¾—è¿™ä¸ªåŒºé—´çš„æ‰€æœ‰æ•°éƒ½åŠ ä¸ŠKåå’ŒBä¸€æ ·ã€‚è¾“å‡ºAæ˜¯å¦å¯ä»¥è½¬æ¢ä¸ºB è¿™ä¸ªæŒºç®€å•çš„ã€‚éå†ä¸€éï¼Œåœ¨ç¬¬ä¸€ä¸ªä¸åŒçš„åœ°æ–¹å·®ä¸€ä¸‹ã€‚ç„¶åç”¨è¿™ä¸ªå·®å»åˆ¤æ–­å‰©ä¸‹ä¸ä¸€è‡´çš„åœ°æ–¹å·®æ˜¯å¦ä¸€æ ·ï¼Œä¸ä¸€æ ·å°±ä¸èƒ½ï¼Œå¹¶ä¸”åŒºé—´åªèƒ½å­˜åœ¨ä¸€ä¸ªã€‚å‡ºç°ç¬¬äºŒä¸ªåŒºé—´ä¹Ÿä¸èƒ½ã€‚ è¿™é‡Œè´´ä¸€ä¸ªæ¯”è¾ƒèœé¸¡çš„ACä»£ç å§ï¼Œè¯´å®è¯ä»£ç çƒ‚çš„è‡ªå·±ä¹Ÿçœ‹ä¸ä¸‹å»ã€‚ #include&lt;iostream&gt; #include&lt;vector&gt; #include&lt;cmath&gt; int main() { int t; std::cin &gt;&gt; t; while (t--) { int n; std::cin &gt;&gt; n; std::vector&lt;int&gt; a(n); std::vector&lt;int&gt; b(n); for (int i = 0; i &lt; n; ++i) std::cin &gt;&gt; a[i]; for (int i = 0; i &lt; n; ++i) std::cin &gt;&gt; b[i]; bool flag = false, YES = true; int count = 0, diff = 0; for (int i = 0; i &lt; n; ++i) { if (a[i] != b[i]) { if (!flag) { if (count == 0) { flag = true; count++; diff = std::abs(a[i] - b[i]); } else { std::cout &lt;&lt; &quot;NO&quot; &lt;&lt; std::endl; YES = false; break; } } } if (flag) { if (a[i] == b[i]) { flag = false; continue; } if (std::abs(a[i] - b[i]) != diff) { std::cout &lt;&lt; &quot;NO&quot; &lt;&lt; std::endl; YES = false; break; } } } if (YES) std::cout &lt;&lt; &quot;YES&quot; &lt;&lt; std::endl; } system(&quot;pause&quot;); return 0; } ç¬¬äºŒé¢˜ æ°æœ¨æ£ ï¼ˆè€ƒçš„äºŒå‰æ ‘ï¼Ÿ æˆ‘ä¹Ÿä¸çŸ¥é“ï¼Œæˆ‘ä¹Ÿä¸ç†è§£ï¼‰ç»™å‡ºnä¸ªæœ¨æ£ï¼Œå¯¹äºè¿™nä¸ªæœ¨æ£ä¸­ï¼Œå¯ä»¥å°†ä»»æ„ä¸€ä¸ªæ°æˆä¸¤åŠï¼Œè¿™ä¸¤åŠå¿…é¡»æ˜¯æ•´æ•°ã€‚æ°å®Œåæ”¾å›åŸä½ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´åŸä½ç½®å·¦è¾¹æœ‰æ•°ï¼Œæ°å®Œåä¸¤ä¸ªæ•°éƒ½æ”¾åœ¨å“ªä¸ªæ•°çš„å³è¾¹ï¼ŒåŸä½ç½®å³è¾¹æœ‰æ•°ï¼Œæ°å®Œåä¸¤ä¸ªæ•°éƒ½æ”¾åœ¨é‚£ä¸ªæ•°çš„å·¦è¾¹ã€‚æ±‚æœ€å°‘æ°å‡ æ¬¡å¯ä»¥ä½¿å¾—æ‰€æœ‰æœ¨æ£ä¸é€’å‡æ’åˆ—ã€‚ æ ·ä¾‹ï¼š è¾“å…¥ï¼š 5 3 5 13 9 12 è¾“å‡ºï¼š1 å› ä¸º13 å¯ä»¥æ°æˆ5å’Œ8ï¼Œæ‰€ä»¥åºåˆ—å˜ä¸º3 5 5 8 9 12 å®Œæˆã€‚ è¿™ä¸ªé¢˜ã€‚ã€‚è¯´å®è¯æ²¡å•¥æ€è·¯ã€‚ã€‚æœ¬æ¥æƒ³çœ‹è§ä¸€ä¸ªä¸ç¬¦åˆå‡åºï¼Œå°±æŠŠä»–æ°æˆæ ·ä¾‹çš„æ ¼å¼ï¼Œä½†æ˜¯æƒ³äº†ä¸€ä¸‹ï¼Œå¦‚æœæœ‰3 5 4 9 è¿™æ ·çš„åºåˆ—ï¼Œ5å˜æˆ3 2 å°±ä¼šæˆ 3 3 2 4 9ï¼Œå°±æ„å‘³ç€2ä¹‹å‰éƒ½è¦æ°ï¼Œç„¶åå°±ä¸çŸ¥é“æ€ä¹ˆåŠäº†ã€‚æœ‰æ—¶é—´ç»§ç»­çœ‹çœ‹ã€‚ ç¬¬ä¸‰é¢˜ ä¹°ä¸œè¥¿ï¼ˆæ²¡çœ‹å‡ºæ¥å•¥ç±»å‹çš„é—®é¢˜ï¼‰ç°åœ¨ä½ æœ‰Nå¼ ä¼˜æƒ åˆ¸ï¼Œå½“ä¹°çš„ä¸œè¥¿ä»·æ ¼å¤§äºç­‰äºä¼˜æƒ å·é¢å€¼æ—¶å€™å¯ä»¥ä½¿ç”¨ï¼Œä½¿ç”¨åä¸æ”¶å›ï¼Œè¿˜å¯ä»¥ç»§ç»­ä½¿ç”¨ã€‚é—®ä¹°Mä¸ªä¸œè¥¿èŠ±é’±æœ€å°‘æ˜¯å¤šå°‘ã€‚ è¿™ä¸ªæƒ³æ³•å°±æ˜¯å…ˆæ’åºã€‚ä¸¤ä¸ªéƒ½æ’åºï¼Œä»å°åˆ°å¤§ã€‚ç„¶åç”¨ä¹°çš„ä¸œè¥¿å»æ‰¾ç¬¬ä¸€ä¸ªä¸èƒ½ä½¿ç”¨çš„ä¼˜æƒ åˆ¸ï¼Œé‚£ä¹ˆå‰ä¸€å¼ ä¼˜æƒ åˆ¸å°±æ˜¯å¯ä»¥ä½¿ç”¨çš„æœ€å¤§é¢å€¼ã€‚å¦‚æœæ‰€æœ‰ä¼˜æƒ å·éƒ½å¯ä»¥ç”¨ï¼Œé‚£ä¹ˆä¹…ä½¿ç”¨é¢å€¼æœ€å¤§çš„ä¼˜æƒ åˆ¸æ¥è´­ä¹°ã€‚ è¾“å…¥ç¬¬ä¸€è¡Œnï¼Œmè¡¨ç¤ºä¼˜æƒ åˆ¸æ•°å’Œè´­ä¹°ä¸œè¥¿æ•°äºŒä¸‰è¡Œåˆ†åˆ«æ˜¯ä¼˜æƒ å·é¢å€¼å’Œè´­ä¹°ä»·æ ¼ï¼ˆä¸ä¿è¯æ’åºï¼‰ æ ·ä¾‹ï¼š è¾“å…¥ 3 4 50 100 200 99 199 200 300 è¾“å‡º 248 åˆ©ç”¨è¿™ä¸ªæƒ³æ³•å®ç°çš„ä»£ç ï¼ˆä¸ªäººå†™çš„ï¼‰åªè¿‡äº†40% è¶…æ—¶ï¼ˆæˆ‘è§‰å¾—æˆ‘è´´å¯¹ä»£ç äº†ï¼‰ ç²¾æ±¡æé†’ ```c++ #include #include #include int main() { int n, m; std::cin >> n >> m; std::deque discount(n); std::deque buy(m); for (int i = 0; i < n; ++i) std::cin >> discount[i]; for (int i = 0; i < m; ++i) std::cin >> buy[i]; std::sort(discount.begin(), discount.end()); std::sort(buy.begin(), buy.end()); long long res = 0; int i = 0 ; if (n == 0 || m == 0) { for (int i = 0; i < m; ++i) res += buy[i]; std::cout < res < std::endl; return 0; } while (!buy.empty()) { if (i >= discount.size()) { res += (buy[0] - discount[discount.size() - 1]); i = 0; buy.pop_front(); continue; } if (buy[0] >= discount[i]) i++; else { if (i == 0) res += buy[0]; else res += (buy[0] - discount[i - 1]); buy.pop_front(); i = 0; } } std::cout < res < std::endl; system(\"pause\"); return 0; } ```","categories":[{"name":"åæ§½","slug":"åæ§½","permalink":"/categories/åæ§½/"}],"tags":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/tags/æŠ€æœ¯/"},{"name":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","slug":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","permalink":"/tags/ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢/"},{"name":"ç¬”ç»é¢ç»å‡‰å‡‰ç»","slug":"ç¬”ç»é¢ç»å‡‰å‡‰ç»","permalink":"/tags/ç¬”ç»é¢ç»å‡‰å‡‰ç»/"}],"keywords":[{"name":"åæ§½","slug":"åæ§½","permalink":"/categories/åæ§½/"}]},{"title":"ç½‘æ˜“äº’å¨±2021å±Šå®ä¹ ç”Ÿæ‹›è˜åœ¨çº¿ç¬”è¯•ï¼æ¸¸æˆç ”å‘å·¥ç¨‹å¸ˆ å‡‰å‡‰ç»ï¼Ÿï¼Ÿ","slug":"ç½‘æ˜“äº’å¨±ç¬”è¯•å‡‰ç»","date":"2020-04-10T16:00:00.000Z","updated":"2020-05-08T08:26:09.630Z","comments":true,"path":"2020/04/11/ç½‘æ˜“äº’å¨±ç¬”è¯•å‡‰ç»/","link":"","permalink":"/2020/04/11/ç½‘æ˜“äº’å¨±ç¬”è¯•å‡‰ç»/","excerpt":"","text":"ç½‘æ˜“äº’å¨±2021å±Šå®ä¹ ç”Ÿæ‹›è˜åœ¨çº¿ç¬”è¯•ï¼æ¸¸æˆç ”å‘å·¥ç¨‹å¸ˆ å‡‰å‡‰ç»ï¼Ÿï¼Ÿç¬¬ä¸€é¢˜ æ¨¡æ‹Ÿï¼ˆè´ªå¿ƒï¼Ÿï¼‰é¢˜ç›®å¼•å­æ˜¯ä¼ è¯´ä¸­çš„40mé•¿åˆ€ï¼Œåœ¨ä¸€ä¸ªMÃ—Mçš„åœ°å›¾ä¸Šï¼Œä¸»è§’æ‰‹æŒé•¿Lçš„å¤§åˆ€ï¼Œæœ‰æ•°ä¸ªé“å…·åœ¨æ ¼å­ä¸Šï¼Œç”¨åˆ€ç æ‰é“å…·å¯ä»¥è®©åˆ€å˜é•¿ã€‚ä¸»è§’ä¸ä¼šç§»åŠ¨ã€‚é—®æ¸¸æˆç»“æŸæ—¶å€™ï¼Œä¸»è§’çš„åˆ€æœ€é•¿æœ‰å¤šå°‘ã€‚ è¾“å…¥é¦–å…ˆæ˜¯æ ·ä¾‹æ•°T ç„¶åæ˜¯åœ°å›¾å¤§å°Må’Œåˆ€çš„é•¿åº¦Lï¼Œç„¶åæ˜¯ä¸€ä¸ªçŸ©é˜µï¼ŒçŸ©é˜µä¸­ä¸ä¸º0çš„æ˜¯é“å…·ï¼Œå¾—åˆ°å¯ä»¥ä½¿åˆ€åŠ é•¿é‚£ä¸ªæ•°æ®ï¼Œç„¶åæ˜¯ä¸»è§’åæ ‡ã€‚æ ·ä¾‹ï¼š 6 1 0 0 0 0 0 1 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 1 0 1 0 1 0 0 0 0 0 0 0 1 0 2 1 2 ç­”æ¡ˆæ˜¯2 å› ä¸ºæˆ‘åœ¨ï¼ˆ1ï¼Œ2ï¼‰ä½ç½®ï¼Œæœ€è¿‘çš„æ˜¯ï¼ˆ1ï¼Œ3ï¼‰çš„é“å…·ï¼Œåˆ€ä¸º1ï¼›å¯ä»¥ç åˆ€ï¼Œç„¶ååˆ€é•¿ä¸º2ï¼Œæ¥ä¸‹æ¥æœ€è¿‘çš„æ˜¯ï¼ˆ3ï¼Œ3ï¼‰ï¼Œç¦»ï¼ˆ1ï¼Œ2ï¼‰æœ‰$\\sqrt{5}$çš„é•¿åº¦ï¼Œå¤§äºåˆ€é•¿ï¼Œæ‰€ä»¥æœ€ç»ˆä¸º2. æ•´ä¸ªé¢˜å°±æ˜¯è¯»å…¥é“å…·åæ ‡å’Œé“å…·æ•°å€¼ï¼Œç„¶åè®¡ç®—é“å…·è·ç¦»ä¸»è§’è·ç¦»ã€‚æŒ‰è·ç¦»ä»å°åˆ°å¤§æ’åºï¼Œä¾æ¬¡çœ‹èƒ½ä¸èƒ½ç é“å°±å¥½ï¼Œä¸€ä¸ªå°è´ªå¿ƒã€‚è´´å‡ºä¸€ä¸ªä¸€èˆ¬èˆ¬çš„ACä»£ç å§ #include&lt;iostream&gt; #include&lt;vector&gt; #include&lt;algorithm&gt; struct item { int x; int y; int distance; int weight; item() = default; item(int _x, int _y, int _weight) :x(_x), y(_y), weight(_weight) {}; }; int distance(int px, int py, int x, int y); bool distancecmp(item a, item b); int main() { int t; std::cin &gt;&gt; t; while (t--) { int m, l; std::cin &gt;&gt; m &gt;&gt; l; std::vector&lt;item&gt; v; for (int i = 0; i &lt; m; ++i) { for (int j = 0; j &lt; m; ++j) { int num; std::cin &gt;&gt; num; if (num == 0) continue; v.push_back(item(i, j, num)); } } int px, py; std::cin &gt;&gt; px &gt;&gt; py; for (int i = 0; i &lt; v.size(); ++i) { v[i].distance = distance(px, py, v[i].x, v[i].y); } std::sort(v.begin(), v.end(), distancecmp); for (int i = 0; i &lt; v.size(); ++i) { int ll = l * l; if (ll &lt; v[i].distance) { std::cout &lt;&lt; l&lt;&lt;std::endl; l = 0; break; } else l += v[i].weight; } if(l) std::cout &lt;&lt; l&lt;&lt;std::endl; } system(&quot;pause&quot;); return 0; } int distance(int px, int py, int x, int y) { int rx = px - x, ry = py - y; return rx * rx + ry * ry; } bool distancecmp(item a, item b) { return a.distance &lt; b.distance; } ç¬¬äºŒé¢˜ å¹¶æŸ¥é›†çš„é—®é¢˜æœ‰1â€”â€”Nä¸ªæ•°ï¼Œå¼€å§‹æ¯ä¸ªæ•°éƒ½å„è‡ªä¸ºä¸€ä¸ªé›†åˆï¼Œè¦æ±‚å®ç°ä»¥ä¸‹æ“ä½œ ç»™å‡ºxï¼Œyã€‚å°†yå¹¶åˆ°xä¸‹é¢ï¼Œå¦‚æœä¸¤ä¸ªæœ¬æ¥å°±åœ¨ä¸€ä¸ªé›†åˆï¼Œåˆ™ä»€ä¹ˆä¹Ÿä¸åš ç»™å‡ºxï¼Œå°†xæ‹¿å‡ºæ¥å•ç‹¬ä½œä¸ºä¸€ä¸ªé›†åˆï¼Œå¦‚æœxæœ¬èº«åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™ä»€ä¹ˆä¹Ÿä¸åšã€‚ ç»™å‡ºxï¼Œè¾“å‡ºxæ‰€åœ¨é›†åˆå…ƒç´ ä¸ªæ•°ã€‚ è¾“å…¥é¦–å…ˆæ˜¯æ ·ä¾‹æ•°Tï¼Œç„¶åæ˜¯ æ•°æ®ä¸ªæ•°nå’Œæ“ä½œæ•°mæ¥ä¸‹æ¥mè¡Œ ç¬¬ä¸€ä¸ªæ•°OPä¸º1æ—¶ï¼Œæ¥ä¸‹æ¥æ ¹ä¸¤ä¸ªæ•°xï¼Œyã€‚OPä¸º2æ—¶æ‰§è¡Œæ“ä½œ2ï¼ŒOPä¸º3æ—¶å€™è¾“å‡ºå…ƒç´ ä¸ªæ•°ã€‚ è¿™é‡Œå…¶å®åˆšåšé¢˜ç›®çš„æ—¶å€™ç¬¬äºŒä¸ªæ“ä½œæ²¡çœ‹æ‡‚ï¼Œå¦‚æœè¦ç‹¬ç«‹çš„å…ƒç´ æ—¶å¤´å¤´çš„è¯ï¼Œä»–åº•ä¸‹çš„å…ƒç´ æ˜¯ç‹¬ç«‹å‡ºNä¸ªé›†åˆï¼Ÿè¿˜æ˜¯åˆå¹¶åˆ°å…¶ä¸­ä¸€ä¸ªé‡Œå»ï¼Ÿæœ€åçœ‹æ ·å­ä¼¼ä¹æ˜¯ç¬¬ä¸€ç§ï¼Œç‹¬ç«‹å‡ºNä¸ªé›†åˆã€‚ å½“æ—¶çœ‹åˆ°è¿™ä¸ªé¢˜æ•´ä¸ªäººéƒ½æ˜¯CNMçš„çŠ¶æ€ï¼Œå¬è¯´7å·äº’è”ç½‘é‚£è¾¹è€ƒäº†ä¸ªå¹¶æŸ¥é›†ï¼Œè§‰å¾—äº’å¨±ä¸ä¼šè€ƒè¿™ä¸ªï¼Œéš¾åº¦åº”è¯¥æ¥è¿‘é›·ç«å‰ä¸¤ä¸ªå§ã€‚ç»“æœè€ƒäº†ä¸ªå¹¶æŸ¥é›†ï¼Œç„¶åæˆ‘è¿˜å¿˜äº†æ€ä¹ˆå‹ç¼©è·¯å¾„ã€‚å•Šï¼å¤©å•Šï¼å…¶å®å°±æ˜¯findé‡Œå˜äº†ä¸ªx =find()ï¼ï¼ï¼ï¼è ¢å“­äº†è‡ªå·±ã€‚ è¿™é‡Œç»™ä¸ªåƒåœ¾çš„ä¸€æ‰¹çš„70%ä»£ç å§ é™æ™ºæ‰“å‡» ```c++ #include #include struct element { int value; std::vector next; int pre; int num; }; int find(std::vector &v, int x) { return v[x].pre == x ? x : find(v, v[x].pre); } void Union(std::vector &v, int x, int y); void cut(std::vector &v, int x); int count(std::vector &v, int x); int main() { int t; std::cin >> t; while (t--) { int n, m; std::cin >> n >> m; std::vector v(n + 1); for (int i = 1; i op; if (op == 1) { int x, y; std::cin >> x >> y; Union(v, x, y); } else if (op == 2) { int x; std::cin >> x; cut(v, x); } else if (op == 3) { int x; std::cin >> x; std::cout < count(v, x) < std::endl; } } } system(\"pause\"); return 0; } void Union(std::vector","categories":[{"name":"åæ§½","slug":"åæ§½","permalink":"/categories/åæ§½/"}],"tags":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/tags/æŠ€æœ¯/"},{"name":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","slug":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","permalink":"/tags/ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢/"},{"name":"ç¬”ç»é¢ç»å‡‰å‡‰ç»","slug":"ç¬”ç»é¢ç»å‡‰å‡‰ç»","permalink":"/tags/ç¬”ç»é¢ç»å‡‰å‡‰ç»/"}],"keywords":[{"name":"åæ§½","slug":"åæ§½","permalink":"/categories/åæ§½/"}]},{"title":"2020ç±³å“ˆæ¸¸æ˜¥å­£æ ¡å›­æ‹›è˜ç¨‹åºBå·å‡‰å‡‰ç»","slug":"ç±³å“ˆæ¸¸å‡‰ç»","date":"2020-04-02T16:00:00.000Z","updated":"2020-07-15T13:57:44.903Z","comments":true,"path":"2020/04/03/ç±³å“ˆæ¸¸å‡‰ç»/","link":"","permalink":"/2020/04/03/ç±³å“ˆæ¸¸å‡‰ç»/","excerpt":"","text":"2020ç±³å“ˆæ¸¸æ˜¥å­£æ ¡å›­æ‹›è˜ç¨‹åºBå·å‡‰å‡‰ç»æˆ‘è‰æ³¥é©¬è‡ªå·±å®åœ¨æ˜¯å¤ªèœäº†ï¼Œèœæ­»äº†ï¼Œåƒåœ¾å•Šï¼ ç¬¬ä¸€éƒ¨åˆ† ä¸å®šé¡¹é€‰æ‹©è€ƒå¯Ÿä¸‹åˆ—å†…å®¹ c++ è™šå‡½æ•°éƒ¨åˆ† æ“ä½œç³»ç»Ÿ ç»„åŸï¼Ÿ Linux fork clone exec è®¡ç®—æœºç½‘ç»œ IPå’Œä¸€ä¸ªselectä»€ä¹ˆçš„ï¼Ÿï¼Ÿï¼Ÿ ä¸äº†è§£ åŸºæœ¬è¯»ç¨‹åº æ ˆå¿˜äº† ç¬¬äºŒéƒ¨åˆ† æ­£åˆ™è¡¨è¾¾å¼ äºŒå‰æ ‘çœŸå·§æˆ‘è¿™ä¸¤ä¸ªéƒ½æ²¡å¤ä¹ åˆ°ã€‚ç›´æ¥å‡‰å‡‰æ­£åˆ™è¡¨è¾¾å¼ç»™å‡ºä¸€ä¸ªå­—ç¬¦ä¸²s ç»™å‡ºä¸€ä¸ªè§„åˆ™ï¼Œè§„åˆ™åŒ…æ‹¬(ã€)ã€.ã€,()è¡¨ç¤ºå¿…é¡»åŒ¹é…ï¼ˆï¼‰å†…å­—ç¬¦ã€‚.è¡¨ç¤ºåŒ¹é…ä»»æ„å­—ç¬¦ï¼Œè¡¨ç¤ºåŒ¹é…å‰é¢0ä¸ªæ´»å¤šä¸ªå­—ç¬¦ã€‚è¾“å‡ºä¸ºsæ˜¯å¦æ»¡è¶³è§„åˆ™ã€‚ æ„Ÿè§‰å¥½åƒèƒ½ç›´æ¥ç”¨regexï¼Ÿ å…¶å®åæ¥å†™äº†ä¸ªæŠŠå­—ç¬¦ä¸²æŒ‰è§„åˆ™æ‰«ä¸€éçš„ä»£ç ï¼Œä½†æ˜¯ã€‚ã€‚ã€‚æœ€åä¸€ç§’ä¹Ÿæ²¡äº¤ä¸Šå»ã€‚ä¸»è¦ä»–ç»™çš„æ ¼å¼æ˜¯ç‰›å®¢ä¸Šã€Šå‰‘æŒ‡Offerã€‹é‚£ä¸ªæ ¼å¼ï¼Œæ˜¯ä¸ªç±»ã€‚è€Œä¸ªäººåšé¢˜è¿˜æ˜¯é¢å‘è¿‡ç¨‹çš„mainå‡½æ•°ã€‚æ‰€ä»¥å¿™ç€çœ‹å¤åˆ¶åˆ°å“ªé‡Œåˆé€‚çš„æ—¶å€™ï¼Œæ—¶é—´åˆ°äº†ï¼Œæƒ¨ èœé¸¡ æƒ¨ã€‚è€Œä»£ç ï¼Œï¼Œï¼Œä¸å°å¿ƒç»™è¦†ç›–æ‰äº†æ‰€ä»¥ã€‚æ²¡ç•™åº•ã€‚å“‡ï¼Œç¥¸ä¸å•è¡Œã€‚ äºŒå‰æ ‘ä¸€ä¸ªè®¡ç®—æœºè¿æ¥ç³»ç»Ÿè¿æ¥æ–¹å¼ä¸ºäºŒå‰æ ‘æ–¹æ³•ï¼Œç»™å‡ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œ1ä»£è¡¨æœ‰è®¡ç®—æœºï¼Œ0ä»£è¡¨æ²¡æœ‰ã€‚å­—ç¬¦ä¸²ç»„æˆåªæœ‰0ã€1.å­—ç¬¦ä¸²çš„æ˜¯æŒ‰BFSç»™å‡ºçš„ã€‚ç°åœ¨è¦è®¾ç½®ç›‘æ§è®¡ç®—æœºï¼Œæ¯ä¸ªç›‘æ§è®¡ç®—æœºåªèƒ½ç›‘æ§ä¸€ä¸ªè®¡ç®—æœºã€‚é—®ï¼Œè‹¥æ‰€æœ‰è®¡ç®—æœºï¼ˆç›‘æ§è®¡ç®—æœºé™¤å¤–ï¼‰éƒ½è¢«ç›‘æ§ï¼Œé—®ç›‘æ§è®¡ç®—æœºæœ‰å¤šå°‘å°ï¼Œè‹¥æ— æ³•å®Œæˆç›‘æ§å¹¶æ²¡æœ‰é‡å¤ç›‘æ§çš„æƒ…å†µä¸‹è¾“å‡º0ï¼› ä¾‹ï¼šå­—ç¬¦ä¸²ä¸ºâ€œ11100111â€ï¼Œç›‘æ§è®¡ç®—æœºä¸ºå­—ç¬¦ä¸²ä½ç½®çš„ 1 6 7å·è®¡ç®—æœºã€‚ å°±æ˜¯æ¯ä¸ªç›‘æ§èŠ‚ç‚¹å˜æˆåªèƒ½ç›‘æ§ä¸€ä¸ªçš„ç›‘æ§äºŒå‰æ ‘ã€‚ è¯´å®è¯æ²¡å•¥å¥½è¯´çš„ï¼Œèœçš„ä¸€æ‰¹ï¼Œå•¥ä¹Ÿä¸ä¼šã€‚ æœ‰æ—¶é—´è¿˜æ˜¯è¿”å›æ¥çœ‹ã€‚","categories":[{"name":"åæ§½","slug":"åæ§½","permalink":"/categories/åæ§½/"}],"tags":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/tags/æŠ€æœ¯/"},{"name":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","slug":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","permalink":"/tags/ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢/"},{"name":"ç¬”ç»é¢ç»å‡‰å‡‰ç»","slug":"ç¬”ç»é¢ç»å‡‰å‡‰ç»","permalink":"/tags/ç¬”ç»é¢ç»å‡‰å‡‰ç»/"}],"keywords":[{"name":"åæ§½","slug":"åæ§½","permalink":"/categories/åæ§½/"}]},{"title":"ç½‘æ˜“æ¸¸æˆé›·ç«2020æ˜¥æ‹›æ¸¸æˆç ”å‘å·¥ç¨‹å¸ˆç¬”è¯•0329å‡‰å‡‰ç»","slug":"ç½‘æ˜“é›·ç«ç¬”è¯•å‡‰ç»","date":"2020-03-28T16:00:00.000Z","updated":"2020-04-11T14:44:20.725Z","comments":true,"path":"2020/03/29/ç½‘æ˜“é›·ç«ç¬”è¯•å‡‰ç»/","link":"","permalink":"/2020/03/29/ç½‘æ˜“é›·ç«ç¬”è¯•å‡‰ç»/","excerpt":"","text":"ç½‘æ˜“æ¸¸æˆé›·ç«2020æ˜¥æ‹›æ¸¸æˆç ”å‘å·¥ç¨‹å¸ˆç¬”è¯•0329å‡‰å‡‰ç»ç¬¬ä¸€æ¬¡ç¬”è¯•å¿ƒé‡Œæ…Œå¾—å¾ˆï¼Œå››ä¸ªå°æ—¶ä¸‹æ¥è†€èƒ±å¿«ç‚¸äº†ä¹Ÿä¸æ•¢ç¦»å¼€ï¼ˆå‘å¤å“¥çœ‹é½ï¼‰ã€‚è„‘ç»†ä¸€ç‰‡æ··ä¹±ï¼Œåªè®°å¾—å†™å¤§æ¦‚ã€‚æŠŠèƒ½è®°å¾—çš„å†™ä¸€ä¸‹ ç¬¬ä¸€é¢˜æ–æ³¢é‚£å¥‘æ•°åˆ—é—®é¢˜ç›¸å…³ã€‚ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²F1ï¼ŒF2ï¼ŒF3=F2+F1ï¼ŒF4=F3+F2â€¦â€¦â€¦â€¦ï¼Œæ±‚Fnä¸­æ¯ä¸ªå­—æ¯å‡ºç°æ¬¡æ•°ï¼ŒF1ã€F2å°äº10ï¼›N&lt;40 è¿™ä¸ªç¬¬ä¸€çœ¼çœ‹ä¸Šå»å¥½å®¶ä¼™æ±‚Fnå†ç»Ÿè®¡å˜›ï¼Œ string f1,f2,res; for (int i = 3; i &lt;= n; ++i) { res = f1 + f2; f1 = f2; f2 = res; } è¿™ä¸ªä¼šçˆ†å†…å­˜ï¼Œç„¶åå°±æƒ³ç€å…ˆç»Ÿè®¡f1,f2ä¸­ä¸ªæ•°ï¼Œå†ç”¨æ–æ³¢é‚£å¥‘å»æ±‚ã€‚è¿™é‡Œå°±ç”¨åˆ°äº†mapã€‚ä½†æ˜¯å½“æ—¶ä¸çŸ¥é“æ€ä¹ˆæƒ³çš„ï¼Œå¯èƒ½è§‰å¾—ï¼Œå‘€ï¼Œè¿™ä¹ˆç®€å•çš„æ€ä¹ˆWAäº†ï¼Œè¢«å“åˆ°äº†ï¼Œé€»è¾‘ä¸€ä¸‹ååˆ†æ··ä¹±ã€‚å¯¼è‡´èƒ¡ä¹±åˆ¤æ–­ï¼Œèƒ¡ä¹±ä½¿ç”¨å‡½æ•°ã€‚è¿™é‡Œè´´ä¸€ä¸‹ï¼Œè®°å½•ä¸‹è‡ªå·±çš„SBè¡Œä¸ºã€‚SBçš„åœ°æ–¹æ³¨é‡Šè§ å°å¿ƒæ±¡æŸ“æ™ºå•† ```c++ #include #include #include #include using namespace std; int main() { int n = 0; cin >> n; string f1, f2; map mapf1; map mapf2; cin >> f1 >> f2; for(int i=0;ifirst] = it->second; else res[it->first] += it->second; } mapf1 = mapf2; mapf2 = res; temp = res; } for (auto it = temp.begin(); it != temp.end(); ++it) { cout < it->first < \":\" < it->second < endl; } return 0; } ``` m.t >> m.e; m.v = (float)m.e / m.t; monsters.push_back(m); } //æ³¨æ„è¿™é‡Œã€‚ sort(monsters.begin(), monsters.end(), cmp); int exp = 0; while (monsters.size() != 0) { // é‡ç‚¹æ¥äº†ï¼Œè¿™é‡Œä¸€å®šå°‘ç‚¹å•¥ã€‚ exp += monsters[0].e; monsters.erase(monsters.begin()); value(monsters, t); //å¯¹æ²¡é”™ï¼Œå°‘å†æ’åºï¼Œä¸è¯´äº†ï¼Œæˆ‘æ˜¯è ¢æ­»çš„ } cout < exp < endl; return 0; } ```","categories":[{"name":"åæ§½","slug":"åæ§½","permalink":"/categories/åæ§½/"}],"tags":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/tags/æŠ€æœ¯/"},{"name":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","slug":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","permalink":"/tags/ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢/"},{"name":"ç¬”ç»é¢ç»å‡‰å‡‰ç»","slug":"ç¬”ç»é¢ç»å‡‰å‡‰ç»","permalink":"/tags/ç¬”ç»é¢ç»å‡‰å‡‰ç»/"}],"keywords":[{"name":"åæ§½","slug":"åæ§½","permalink":"/categories/åæ§½/"}]},{"title":"D3Dæ¸²æŸ“ç®¡çº¿å’ŒShaderçš„ä¸€äº›äº‹","slug":"Shader&HLSL","date":"2020-03-23T16:00:00.000Z","updated":"2020-04-11T14:44:27.090Z","comments":true,"path":"2020/03/24/Shader&HLSL/","link":"","permalink":"/2020/03/24/Shader&HLSL/","excerpt":"","text":"indexï¼Ÿ Input Assembler Stage è¾“å…¥è£…é…é˜¶æ®µ Vertex Shader Stage é¡¶ç‚¹ç€è‰²å™¨é˜¶æ®µ Tessellating Gometry Stage é•¶åµŒå¤„ç†é˜¶æ®µ Hull Shader Stage å¤–å£³ç€è‰²å™¨é˜¶æ®µ Tessellator Stage æ›²é¢ç»†åˆ†é˜¶æ®µ Domain shader Stage åŸŸç€è‰²å™¨é˜¶æ®µ Geometry Shader Stage å‡ ä½•ç€è‰²å™¨é˜¶æ®µ Stream Output Stage æµè¾“å‡ºé˜¶æ®µ Rasterizer Stage å…‰æ …åŒ–é˜¶æ®µ Pixel Shader Stage åƒç´ ç€è‰²å™¨é˜¶æ®µ Output Merger Stage åˆå¹¶è¾“å‡ºé˜¶æ®µ 1 Input Assembler Stage è¾“å…¥è£…é…é˜¶æ®µè¿™ä¸ªé˜¶æ®µå…¶å®å°±æ˜¯è¯»å–æ˜¾å­˜ä¸­æˆ‘ä»¬å­˜å‚¨çš„é¡¶ç‚¹å’Œç´¢å¼•æ•°æ®ã€‚æŒ‰ç…§æ‰€è®¾ç½®å¥½çš„å›¾å…ƒæ‹“æ‰‘æ ¹æ®ç´¢å¼•è£…é…é¡¶ç‚¹ã€‚è£…é…ç»“æœä¼šè¢«é€VSï¼ˆVertex Shaderï¼‰ è¿™é‡Œä»é¡¶ç‚¹çš„åˆ›å»ºå¼€å§‹è¯´æ˜ã€‚ é¦–å…ˆéœ€è¦å…ˆå®šä¹‰é¡¶ç‚¹çš„ç»“æ„ä½“æ¯”å¦‚ struct Vertex { DirectX::XMFLOAT3 Pos; DirectX::XMFLOAT3 Normal; DirectX::XMFLOAT2 TexC; }; æ¥ä¸‹æ¥ï¼Œä¸ºäº†è®©Direct3DçŸ¥é“æ€ä¹ˆå¯¹å¾…æˆ‘ä»¬çš„æ•°æ®ï¼Œéœ€è¦å¡«å†™è¾“å…¥å¸ƒå±€æè¿°ï¼ˆInput Layout Descriptionï¼‰ typedef struct D3D12_INPUT_LAYOUT_DESC { const D3D12_INPUT_ELEMENT_DESC *pInputElementDescs; UINT NumElements; } D3D12_INPUT_LAYOUT_DESC; è€Œå®é™…ä¸Šæè¿°å¸ƒå±€çš„æ˜¯å…¶ä¸­çš„D3D12_INPUT_ELEMENT_DESC typedef struct D3D11_INPUT_ELEMENT_DESC { LPCSTR SemanticName; UINT SemanticIndex; DXGI_FORMAT Format; UINT InputSlot; UINT AlignedByteOffset D3D11_INPUT_CLASSIFICATION InputSlotClass; UINT InstanceDataStepRate; } D3D11_INPUT_ELEMENT_DESC; LPCSTR SemanticNameï¼šå…³äºshaderè¾“å…¥å‚æ•°çš„HLSLçš„è¯­ä¹‰ã€‚ UINT SemanticIndexï¼šè¯­ä¹‰çš„ç´¢å¼•ï¼Œç”¨äºç»™ç›¸åŒè¯­ä¹‰çš„å˜é‡ï¼Œæ¯”å¦‚ä¸€ä¸ªé¡¶ç‚¹ç”±ä¸¤ç»„Textureï¼Œå¯ä»¥å†ä¸å¼•å…¥æ–°è¯­ä¹‰çš„æƒ…å†µä¸‹åŒºåˆ†ä»–ä»¬ã€‚æœªæŒ‡å®šé»˜è®¤ä¸º1ã€‚ DXGI_FORMAT Formatï¼šé€šè¿‡DXGI_FORMATçš„å˜é‡æ¥æŒ‡å®šå…ƒç´ çš„ç±»å‹ã€‚ UINT InputSlotï¼šæŒ‡å®šå…ƒç´ ä¼ å…¥çš„è¾“å…¥æ§½ï¼ŒDirect3Dæ”¯æŒ16ä¸ªï¼ˆ0~15ï¼‰è¾“å…¥æ§½ã€‚å¯ä»¥é€šè¿‡è¾“å…¥æ§½æ¥å‘è¾“å…¥è£…é…é˜¶æ®µä¼ é€’é¡¶ç‚¹æ•°æ®ã€‚ UINT AlignedByteOffsetï¼šè¾“å…¥æ§½ä¸­æ•°æ®çš„åç§»é‡ï¼Œä¸€ä¸ªç»“æ„ä½“å…ƒç´ ä¸­ä¼šæœ‰å¤šä¸ªå˜é‡ï¼Œéœ€è¦ç¡®å®šåç§»é‡æ‰èƒ½æ­£ç¡®æ‰¾åˆ°å˜é‡ã€‚ D3D11_INPUT_CLASSIFICATION InputSlotClassï¼šå•ä¸ªè¾“å…¥æ§½çš„è¡¨ç¤ºç±»ã€‚å…·ä½“å‚ç…§D3D12_INPUT_CLASSIFICATION UINT InstanceDataStepRateï¼šä¸å®ä¾‹åŒ–æŠ€æœ¯æœ‰å…³ï¼Œç½®ä¸º1æ„å‘³ç€è¦æ˜¯ç”¨å®ä¾‹åŒ–æŠ€æœ¯ã€‚ é’ˆå¯¹ä¸Šè¿°é¡¶ç‚¹ï¼ŒD3D11_INPUT_ELEMENT_DESCå¯å¡«å†™ä¸º { { &quot;POSITION&quot;, 0, DXGI_FORMAT_R32G32B32_FLOAT, 0, 0, D3D12_INPUT_CLASSIFICATION_PER_VERTEX_DATA, 0 }, { &quot;NORMAL&quot;, 0, DXGI_FORMAT_R32G32B32_FLOAT, 0, 12, D3D12_INPUT_CLASSIFICATION_PER_VERTEX_DATA, 0 }, { &quot;TEXCOORD&quot;, 0, DXGI_FORMAT_R32G32_FLOAT, 0, 24, D3D12_INPUT_CLASSIFICATION_PER_VERTEX_DATA, 0 }, }; æ¥ä¸‹æ¥å°±è¦å‡†å¤‡é¡¶ç‚¹æ•°æ®äº†ã€‚ä¸ºäº†è®©GPUèƒ½å¾—åˆ°æ•°æ®ï¼Œéœ€è¦æŠŠé¡¶ç‚¹æ•°æ®æ”¾åˆ°GPUèµ„æºï¼ˆæ˜¾å­˜ï¼‰ä¸­ã€‚DirectX12ä¸­ä½¿ç”¨ID3D12Resourceæ¥ç®¡ç†ã€‚ è¦åˆ›å»ºID3D12Resourceé¦–å…ˆéœ€è¦å¡«å†™D3D12_RESOURCE_DESC typedef struct D3D12_RESOURCE_DESC { D3D12_RESOURCE_DIMENSION Dimension; UINT64 Alignment; UINT64 Width; UINT Height; UINT16 DepthOrArraySize; UINT16 MipLevels; DXGI_FORMAT Format; DXGI_SAMPLE_DESC SampleDesc; D3D12_TEXTURE_LAYOUT Layout; D3D12_RESOURCE_FLAGS Flags; } D3D12_RESOURCE_DESC; D3D12_RESOURCE_DIMENSION Dimensionï¼šèµ„æºç»´åº¦ï¼Œä½¿ç”¨D3D12_RESOURCE_DIMENSION å¡«å†™ã€‚ UINT64 Alignment;ï¼šæ²¡æŸ¥åˆ°ï¼Œä¸€èˆ¬ä¸º0ã€‚ UINT64 Width;ï¼šèµ„æºçš„å®½åº¦ï¼Œå¯¹äºç¼“å†²åŒºèµ„æºåˆ™æ˜¯ç¼“å†²å ç”¨å­—èŠ‚æ•°ã€‚ UINT Height;ï¼šèµ„æºçš„é«˜åº¦ã€‚ UINT16 DepthOrArraySize;ï¼šèµ„æºæ·±åº¦ï¼ˆå¯¹äº3DTextureï¼‰ï¼Œå¯¹äº1Dã€2DTextureåˆ™è¡¨ç¤ºæ•°ç»„å¤§å°ã€‚ UINT16 MipLevelsï¼šminmapçš„å±‚æ•°ã€‚ DXGI_FORMAT Format;ï¼šèµ„æºæ ¼å¼ï¼Œä½¿ç”¨DXGI_FORMATå¡«å†™ DXGI_SAMPLE_DESC SampleDesc;ï¼šé‡‡æ ·å™¨æè¿°ï¼Œä½¿ç”¨DXGI_SAMPLE_DESCå¡«å†™ï¼Œå®é™…ä¸Šå’Œå¤šé‡é‡‡æ ·ï¼ˆMSAAï¼‰æœ‰å…³ï¼Œæè¿°ä¸­è®¾ç½®äº†é‡‡æ ·è´¨é‡çº§åˆ«å’Œé‡‡æ ·æ¬¡æ•°ã€‚ D3D12_TEXTURE_LAYOUT Layout;ï¼šèµ„æºçš„layoutï¼Œä½¿ç”¨D3D12_TEXTURE_LAYOUTå¡«å†™ã€‚ D3D12_RESOURCE_FLAGS Flags;ï¼šä¸èµ„æºæœ‰å…³çš„æ‚é¡¹æ ‡å¿—ä½ï¼Œä½¿ç”¨D3D12_RESOURCE_FLAGSå¡«å†™ã€‚ è¿™é‡Œå…¶å®Direct3D 12æä¾›äº†ä¸ªåŒ…è£…ç±»CD3DX12_RESOURCE_DESCï¼Œä»–æ´¾ç”Ÿè‡ªD3D12_RESOURCE_DESCï¼Œå¯ä»¥ç®€åŒ–æˆ‘ä»¬çš„åˆ›å»ºè¿‡ç¨‹ã€‚ å¡«å†™å®Œæè¿°åå°±å¯ä»¥ç”¨å®ƒæ¥å†ç°å­˜ä¸Šå¼€è¾Ÿä¸€å—é€‚åˆçš„ç©ºé—´äº†ã€‚åˆ›å»ºè¯¥å †ä½¿ç”¨çš„æ˜¯ID3D12Device::CreateCommittedResourceæ–¹æ³• HRESULT CreateCommittedResource( const D3D12_HEAP_PROPERTIES *pHeapProperties, D3D12_HEAP_FLAGS HeapFlags, const D3D12_RESOURCE_DESC *pDesc, D3D12_RESOURCE_STATES InitialResourceState, const D3D12_CLEAR_VALUE *pOptimizedClearValue, REFIID riidResource, void **ppvResource ); const D3D12_HEAP_PROPERTIES *pHeapPropertiesï¼šä¸€ä¸ªæŒ‡å‘å †æ‰€å…·æœ‰çš„å±æ€§çš„æŒ‡é’ˆï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨CD3DX12_HEAP_PROPERTIES ç±»æ¥åˆ›å»ºï¼Œæ‰€ä»¥ä¸€èˆ¬æƒ…å†µåªç”¨å…³æ³¨D3D12_HEAP_TYPEå°±å¯ä»¥ï¼Œè¿™ä¸ªç±»å‹ç¨åè¯´æ˜ã€‚ D3D12_HEAP_FLAGS HeapFlagsï¼šå’Œå †æœ‰å…³çš„é¢å¤–æ ‡å¿—é€‰é¡¹ï¼Œå‚ç…§D3D12_HEAP_FLAGSï¼Œé€šå¸¸ä½¿ç”¨D3D12_HEAP_FLAG_NONE/ const D3D12_RESOURCE_DESC *pDescï¼šä¸€ä¸ªæŒ‡å‘D3D12_RESOURCE_DESCçš„æŒ‡é’ˆï¼Œè—è§†å¾…åˆ›å»ºçš„èµ„æºã€‚ D3D12_RESOURCE_STATES InitialResourceStateï¼šèµ„æºçš„åˆå§‹çŠ¶æ€ã€‚ const D3D12_CLEAR_VALUE *pOptimizedClearValueï¼šæè¿°ä¸€ä¸ªç”¨äºæ¸…é™¤èµ„æºçš„ä¼˜åŒ–å€¼ï¼Œå¯ä»¥ä¸ºNULLã€‚ REFIID riidResourceï¼šå¸Œæœ›è·å¾—çš„ID3D12Resourceçš„æ¥å£çš„COM IDã€‚ void **ppvResourceï¼šæ–°å»ºçš„èµ„æºçš„æŒ‡é’ˆã€‚ è¿™é‡Œå…¶å®è¿˜æœ‰ä¸€ç§åˆ›å»ºèµ„æºå †çš„æ–¹å¼ID3D12Device :: CreatePlacedResourceæœ‰æœºä¼šä¼šè¯´ã€‚ å…³äºæ˜¾å­˜ä¸Šå †çš„èµ„æºç±»å‹ typedef enum D3D12_HEAP_TYPE { D3D12_HEAP_TYPE_DEFAULT, D3D12_HEAP_TYPE_UPLOAD, D3D12_HEAP_TYPE_READBACK, D3D12_HEAP_TYPE_CUSTOM } ; D3D12_HEAP_TYPE_DEFAULTï¼šé»˜è®¤å †ï¼Œåªå…è®¸GPUè®¿é—®ï¼Œæ‰€ä»¥é€Ÿåº¦æœ€å¿«ã€‚D3D12_HEAP_TYPE_UPLOADï¼šä¸Šä¼ å †ï¼Œå‘è¿™é‡Œæäº¤çš„éƒ½æ˜¯è¦CPUä¸Šä¼ åˆ°GPUçš„èµ„æºã€‚D3D12_HEAP_TYPE_READBACKï¼šå›ä¼ å †ï¼Œå‘è¿™é‡Œæäº¤çš„èµ„æºæ˜¯éœ€è¦CPUè¯»å–çš„èµ„æºã€‚D3D12_HEAP_TYPE_CUSTOMï¼šåº”ç”¨äºé«˜çº§ç‰¹æ€§ã€‚ æ˜¾ç„¶ï¼Œæˆ‘ä»¬éœ€è¦è®©GPUè¯»å–é¡¶ç‚¹èµ„æºï¼Œæ”¾åœ¨é»˜è®¤å †æ˜¯æ¯”è¾ƒåˆé€‚çš„ã€‚ä½†æ˜¯CPUåˆä¸èƒ½ç›´æ¥è®¿é—®ï¼Œäºæ˜¯éœ€è¦ä½¿ç”¨ä¸Šä¼ å †æ¥å®Œæˆé¡¶ç‚¹èµ„æºå‘æ˜¾å­˜çš„ç§»åŠ¨ã€‚è¿™å°±éœ€è¦åˆ›å»ºä¸¤ä¸ªå †ï¼Œä¸€ä¸ªä½¿ç”¨D3D12_HEAP_TYPE_DEFAULTä¸€ä¸ªä½¿ç”¨D3D12_HEAP_TYPE_UPLOADã€‚ ç„¶åä¸ºäº†å‘Šè¯‰Direct3Dæˆ‘ä»¬è¦æäº¤ä»€ä¹ˆæ ·çš„æ•°æ®ï¼Œéœ€è¦å¡«å†™ä¸€ä¸ªæè¿°D3D12_SUBRESOURCE_DATA typedef struct D3D12_SUBRESOURCE_DATA { const void *pData; LONG_PTR RowPitch; LONG_PTR SlicePitch; } D3D12_SUBRESOURCE_DATA; ç„¶åå°±å¯ä»¥ä½¿ç”¨UpdateSubresourceså‡½æ•°æ¥ä¸Šä¼ é¡¶ç‚¹èµ„æºäº†ã€‚ å½“ç„¶è¿™é‡Œæ˜¯CPUå’ŒGPUâ€œä¸€èµ·å·¥ä½œâ€ï¼Œè¿™è‡ªç„¶å°±é‡åˆ°åŒæ­¥é—®é¢˜ã€‚å¯¹äºD3D12ï¼Œæˆ‘ä»¬ç”¨èµ„æºå±éšœD3D12_RESOURCE_BARRIERæ¥åŒæ­¥èµ„æºçŠ¶æ€ã€‚ typedef struct D3D12_RESOURCE_BARRIER { D3D12_RESOURCE_BARRIER_TYPE Type; D3D12_RESOURCE_BARRIER_FLAGS Flags; union { D3D12_RESOURCE_TRANSITION_BARRIER Transition; D3D12_RESOURCE_ALIASING_BARRIER Aliasing; D3D12_RESOURCE_UAV_BARRIER UAV; }; } D3D12_RESOURCE_BARRIER; ç„¶åå°±å¯ä»¥ä½¿ç”¨ID3D12GraphicsCommandList::ResourceBarrieræ–¹æ³•æ¥è®¾ç½®èµ„æºå±éšœã€‚åœ¨ä½¿ç”¨èµ„æºä¹‹å‰å’Œä½¿ç”¨åéƒ½è¦è®°å¾—åŒæ­¥èµ„æºå±æ€§ã€‚åŒæ ·ï¼Œä¾ç„¶æœ‰ä¸€ä¸ªåŒ…è£…ç±»CD3DX12_RESOURCE_BARRIERå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç®€åŒ–åˆ›å»ºæ“ä½œã€‚ å½“ç„¶ï¼Œä¸æ˜¯æ‰€æœ‰çš„é¡¶ç‚¹éƒ½ä¼šè¢«é€åˆ°é»˜è®¤å †ä¸Šï¼Œä¸€äº›éœ€è¦é¢‘ç¹æ”¹åŠ¨çš„å¯¹è±¡çš„é¡¶ç‚¹è¿™ä¹ˆæ“ä½œå°±ä¸åˆé€‚ï¼Œæ‰€ä»¥è¿™ç±»é¡¶ç‚¹å¯ä»¥å°±æ”¾åœ¨ä¸Šä¼ å †ä¸Šã€‚ åˆ°è¿™é‡Œæˆ‘ä»¬çš„æ•°æ®æ‰ç®—æ˜¯å‡†å¤‡å¥½äº†ï¼Œæ¥ä¸‹åœ¨å°±æ˜¯çœŸæ­£çš„è¾“å…¥è£…é…é˜¶æ®µã€‚æˆ‘ä»¬éœ€è¦è°ƒç”¨ä¸‰ä¸ªæ–¹æ³•æ¥å®Œæˆè¿™ä¸ªé˜¶æ®µ ID3D12GraphicsCommandList::IASetVertexBuffers ID3D12GraphicsCommandList::IASetIndexBuffer ID3D12GraphicsCommandList::IASetPrimitiveTopology é¦–å…ˆç¬¬ä¸€ä¸ªæ–¹æ³•æ˜¯å‘æ¸²æŸ“ç®¡çº¿æä¾›é¡¶ç‚¹ï¼Œæ¥ä¸‹æ¥åˆ†åˆ«æ˜¯æä¾›é¡¶ç‚¹ç´¢å¼•å’Œè®¾ç½®å›¾å…ƒæ‹“æ‰‘(primitive topology)ã€‚ ä¸ºä»€ä¹ˆè¦æä¾›é¡¶ç‚¹ç´¢å¼•å’Œå›¾å…ƒæ‹“æ‰‘ï¼Œå› ä¸ºä¸€å †é¡¶ç‚¹å¯ä»¥æœ‰è®¸å¤šç§è¿æ¥æ–¹å¼ï¼Œè€Œæˆ‘ä»¬æƒ³è¦çš„åªæ˜¯å…¶ä¸­çš„ä¸€ç§ã€‚å›¾å…ƒæ‹“æ‰‘å°±æ˜¯è¯´æ˜é¡¶ç‚¹ä¹‹é—´åº”è¯¥ä»¥ä»€ä¹ˆæ–¹å¼è¿›è¡Œè¿æ¥ã€‚è€Œå›¾å…ƒæ‹“æ‰‘ä»D3D_PRIMITIVE_TOPOLOGYé€‰æ‹©ã€‚ 2 Vertex Shader Stage é¡¶ç‚¹ç€è‰²å™¨é˜¶æ®µå›¾å…ƒè¢«è£…é…å®Œæ¯•åï¼Œé¡¶ç‚¹å°±ä¼šè¢«é€å…¥VS(Vertex Shader)ã€‚è¿™æ—¶å€™å°±éœ€è¦ä½¿ç”¨ç€è‰²å™¨è¯­è¨€(Shader Language)æ¥ç¼–å†™VSã€‚VSå¯ä»¥å®ç°å¾ˆå¤šä¸œè¥¿ï¼Œä¾‹å¦‚å˜æ¢ï¼Œå…‰ç…§ï¼Œä½ç§»è´´å›¾ç­‰ã€‚è€Œæœ€å¤šåº”ç”¨çš„å°±æ˜¯é¡¶ç‚¹çš„å˜æ¢å¤„ç†ã€‚ æˆ‘ä»¬çŸ¥é“3Dæ¨¡å‹çš„é¡¶ç‚¹éƒ½æ˜¯æŒ‰ç…§å±€éƒ¨ç©ºé—´çš„æ–¹å¼å‚¨å­˜çš„ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å°†å±€éƒ¨ç©ºé—´åæ ‡å˜æ¢ä¸ºä¸–ç•Œç©ºé—´åæ ‡ã€‚è€Œè¦åšçš„åªæ˜¯ä»…ä»…éœ€è¦ç»™é¡¶ç‚¹åæ ‡ä¹˜ä¸Šä»¥ä¸ªä¸–ç•Œåæ ‡çŸ©é˜µå°±å¯ä»¥äº†ã€‚ä½†æ˜¯è¿™å…¶å®è¿˜ä¸ç®—å®Œï¼Œæˆ‘ä»¬åªæ˜¯å°†å±€éƒ¨åæ ‡å˜æˆäº†ä¸–ç•Œåæ ‡ã€‚ä¸ºäº†æ„å»ºåœºæ™¯çš„2Då›¾å½¢ï¼Œè¿˜éœ€è¦ä¸€å°æ‘„åƒæœºï¼Œå¯¹ä¸–ç•Œåæ ‡åšå–æ™¯å˜æ¢(view transform)ï¼Œå–æ™¯å˜æ¢ä½¿ç”¨çš„çŸ©é˜µæˆä¸ºå˜æ¢çŸ©é˜µ(view matrix)ã€‚æœ€åæˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯æŠŠåæ ‡æŠ•å½±åˆ°é½æ¬¡å‰ªè£ç©ºé—´ä¸­ï¼Œå°±æ˜¯æˆ‘ä»¬å¾—åˆ°çš„ç”»é¢åæ ‡ã€‚æŠ•å½±è¦åšçš„è¢«ç§°ä¸ºé€è§†æŠ•å½±å˜æ¢(perspective projection transformation)ã€‚ æ‰€ä»¥,åŸºæœ¬çš„VSå†™æ³•åº”è¯¥ä¸º:ä»¥é¡¶ç‚¹ä¸‹åˆ—é¡¶ç‚¹ä¸ºä¾‹ struct Vertex { DirectX::XMFLOAT3 Pos; DirectX::XMFLOAT3 Normal; ...... }; åˆ™é¡¶ç‚¹ç€è‰²å™¨å¯ä»¥å†™æˆä¸‹åˆ—å½¢å¼ // å®šä¹‰è¾“å…¥é¡¶ç‚¹,åº”ä¸c++æ–‡ä»¶ä¸­å®šä¹‰ä¸€è‡´ struct VertexIn { // å†’å·åä¸ºè¯­ä¹‰ï¼Œå’Œä¹‹å‰å¡«å†™çš„è¾“å…¥å¸ƒå±€æè¿°çš„è¯­ä¹‰ç›¸åŒ float3 PosL : POSITION; float4 Color : COLOR; ...... }; // å®šä¹‰è¾“å‡ºé¡¶ç‚¹,å¯æ ¹æ®éœ€è¦å¢åŠ å˜é‡ struct VertexOut { float4 PosH : SV_POSITION; float4 Color : COLOR; ...... }; // å®šä¹‰é¡¶ç‚¹ç€è‰²å™¨ VertexOut VS(VertexIn vin) { // å®šä¹‰è¾“å‡ºé¡¶ç‚¹ VertexOut vout; // é¡¶ç‚¹åæ ‡ä¸ä¸–ç•ŒçŸ©é˜µç›¸ä¹˜,å±€éƒ¨åæ ‡å˜æ¢ä¸ºä¸–ç•Œåæ ‡ float4 posW = mul(float4(vin.PosL, 1.0f), gWorld); // ä¸–ç•Œåæ ‡ä¸è§‚å¯ŸçŸ©é˜µå’ŒæŠ•å½±çŸ©é˜µç›¸ä¹˜,æŠ•å½±åˆ°é½æ¬¡å‰ªè£ç©ºé—´ä¸­ vout.PosH = mul(posW, gViewProj); // é¡¶ç‚¹çš„é¢œè‰²å¤„ç†åå’Œå¤„ç†å‰ä¿æŒä¸€è‡´ vout.Color = vin.Color; ...... ...... // è¿”å›å˜æ¢åé¡¶ç‚¹ return vout; } é¡¶ç‚¹ç€è‰²å™¨ä¼šå¯¹æ¯ä¸ªé¡¶ç‚¹è°ƒç”¨ä¸€æ¬¡ï¼Œä½†æ˜¯æ˜¯åœ¨GPUä¸­è¿›è¡Œï¼Œä¼šå¹¶è¡Œè®¡ç®—ï¼Œé€Ÿåº¦è¿˜æ˜¯å¾ˆå¿«çš„ã€‚ æ¥ä¸‹æ¥å¦‚æœæ²¡æœ‰å…¶ä»–éœ€æ±‚,å°±å¯ä»¥ç›´æ¥é€å…¥åƒç´ ç€è‰²å™¨äº† 3 Tessellating Gometry Stage é•¶åµŒå¤„ç†é˜¶æ®µä½œä¸ºä¸€ä¸ªå¯é€‰é˜¶æ®µï¼Œæ›²é¢ç»†åˆ†é˜¶æ®µæ˜¯æ¸²æŸ“ç®¡çº¿ä¸­å¯¹å‡ ä½•å›¾å½¢è¿›è¡Œå‘å‰å¤„ç†çš„ä¸‰ä¸ªé˜¶æ®µâ€”â€”â€”â€”å¤–å£³ç€è‰²å™¨é˜¶æ®µï¼Œé•¶åµŒå™¨é˜¶æ®µå’ŒåŸŸç€è‰²å™¨é˜¶æ®µã€‚è¿™é‡Œæ‰€åšçš„å·¥ä½œå°±æ˜¯æŠŠå‡ ä½•ä½“ç»†åˆ†æˆæ›´å°çš„ä¸‰è§’å½¢ï¼Œå¹¶ä»¥æŸç§æ–¹å¼ï¼ŒæŠŠç”Ÿæˆçš„é¡¶ç‚¹åç§»åˆ°åˆé€‚çš„ä½ç½®ã€‚è¯´ç™½äº†å°±æ˜¯åœ¨è¿™ä¸ªé˜¶æ®µé€šè¿‡å‡ ä¸ªç€è‰²å™¨æŠŠä½æ¨¡å˜é«˜æ¨¡ã€‚ é‚£ä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨é«˜æ¨¡ï¼Ÿ è€ƒè™‘å¦‚æœä¸€ä¸ªç‰©ä½“è·ç¦»æ‘„åƒæœºå¾ˆè¿œï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™å¯¹äºè¿™ç§ç‰©ä½“äººä»¬ä¸€èˆ¬å¾ˆå°‘æ³¨æ„ï¼Œæ‰€ä»¥ï¼Œä½¿ç”¨é«˜æ¨¡å°±å¾ˆæµªè´¹ç©ºé—´ï¼Œä¹Ÿä¸ºåé¢è®¡ç®—å¢åŠ è´Ÿæ‹…ã€‚åœ¨è¿™é‡Œå°±å¯ä»¥é€šè¿‡è·ç¦»æ‘„åƒæœºåˆ¤æ–­æ˜¯å¦è¿›è¡Œå’Œè¿›è¡Œä»€ä¹ˆç¨‹åº¦çš„é•¶åµŒåŒ–å¤„ç†ã€‚ åœ¨è€ƒè™‘å¦‚æœä¸€ä¸ªç‰©ä½“æ ¹æœ¬ä¸åœ¨è§†é”¥ä½“ï¼ˆæ‘„åƒæœºæ‰€çœ‹åˆ°çš„èŒƒå›´ï¼‰å†…ï¼Œé‚£ä¹ˆå°±å¯ä»¥åˆ é™¤æ‰è¿™éƒ¨åˆ†çš„ç‰‡é¢ã€‚å¦‚æœæ˜¯é«˜æ¨¡ï¼Œè¿™éƒ¨åˆ†è®¡ç®—ä¹Ÿä¼šæ¯”è¾ƒåºå¤§ï¼Œä½æ¨¡é€šè¿‡è¾ƒå°çš„ä»£ä»·ï¼Œå¯ä»¥å‡å°‘åç»­çš„ä¸€äº›è®¡ç®—ï¼Œè€Œä¸”è¿˜çœå†…å­˜ã€‚ å¦‚æœè¦è¿›è¡Œæ›²é¢ç»†åˆ†ï¼Œæˆ‘å°±ä¸å‘è¾“å…¥è£…é…é˜¶æ®µæäº¤ä¸‰è§’å½¢ã€‚è€Œæ˜¯æäº¤å…·æœ‰è‹¥å¹²æ§åˆ¶ç‚¹çš„é¢ç‰‡ã€‚å›¾å…ƒç±»å‹ä½¿ç”¨D3D_PRIMITIVE_TOPOLOGYä¸­çš„ç±»å‹ã€‚å½“ç„¶ä¸‰è§’å½¢å¯ä»¥çœ‹ä½œå…·æœ‰ä¸‰ä¸ªæ§åˆ¶ç‚¹çš„é¢ç‰‡ï¼Œæ‰€ä»¥ä¾ç„¶å¯ä»¥æäº¤æ™®é€šçš„ä¸‰è§’å½¢ç½‘ç»œã€‚ 3.1 Hull Shader Stage å¤–å£³ç€è‰²å™¨é˜¶æ®µé¦–å…ˆï¼Œå¤–å£³ç€è‰²å™¨ï¼ˆHSï¼‰å®é™…ä¸Šç”±ä¸¤ç§ç€è‰²å™¨ç»„æˆï¼š å¸¸é‡å¤–å£³ç€è‰²å™¨(constant hull shader) æ§åˆ¶ç‚¹å¤–å£³ç€è‰²å™¨(control point hull shader)3.1.1 å¸¸é‡å¤–å£³ç€è‰²å™¨(constant hull shader) å¸¸é‡å¤–å£³ç€è‰²å™¨å°†æ¯ä¸€ä¸ªé¢ç‰‡çš„æ§åˆ¶ç‚¹ä½œä¸ºè¾“å…¥ï¼ˆå³ä¸€æ¬¡åªè¾“å…¥ä¸€ä¸ªé¢ç‰‡ä¸­çš„æ§åˆ¶ç‚¹ï¼‰ï¼Œæ¯å¤„ç†ä¸€ä¸ªé¢ç‰‡å°±ä¼šè°ƒç”¨ä¸€æ¬¡ã€‚å…¶å·¥ä½œæ˜¯è¾“å‡ºç½‘æ ¼çš„æ›²é¢ç»†åˆ†å› å­(Tessellation factor)ã€‚æ›²é¢ç»†åˆ†å› å­æŒ‡çš„æ˜¯é¢ç‰‡å°†è¦åœ¨æ›²é¢ç»†åˆ†é˜¶æ®µä¸­é•¶åµŒå¤„ç†åçš„ä»½æ•°ã€‚ç°åœ¨è¯´ä¸€ä¸ªå°†ä¸€ä¸ªå…·æœ‰å››ä¸ªæ§åˆ¶ç‚¹çš„å››è¾¹å½¢é¢ç‰‡ä»å„æ–¹é¢åˆ†æˆä¸‰ä»½çš„ä¾‹å­ï¼š // é¦–å…ˆè¦å®šä¹‰æ¯ä¸ªç‰‡é¢éœ€è¦çš„ä¿¡æ¯ä½œä¸ºå¸¸é‡å¤–å£³ç€è‰²å™¨çš„è¾“å‡º struct PatchTess { // SV_TessFactorè¯­ä¹‰è¡¨ç¤ºå‡ ä½•å›¾å½¢è¾¹ç¼˜ç»†åˆ†ä»½æ•° float EdgeTess[4] : SV_TessFactor; // SV_InsideTessFactorè¯­ä¹‰è¡¨ç¤ºå‡ ä½•å›¾å½¢å†…éƒ¨ç»†åˆ†ä»½æ•° float InsideTess[2] : SV_InsideTessFactor; ...... }; // ç„¶åå¯ä»¥æ­£å¼å®šä¹‰å¸¸é‡ç€è‰²å™¨ // å¤–å£³ç€è‰²å™¨åœ¨é¡¶ç‚¹ç€è‰²å™¨ä¹‹åï¼Œè‡ªç„¶ä½¿ç”¨é¡¶ç‚¹ç€è‰²å™¨çš„è¾“å‡ºä½œä¸ºè¾“å…¥ã€‚åœ¨è¿™é‡Œå°±ç”¨InputPatch&lt;&gt;æ¨¡æ¿å®šä¹‰ï¼ŒVertexOutæ˜¯VSçš„è¾“å‡ºç»“æ„ä½“ï¼Œ4ä»£è¡¨æˆ‘ä»¬çš„é¢ç‰‡å…·æœ‰4ä¸ªæ§åˆ¶ç‚¹ã€‚SV_PrimitiveIDè¯­ä¹‰æä¾›äº†é¢ç‰‡çš„ä½æ ‡è¯†ã€‚ PatchTess ConstantHS(InputPatch&lt;VertexOut, 4&gt; patch, uint patchID : SV_PrimitiveID) { // å£°æ˜è¾“å‡ºå˜é‡ã€‚ PatchTess pt; pt.EdgeTess[0] = 3; // é¢ç‰‡å·¦è¾¹ç¼˜ä»½æ•° pt.EdgeTess[1] = 3; // é¢ç‰‡ä¸Šè¾¹ç¼˜ä»½æ•° pt.EdgeTess[2] = 3; // é¢ç‰‡å³è¾¹ç¼˜ä»½æ•° pt.EdgeTess[3] = 3; // é¢ç‰‡ä¸‹è¾¹ç¼˜ä»½æ•° pt.InsideTess[0] = 3; // é¢ç‰‡å†…éƒ¨ç»†åˆ†åˆ—æ•° pt.InsideTess[1] = 3; // é¢ç‰‡å†…éƒ¨ç»†åˆ†è¡Œæ•° ...... return pt; } å¯¹äºå››è¾¹å½¢ï¼Œé•¶åµŒåŒ–å¤„ç†æœ‰ä¸¤ä¸ªéƒ¨åˆ†ï¼Œ 4ä¸ªè¾¹ç¼˜æ›²é¢ç»†åˆ†å› å­å¯¹åº”è¾¹ç¼˜ç»†åˆ†ä»½æ•° ä¸¤ä¸ªå†…éƒ¨æ›²é¢ç»†åˆ†å› å­è¯´æ˜äº†å¦‚ä½•å¯¹å†…éƒ¨è¿›è¡Œé•¶åµŒåŒ–å¤„ç†ã€‚ å¯¹äºä¸‰è§’å½¢æ¥è¯´ï¼Œé•¶åµŒåŒ–ä¹Ÿæ˜¯ä¸¤ä¸ªéƒ¨åˆ†ï¼Œ 3ä¸ªè¾¹ç¼˜æ›²é¢ç»†åˆ†å› å­å¯¹åº”è¾¹ç¼˜ç»†åˆ†ä»½æ•° ä¸€ä¸ªå†…éƒ¨æ›²é¢ç»†åˆ†å› å­è¡¨ç¤ºä¸‰è§’å½¢é¢ç‰‡çš„é•¶åµŒä»½æ•°ã€‚ 3.1.2 æ§åˆ¶ç‚¹å¤–å£³ç€è‰²å™¨(control point hull shader)æ§åˆ¶ç‚¹å¤–å£³ç€è‰²å™¨å°†æ§åˆ¶ç‚¹ä½œä¸ºè¾“å…¥å’Œè¾“å‡ºï¼Œå¯¹æ¯ä¸ªæ§åˆ¶ç‚¹éƒ½ä¼šè°ƒç”¨ä¸€æ¬¡æ§åˆ¶ç‚¹å¤–å£³ç€è‰²å™¨ã€‚å…¶åº”ç”¨ä¹‹ä¸€æ˜¯æ”¹å˜æ›²é¢çš„è¡¨ç¤ºæ–¹å¼ï¼Œå¦‚å°†ä¸€ä¸ªæ™®é€šçš„ä¸‰è§’å½¢è½¬æ¢æˆä¸‰æ¬¡è´å¡å°”ä¸‰è§’å½¢é¢ç‰‡ï¼ˆä¸€ä¸ªå…·æœ‰10ä¸ªæ§åˆ¶ç‚¹çš„é¢ç‰‡ï¼‰ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š // å®šä¹‰HSçš„è¾“å‡º struct HullOut { float3 PosL : POSITION; }; [domain(&quot;quad&quot;)] [partitioning(&quot;integer&quot;)] [outputtopology(&quot;triangle_cw&quot;)] [outputcontrolpoints(4)] [patchconstantfunc(&quot;ConstantHS&quot;)] [maxtessfactor(64.0f)] HullOut HS(InputPatch&lt;VertexOut, 4&gt; p, uint i : SV_OutputControlPointID, uint patchId : SV_PrimitiveID) { // å£°æ˜è¾“å‡ºå˜é‡ HullOut hout; // è¿™é‡Œçš„HSå…¶å®æ˜¯å°±æ˜¯ä¸ªä¼ é€’çš„ä½œç”¨ï¼Œæ²¡æœ‰æ”¹å˜ä»€ä¹ˆå€¼ hout.PosL = p[i].PosL; return hout; } æˆ‘ä»¬å¯ä»¥çœ‹åˆ°HSçš„å‰é¢å¤šäº†å¾ˆå¤š[]æ‹¬èµ·æ¥çš„å†…å®¹ï¼Œå’ŒC#çš„Attributeç›¸ä¼¼ã€‚æ²¡é”™ï¼Œè¿™ä¸ªæ˜¯Shader Modelä¸­çš„ä¸œè¥¿ã€‚æ›´å¤šå¯ä»¥çœ‹çœ‹Shader Model 5 Attributesè¿™é‡Œå°±è§£é‡Šä¸€ä¸‹ä¸Šé¢æåˆ°çš„ domain():å®šä¹‰äº†HSä¸­ä½¿ç”¨çš„é¢ç‰‡ç±»å‹ã€‚å¯é€‰å‚æ•°ä¸ºâ€triâ€ã€â€quadâ€ã€â€isolineâ€ partitioning()ï¼šå®šä¹‰äº†HSä½¿ç”¨çš„é•¶åµŒæ–¹æ¡ˆ(tesselation scheme,ä¸çŸ¥é“ç¿»è¯‘å¥½æ²¡)ï¼Œå¯é€‰å‚æ•°ä¸ºâ€integerâ€ã€â€fractional_evenâ€ã€â€fractional_oddâ€ã€â€ pow2â€ã€‚ 3.2 Tessellator Stage æ›²é¢ç»†åˆ†ï¼ˆé•¶åµŒå™¨ï¼‰é˜¶æ®µè¿™ä¸ªé˜¶æ®µç”±ç¡¬ä»¶è‡ªåŠ¨å®Œæˆï¼Œç¨‹åºå‘˜æ— æ³•å¹²é¢„ã€‚å¯¹äºé•¶åµŒåŒ–å¤„ç†çš„ç»“æœï¼Œemmmmmmmï¼Œæ”¾ä¸¤å¼ å›¾å§ã€‚ 3.3 Domain shader Stage åŸŸç€è‰²å™¨é˜¶æ®µé•¶åµŒå™¨é˜¶æ®µä¼šè¾“å‡ºæ–°ç”Ÿæˆçš„é¡¶ç‚¹ä¸ä¸‰è§’å½¢ã€‚å¯¹äºæ­¤é˜¶æ®µæ‰€åˆ›å»ºçš„æ‰€æœ‰é¡¶ç‚¹éƒ½ä¼šä¾æ¬¡è°ƒç”¨åŸŸç€è‰²å™¨(DS)ã€‚æ‰€ä»¥DSå®é™…ä¸Šå’Œé¡¶ç‚¹ç€è‰²å™¨ç±»ä¼¼ï¼Œæ˜¯å¯¹å·²é•¶åµŒå®Œæˆçš„é¡¶ç‚¹è¿›è¡Œå¤„ç†çš„ç€è‰²å™¨ã€‚DSä»¥æ›²é¢ç»†åˆ†å› å­ã€æ§åˆ¶ç‚¹ä»¥åŠé•¶åµŒç”»å¤„ç†åçš„å®šç‚¹ä½ç½®å‚æ•°åæ ‡(u,v)ä½œä¸ºè¾“å…¥ã€‚è¿™é‡Œçš„å®šç‚¹ä½ç½®å‚æ•°ä¸æ˜¯å®é™…ä½ç½®ï¼Œè€Œæ˜¯ä½äºé¢ç‰‡åŸŸç©ºé—´(patch domain space)çš„å‚æ•°åæ ‡ã€‚å¯ä»¥åˆ©ç”¨æ§åˆ¶ç‚¹å’Œè¿™äº›åæ ‡æ¥æ±‚å‡ºçœŸæ­£çš„åæ ‡ã€‚ä¸‹é¢ä½¿ç”¨åŒçº¿æ€§æ’å€¼æ¥æ±‚ã€‚ï¼ˆå…¶ä»–ä¹Ÿå¯ä»¥ï¼Œåªæ˜¯ä¹¦ä¸­ä¾‹å­æ˜¯è¿™ä¸ªï¼‰ struct DomainOut { float4 PosH : SV_POSITION; }; [domain(&quot;quad&quot;)] DomainOut DS(PatchTess patchTess, float2 uv : SV_DomainLocation, const OutputPatch&lt;HullOut, 4&gt; quad) { // å£°æ˜è¾“å‡ºå˜é‡ DomainOut dout; // è¿™é‡Œå°±æ˜¯åŒçº¿æ€§æ’å€¼ //lerp(u,v,t)æ˜¯åŸºäºtâˆˆ[0ï¼Œ1]ï¼Œåœ¨uï¼Œvä¹‹é—´è¿›è¡Œçº¿æ€§æ’å€¼ float3 v1 = lerp(quad[0].PosL, quad[1].PosL, uv.x); float3 v2 = lerp(quad[2].PosL, quad[3].PosL, uv.x); float3 p = lerp(v1, v2, uv.y); // è½¬æ¢ä¸ºä¸–ç•Œåæ ‡ float4 posW = mul(float4(p, 1.0f), gWorld); // æŠ•å½±åˆ°é½æ¬¡å‰ªè£çŸ©é˜µä¸­ dout.PosH = mul(posW, gViewProj); return dout; } 4 Geometry Shader Stage å‡ ä½•ç€è‰²å™¨é˜¶æ®µç”±äºæ›²é¢ç»†åˆ†é˜¶æ®µæ˜¯ä¸€ä¸ªå¯é€‰é˜¶æ®µï¼Œå‡ ä½•ç€è‰²å™¨ï¼ˆGSï¼‰è¾“å…¥æ•°æ®æ˜¯ä¸€ç»„å®Œæ•´çš„å›¾å…ƒï¼ˆå…¶å®ä¹Ÿå°±æ˜¯ä¸€ç»„é¡¶ç‚¹ï¼Ÿï¼Ÿï¼‰ï¼Œè¾“å‡ºä¸ºå‡ ä½•ç€è‰²å™¨ä¸€å¤§ç‰¹ç‚¹å°±æ˜¯å¯ä»¥åˆ›å»ºå’Œé”€æ¯å‡ ä½•å›¾å½¢ã€‚åˆ©ç”¨GSå¯ä»¥åšåˆ°ç‚¹ç²¾çµçš„æ‹“å±•ã€åŠ¨æ€ç²’å­ç³»ç»Ÿã€çš®æ¯›çš„ç”³åŸã€é˜´å½±ä½“ç§¯çš„ç”Ÿæˆç­‰æ•ˆæœã€‚æ¯”è¾ƒå·§çš„æ˜¯GSæœ‰ä¸€ä¸ªç®€å•çš„æ¨¡æ¿å¯ä»¥å¥—ç”¨ï¼š // è¾“å‡ºé¡¶ç‚¹çš„æœ€å¤§æ•°é‡ [maxvertexcount(N)] void Name (PrimitiveType InputVertexType InputNmae[NumElements],inout StreamOutputObject&lt;OutputVertexType&gt; OutputName) { ...... } GSæ¯æ¬¡è°ƒç”¨å‰å¿…é¡»å…ˆåˆ¶å®šå¯è¾“å‡ºçš„å®šç‚¹æœ€å¤§æ•°é‡ï¼Œè¿™é‡Œç”¨å±æ€§[maxvertexcount()]æ¥æŒ‡å®šã€‚ å¯¹äºå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°çš„æ„æˆä¸º å›¾å…ƒç±»å‹ è¾“å…¥å®šç‚¹ç±»å‹ æ•°æ®åå­—ï¼Œå›¾å…ƒç±»å‹å¯ç”¨â€pointâ€ï¼ˆç‚¹ï¼‰ã€â€lineâ€ï¼ˆçº¿ï¼‰ã€â€triangleâ€ï¼ˆä¸‰è§’å½¢ï¼‰ã€â€lineadjâ€ï¼ˆçº¿åˆ—è¡¨åŠå…¶é‚»æ¥å›¾å…ƒæˆ–çº¿æ¡å¸¦åŠå…¶ä¸´ç•Œå›¾å…ƒï¼‰ã€â€triangleadjï¼ˆä¸‰è§’å‹åˆ—è¡¨åŠå…¶é‚»æ¥å›¾å…ƒæˆ–ä¸‰è§’å½¢å¸¦åŠå…¶é‚»æ¥å›¾å…ƒï¼‰â€ï¼Œç¬¬äºŒä¸ªå‚æ•°é¦–å…ˆæ˜¯inoutå…³é”®å­—ï¼Œè¿™ä¸ªä¸€å®šè¦æœ‰ï¼Œè€Œä¸”ä»–ä½¿ç”¨äº†ä¸€ä¸ªæ¨¡æ¿ç±»å‹æµç±»å‹ã€‚æµç±»å‹å­˜æœ‰ä¸€ç³»åˆ—é¡¶ç‚¹ï¼Œå®šä¹‰äº†å‡ ä½•ç€è‰²å™¨è¾“å‡ºçš„å‡ ä½•å›¾å½¢ã€‚å‡ ä½•ç€è‰²å™¨å¯ä»¥é€šè¿‡å†…ç½®æ–¹æ³•Append()å‘è¾“å‡ºæµæ·»åŠ é¡¶ç‚¹ã€‚void StreamOutputObject&lt;OutputVertexType&gt;::Append(OutputVertexType v); å¯¹äºæµç±»å‹ï¼Œå…¶æ¨¡æ¿å‚æ•°ç”¨æŒ‡å®šè¾“å‡ºé¡¶ç‚¹çš„ç±»å‹ï¼Œå¹¶ä¸”æœ‰ä¸‰ç§ç±»å‹ã€‚ PointStream&lt;OutPutVertexType&gt; // ä¸€ç³»åˆ—é¡¶ç‚¹æ‰€å®šä¹‰çš„ç‚¹åˆ—è¡¨ LineStream&lt;OutPutVertexType&gt; // ä¸€ç³»åˆ—é¡¶ç‚¹æ‰€å®šä¹‰çº¿æ¡å¸¦ TriangleStream&lt;OutPutVertexType&gt; // ä¸€ç³»åˆ—é¡¶ç‚¹æ‰€å®šä¹‰ä¸‰è§’å½¢å¸¦ å‡ ä½•ç€è‰²å™¨è¾“å‡ºçš„é¡¶ç‚¹ä¼šæ„æˆç”±æµç±»å‹æŒ‡å®šçš„å›¾å…ƒï¼Œä½†æ˜¯æµç±»å‹æœªåŒ…æ‹¬çº¿æ¡åˆ—è¡¨å’Œä¸‰è§’å½¢åˆ—è¡¨ã€‚å…¶å®å¯ä»¥ä½¿ç”¨å†…ç½®å‡½æ•°RestartStrip()æ¥å®ç°çº¿æ¡åˆ—è¡¨å’Œä¸‰è§’å½¢åˆ—è¡¨ã€‚void StreamOutputObject&lt;OutputVertexType&gt;::RestartStript();æƒ³è¦å®ç°ä¸‰è§’å½¢åˆ—è¡¨ï¼Œéœ€è¦åœ¨æ¯æ¬¡å‘æµè¾“å‡ºè¿½åŠ ä¸‰ä¸ªé¡¶ç‚¹åè°ƒç”¨ä¸€æ¬¡RestartStript()ã€‚çº¿æ¡åˆ—è¡¨åˆ™æ˜¯æ²¡è¿½åŠ ä¸¤ä¸ªé¡¶ç‚¹åè°ƒç”¨RestartStript()ã€‚è¿™é‡Œç»™å‡ºä¸€ä¸ªå°†ä¸€ä¸ªç‚¹æ‹“å±•æˆä¸€ä¸ªå››è¾¹å½¢çš„ä¾‹å­ï¼Œä¹Ÿå°±æ˜¯â€œå…¬å‘Šç‰ŒæŠ€æœ¯â€ // è¿™é‡Œå‡è®¾ä¸è¿›è¡Œæ›²é¢é•¶åµŒé˜¶æ®µï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨VSçš„è¾“å‡º struct VertexOut { float3 CenterW : POSITION; float2 SizeW : SIZE; }; // å®šä¹‰å‡ ä½•ç€è‰²å™¨çš„è¾“å‡º struct GeoOut { float4 PosH : SV_POSITION; float3 PosW : POSITION; float3 NormalW : NORMAL; float2 TexC : TEXCOORD; uint PrimID : SV_PrimitiveID; }; // æŒ‡å®šGSè¾“å‡ºé¡¶ç‚¹æ•°æœ€å¤šä¸º4ä¸ª [maxvertexcount(4)] void GS(point VertexOut gin[1], uint primID : SV_PrimitiveID, inout TriangleStream&lt;GeoOut&gt; triStream) { //è¿™é‡Œè®¡ç®—ç²¾çµ(Sprite)çš„å±€éƒ¨åæ ‡ç³»ä¸ä¸–ç•Œç©ºé—´çš„ç›¸å¯¹å…³ç³»ã€‚ä½¿å¾—ä¹‹åçš„å››è¾¹å½¢ä¸å’Œyè½´å¯¹é½å¹¶é¢å‘è§‚å¯Ÿè€… float3 up = float3(0.0f, 1.0f, 0.0f); float3 look = gEyePosW - gin[0].CenterW; look.y = 0.0f; // å¯¹é½yè½´ï¼Œä½¿å››è¾¹å½¢ç«‹åœ¨xzå¹³é¢ä¸Š look = normalize(look); float3 right = cross(up, look); // è®¡ç®—å››è¾¹å½¢çš„å®½å’Œé«˜ï¼Œç”¨æ¥è®¡ç®—é¡¶ç‚¹åæ ‡ float halfWidth = 0.5f*gin[0].SizeW.x; float halfHeight = 0.5f*gin[0].SizeW.y; // å¼€å§‹è®¡ç®—é¡¶ç‚¹åæ ‡ float4 v[4]; v[0] = float4(gin[0].CenterW + halfWidth*right - halfHeight*up, 1.0f); v[1] = float4(gin[0].CenterW + halfWidth*right + halfHeight*up, 1.0f); v[2] = float4(gin[0].CenterW - halfWidth*right - halfHeight*up, 1.0f); v[3] = float4(gin[0].CenterW - halfWidth*right + halfHeight*up, 1.0f); // çº¹ç†åæ ‡çš„æ“ä½œ float2 texC[4] = { float2(0.0f, 1.0f), float2(0.0f, 0.0f), float2(1.0f, 1.0f), float2(1.0f, 0.0f) }; // å°†å››è¾¹å½¢çš„é¡¶ç‚¹å˜åŒ–ä¸ºä¸–ç•Œåæ ‡ï¼Œå¹¶ä¸”ä»¥ä¸‰è§’å½¢å¸¦å½¢å¼è¾“å‡ºã€‚ GeoOut gout; // forå¾ªç¯å±æ€§ unrollæŒ‡çš„æ˜¯å±•å¼€å¾ªç¯ï¼Œç›´åˆ°åœæ­¢æ‰§è¡Œã€‚ [unroll] for(int i = 0; i &lt; 4; ++i) { gout.PosH = mul(v[i], gViewProj); gout.PosW = v[i].xyz; gout.NormalW = look; gout.TexC = texC[i]; gout.PrimID = primID; triStream.Append(gout); } } å…³äºforå¾ªç¯çš„å±æ€§å¯ä»¥çœ‹è¿™é‡Œ SV_PrimitiveIDè¯­ä¹‰æ˜¯ä¸€ä¸ªæ— ç¬¦å·çš„æ•´å½¢å‚æ•°ï¼ŒæŒ‡å®šäº†è¿™ä¸ªè¯­ä¹‰ï¼Œè¾“å…¥è£…é…é˜¶æ®µå°±ä¼šè‡ªåŠ¨ä¸ºæ¯ä¸ªå›¾å…ƒç”Ÿæˆä¸€ä¸ªIDï¼Œæ¯ä¸ªIDçš„éƒ½æ˜¯å”¯ä¸€çš„ã€‚å°½ç®¡è¿™é‡Œæ²¡æœ‰ä½¿ç”¨ï¼Œä½†æ˜¯GSå°†IDå†™å…¥é¡¶ç‚¹ä¸­ï¼Œä¸‹é¢çš„åƒè‰²ç€è‰²å™¨ä¸­å¯ä»¥ä½¿ç”¨ã€‚ Stream Output Stage æµè¾“å‡ºé˜¶æ®µæµè¾“å‡ºé˜¶æ®µå°±æ˜¯å°†é›†åˆç€è‰²å™¨çš„é¡¶ç‚¹æ•°æ®è¿ç»­è¾“å‡ºåˆ°ä¸€ä¸ªæˆ–å¤šä¸ªç¼“å†²åŒºä¸­ï¼Œå’Œå‡ ä½•ç€è‰²å™¨ç´§å¯†è”ç³»åœ¨ä¸€èµ·çš„ã€‚ 6 Rasterizer Stage å…‰æ …åŒ–é˜¶æ®µå…¶å®åœ¨å…‰æ …åŒ–ä¹‹å‰è¿˜æœ‰ä¸€ä¸ªé˜¶æ®µå«è£å‰ªï¼Œåœ¨è¿™ä¸ªé˜¶æ®µä¼šå°†å®Œå…¨ä½äºè§†é”¥ä½“ä¹‹å¤–çš„å‡ ä½•ä½“å…¨éƒ¨ä¸¢å¼ƒï¼Œè€Œå¯¹äºä¸€éƒ¨åˆ†åœ¨å¤–é¢çš„å‡ ä½•ä½“ä¹Ÿä¼šè¢«å®æ–½è£å‰ª(clip)çš„æ“ä½œã€‚ å…‰æ …åŒ–é˜¶æ®µå®é™…ä¹Ÿæ˜¯ä¸€ä¸ªä¸å¯ç¼–ç¨‹é˜¶æ®µï¼Œå…¶åŠŸèƒ½æ˜¯ä¸ºæŠ•å½±åœ¨ä¸»å±å¹•ä¸Šçš„3Dä¸‰è§’å½¢è®¡ç®—å‡ºå¯¹åº”çš„åƒç´ é¢œè‰²ã€‚å…‰æ …åŒ–é˜¶æ®µä¸­ä¸»è¦å¹²äº†ä»¥ä¸‹äº‹æƒ… è§†å£å˜æ¢ èƒŒé¢å‰”é™¤ é¡¶ç‚¹å±æ€§æ’å€¼6.1 è§†å£å˜æ¢ è£å‰ªå®Œæˆåç¡¬ä»¶ä¼šé€šè¿‡é€è§†é™¤æ³•ï¼Œå°†ç‰©ä½“ä»é½æ¬¡è£å‰ªç©ºé—´å˜åŒ–ä¸ºè§„æ ¼åŒ–è®¾å¤‡å(NDC)ã€‚ä¸€æ—¦ç‰©ä½“é¡¶ç‚¹åæ ‡åœ¨NDCç©ºé—´å†…ï¼Œæ„æˆ2Då›¾åƒçš„2Dé¡¶ç‚¹xï¼Œyåæ ‡å°±ä¼šè¢«å˜æ¢åˆ°åå°ç¼“å†²åŒºä¸­è¢«ç§°ä¸ºè§†å£(view port)çš„çŸ©å½¢ä¸­ã€‚å˜æ¢å®Œæˆåé¡¶ç‚¹åæ ‡éƒ½æ˜¯ä»¥åƒç´ ä¸ºå•ä½çš„ã€‚è§†å£å˜æ¢ä¸ä¼šå½±å“æ·±åº¦å€¼ï¼ˆzåæ ‡ï¼‰ã€‚ 6.2 èƒŒé¢å‰”é™¤è¿™é‡Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä»€ä¹ˆæ˜¯æ­£é¢,ä»€ä¹ˆæ˜¯èƒŒé¢ã€‚ å¯¹äºä¸€ä¸ªé¡¶ç‚¹ä¸ºV0ã€V1ã€V2çš„ä¸‰è§’å½¢ $e_0 = V_1 - V_0$ $e_1 = V_2 - V_0$ æ³•å‘é‡ä¸º n = \\tfrac{e_0 \\times e_1}{e_0 \\times e_2}æ³•å‘é‡ä»æ­£é¢å°„å‡º,åˆ™å¦ä¸€é¢ä¸ºèƒŒé¢ã€‚ è‹¥è§‚å¯Ÿè€…çœ‹åˆ°çš„æ˜¯æ­£é¢,åˆ™ç§°ä¸‰è§’å½¢æ˜¯æ­£é¢æœå‘(front-facing)çš„å¦åˆ™ç§°ä¸‰è§’å½¢ä¸ºèƒŒé¢æœå‘(back-facing)çš„ã€‚ å¯¹äºå¤§å¤šæ•°ç‰©ä½“è€Œè¨€,èƒŒé¢æœå‘çš„ä¸‰è§’å½¢éƒ½è¢«æ­£é¢æœå‘çš„æ‰€é®æŒ¡,ç»˜åˆ¶ä»–ä»¬æ˜¯æ²¡ç”¨çš„,æ‰€ä»¥èƒŒé¢å‰”é™¤å°±æ˜¯é™¤å»è¿™äº›æ²¡ç”¨ä¸‰è§’å½¢. 6.3 é¡¶ç‚¹å±æ€§æ’å€¼é¡¶ç‚¹ä¸­ä¸æ­¢å¯ä»¥å­˜æ”¾ä½ç½®ä¿¡æ¯,è¿˜å¯ä»¥å­˜æ”¾åƒé¢œè‰²ã€æ³•å‘é‡ã€çº¹ç†åæ ‡ç­‰å±æ€§ã€‚è§†å£å˜æ¢åéœ€è¦ä¸ºä¸‰è§’å½¢çš„æ¯ä¸ªåƒç´ æ‰€é™„æœ‰çš„å±æ€§è¿›è¡Œæ’å€¼ã€‚è¿™éƒ¨åˆ†ä½¿ç”¨çš„æ’å€¼æ–¹æ³•ä¸ºé€è§†çŸ«æ­£æ’å€¼(perspective correct interpolation)ï¼Œè¿™ä¸ªè®¡ç®—ç”±ç¡¬ä»¶å®Œæˆã€‚ 7 Pixel Shader Stage åƒç´ ç€è‰²å™¨é˜¶æ®µåƒç´ ç€è‰²å™¨(PS)çš„è¾“å…¥æ˜¯å…‰æ …åŒ–é˜¶æ®µæœŸé—´è¾“å‡ºçš„å¯¹é¡¶ç‚¹å±æ€§çš„æ’å€¼ã€‚PSä¼šå¯¹æ¯ä¸€ä¸ªåƒç´ ç‰‡æ®µè¿›è¡Œå¤„ç†,å¹¶æ ¹æ®é¡¶ç‚¹çš„æ’å€¼å±æ€§ä½œä¸ºè¾“å…¥æ¥è®¡ç®—å‡ºå¯¹åº”çš„æ‰€ä»¥åƒç´ é¢œè‰²,PSæ—¢å¯ä»¥è¿”å›ä¸€ç§å•ä¸€æ’å®šé¢œè‰²,ä»¥å®ç°é€åƒç´ å…‰ç…§(per-pixel linghting)ã€åå°„(reflection)ã€é˜´å½±(shadow)ç­‰æ•ˆæœã€‚ åƒç´ ç‰‡æ®µå¹¶ä¸ä¸€å®šæ˜¯æœ€åå†™å…¥åå°ç¼“å†²åŒºä¸­ï¼Œæœ‰æ—¶å€™ä¼šæœ‰å¤šä¸ªåƒç´ ç‰‡æ®µã€‚éœ€è¦é€šè¿‡ä¸€äº›è§„åˆ™æ¥ç¡®å®šæœ€åå†™å…¥åå°ç¼“å†²åŒºçš„åƒç´ ç‰‡æ®µæ˜¯å“ªä¸€ä¸ªã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåƒç´ ç€è‰²å™¨æ‰€åšçš„å·¥ä½œå°±æ˜¯ä¸ºäº†è®¡ç®—é¢œè‰²ã€‚æœ€ç®€å•çš„åƒç´ ç€è‰²å™¨å¯ä»¥å†™æˆä¸‹åˆ—å½¢å¼ // å®šä¹‰è¾“å…¥é¡¶ç‚¹,åº”ä¸c++æ–‡ä»¶ä¸­å®šä¹‰ä¸€è‡´ struct VertexIn { // å†’å·åä¸ºè¯­ä¹‰ï¼Œå’Œä¹‹å‰å¡«å†™çš„è¾“å…¥å¸ƒå±€æè¿°çš„è¯­ä¹‰ç›¸åŒ float3 PosL : POSITION; float4 Color : COLOR; ...... }; // å®šä¹‰è¾“å‡ºé¡¶ç‚¹,å¯æ ¹æ®éœ€è¦å¢åŠ å˜é‡ struct VertexOut { float4 PosH : SV_POSITION; float4 Color : COLOR; ...... }; // è¿™é‡Œå‡è®¾åªå­˜åœ¨VSå’ŒPSï¼Œæ‰€ä»¥VSè¾“å‡ºå°±æ˜¯PSè¾“å…¥ // SV_Targetè¯­ä¹‰è¡¨ç¤ºè¿”å›å€¼ç±»å‹åº”å½“ä¸ç›®æ ‡æ ¼å¼ï¼ˆrender targer formatï¼‰ç›¸åŒ¹é… // è€Œç€è‰²å™¨æœ¬èº«åªæ˜¯è¾“å‡ºäº†é¢œè‰²æ’å€¼ float4 PS(VertexOut pin) : SV_Target { return pin.Color; }; å…³äºåƒç´ ç€è‰²å™¨å…¶å®æœ‰å¾ˆå¤šå¾ˆå¤šæœ‰ç”¨çš„åœ°æ–¹ï¼Œå€¼å¾—å¥½å¥½å¼„å¼„ï¼Œä¹‹åæœ‰æœºä¼šä¹Ÿä¼šè¯´è¯´ã€‚ 8 Output Merger Stage åˆå¹¶è¾“å‡ºé˜¶æ®µä¹Ÿæ˜¯ä¸€ä¸ªä¸å¯ç¼–ç¨‹é˜¶æ®µåƒç´ ç€è‰²å™¨ç”Ÿæˆçš„åƒç´ ç‰‡æ®µä¼šä¼šè¢«é€åˆ°åˆå¹¶è¾“å‡ºé˜¶æ®µ(OM)ï¼Œè¯¥é˜¶æ®µä¸­ä¸€äº›åƒç´ ç‰‡æ®µå°±ä¼šè¢«ä¸¢å¼ƒã€‚å‰©ä¸‹çš„å°†ä¼šå†™å…¥åå°ç¼“å†²ä¸­ã€‚å…¶ä¸­æ··åˆ(Blend)æ“ä½œä¹Ÿæ˜¯åœ¨è¿™ä¸ªé˜¶æ®µå®ç°çš„ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","slug":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","permalink":"/tags/ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢/"},{"name":"DirectX","slug":"DirectX","permalink":"/tags/DirectX/"},{"name":"Shader","slug":"Shader","permalink":"/tags/Shader/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"NLP_EmotionClassfied","slug":"NLP_EmotionClassfied","date":"2020-02-11T16:00:00.000Z","updated":"2020-03-24T12:43:20.941Z","comments":true,"path":"2020/02/12/NLP_EmotionClassfied/","link":"","permalink":"/2020/02/12/NLP_EmotionClassfied/","excerpt":"","text":"ä¸è°ˆç†è®ºï¼Œä¸è°ˆå…¬å¼ï¼Œå°±è¯´ç”¨å•¥èƒ½å®ç°ï¼1. æ•´ä½“è¿‡ç¨‹ è¯»å–è®­ç»ƒæ•°æ®ï¼Œè°ƒæ•´æ•°æ®æ ¼å¼ã€‚ å¯¹æ•°æ®è¿›è¡Œåˆ†è¯ï¼ˆå­—ï¼‰ï¼Œå¯ä»¥æŒ‰è¯ï¼Œä¹Ÿå¯ä»¥æŒ‰å­—ã€‚ ç»Ÿè®¡è¯ï¼ˆå­—ï¼‰é¢‘ï¼Œå»ºç«‹è¯å…¸ï¼ˆå­—å…¸ï¼‰ã€‚ å¯¹æ¯ä¸ªè¯ï¼ˆå­—ï¼‰å»ºç«‹ç´¢å¼•ã€‚ å°†ä¹‹å‰åˆ†å¥½è¯ï¼ˆå­—ï¼‰çš„æ¯ä¸ªå¥å­ç”¨ç´¢å¼•æ›¿æ¢ã€‚ è°ƒæ•´å¥å­é•¿åº¦ï¼Œå¤šçš„æˆªå–ï¼Œå°‘çš„è¡¥0ã€‚ å»ºç«‹æ¨¡å‹ è®­ç»ƒã€‚ 2. è¯¦ç»†è¯´æ˜2.0 å¯¼åŒ…å…¶å®è¿™æ˜¯å¥åºŸè¯ï¼Œä¸å¯¼åŒ…æ€å†™ä»£ç ï¼Ÿ import numpy as np; import tensorflow as tf; import jieba; # ç”¨äºåˆ†è¯ import re; # ç”¨äºåˆ é™¤ç‰¹æ®Šå­—ç¬¦ import pandas as pd; # ç”¨äºç»Ÿè®¡è¯é¢‘ï¼Œå…¶å®ä¹Ÿå¯ä»¥ç”¨Tensorflowè‡ªå·±çš„Tokenizer 2.1 è¯»å–è®­ç»ƒæ•°æ®ç”±äºä»»ä½•äººçš„è®­ç»ƒæ•°æ®ä¸ä¸€æ ·ï¼Œæ ¼å¼åƒå¥‡ç™¾æ€ªï¼Œæ•´ç†æ–¹å¼ä¹Ÿä¸å°½ç›¸åŒï¼Œå…ˆè¯´ä¸€ä¸‹æœ€ç»ˆçš„æ ·å­å§ã€‚ ç®€å•æ¥è®²éœ€è¦åˆ†æˆä¸¤ä¸ªlistï¼Œä¸€ä¸ªlabelç”¨æ¥å­˜æ”¾æ ‡æƒ…æ„Ÿæ ‡è®°ã€‚ä¸€ä¸ªsentencesListç”¨äºå­˜æ”¾å¥å­ã€‚ è¿™é‡Œç”¨è‡ªå·±çš„txtæ¥ä¸¾ä¾‹å­ã€‚ é¦–å…ˆæ•°æ®æ ¼å¼å¦‚ä¸‹ 1,&quot;è·ç¦»å·æ²™å…¬è·¯è¾ƒè¿‘,ä½†æ˜¯å…¬äº¤æŒ‡ç¤ºä¸å¯¹,å¦‚æœæ˜¯&quot;&quot;è”¡é™†çº¿&quot;&quot;çš„è¯,ä¼šéå¸¸éº»çƒ¦.å»ºè®®ç”¨åˆ«çš„è·¯çº¿.æˆ¿é—´è¾ƒä¸ºç®€å•.&quot; Â·Â·Â· Â·Â·Â· 0,è¯´å®åœ¨çš„æˆ‘å¾ˆå¤±æœ›ï¼Œä¹‹å‰çœ‹äº†å…¶ä»–äººçš„ç‚¹è¯„åè§‰å¾—è¿˜å¯ä»¥æ‰å»çš„ï¼Œç»“æœè®©æˆ‘ä»¬å¤§è·Œçœ¼é•œã€‚æˆ‘æƒ³è¿™å®¶é…’åº—ä»¥åæ— è®ºå¦‚ä½•æˆ‘éƒ½ä¸ä¼šå†å»äº†ã€‚ ç¬¬ä¸€ä¸ªä¸ºlabel,1è¡¨ç¤ºç§¯æï¼Œ0è¡¨ç¤ºæ¶ˆæï¼Œä¹‹åä¸ºè¯­å¥ã€‚æˆ‘ä»¬åªéœ€è¦æŒ‰è¡Œè¯»å–ï¼Œå…ˆå­˜æ ‡è®°ï¼Œç„¶åå‡ºå»æ ‡ç‚¹ç­‰ç‰¹æ®Šç¬¦å·ï¼Œæ¥ç€å°†è¯­å¥å­˜å…¥listå°±å¥½ã€‚ åœ¨è¿™ä¸ªéƒ¨åˆ†å…¶å®å°±å¯ä»¥ä½¿ç”¨jiebaè¿›è¡Œåˆ†è¯æ“ä½œã€‚è¿™é‡Œå°±åŠ ä¸Šäº†ã€‚ lineList = []; lable = []; with open(&quot;ChnSentiCorp_htl_all.txt&quot;,encoding=&quot;utf-8&quot;) as file: for line in file: if(line[0]==&quot;1&quot;): lable.append(1); else: lable.append(0); line = re.sub(&#39;[â€™!&quot;#$%&amp;\\&#39;()*+,-./:;&lt;=&gt;?@[\\\\]^_`{|}ï¼Œã€‚ï¼ˆï¼‰/ã€Šã€‹ï¼~#ï¿¥%â€¦â€¦&amp;*ï¼Ÿï¼šï¼›â€â€œâ€˜â€™ã€ã€‘ã€\\n|]+&#39;,&#39;&#39;,line); lineList.append(list(jieba.cut(line[1:]))); æ’ä¸€å¥é¢˜å¤–è¯ï¼Œè¿™é‡Œè‚¯å®šæœ‰äººè¦é—®Pythonè¿˜æ‰“åˆ†å·ï¼Ÿä¸å¥½æ„æ€ï¼Œä¸ªäººä¹ æƒ¯ï¼ŒC++å’ŒJAVAå†™å¤šäº†ï¼Œä¹ æƒ¯æ€§æ‰“çš„ï¼Œç”šè‡³è¿˜ä¹ æƒ¯æ€§è¡¥åˆ†å·ï¼Œåæ­£Pythonä¹Ÿä¸ç®—é”™ï¼Œè¿˜è¯·è§è°…ã€‚ å¥½çš„æˆ‘ä»¬æ¥çœ‹ï¼Œé¦–å…ˆwith open()å¸¸è§„æ“ä½œæ‰“å¼€æ–‡ä»¶ã€‚å¯¹æ¯ä¸€è¡Œè¿›è¡Œè¯»å–ï¼Œå¹¶åˆ¤æ–­ç¬¬ä¸€è¡Œçš„labelï¼Œæ¥ä¸‹æ¥ä½¿ç”¨reè¿›è¡Œç‰¹æ®Šç¬¦å·çš„åˆ é™¤ã€‚ç„¶åä½¿ç”¨jiebaå¯¹ä»ç¬¬äºŒä¸ªå­—ç¬¦å¼€å§‹ä¹‹åçš„å­—ç¬¦ä¸²è¿›è¡Œåˆ†è¯æ“ä½œï¼Œå› ä¸ºç¬¬ä¸€ä¸ªæ˜¯labelä¸éœ€è¦ä»–ã€‚ 2.2 åˆ†è¯æ“ä½œä¸Šé¢ç¡®å®åšäº†ï¼Œå¦‚æœæ²¡é”™å¯ä»¥åœ¨è¿™é‡Œåšã€‚å½“ç„¶æš‚æ—¶æˆ‘ä¸ºäº†æ±‚å¿«æ²¡æœ‰æŒ‰å­—åˆ†ã€‚å¯èƒ½ä»¥åä¼šå†™å§ã€‚ 2.3 ç»Ÿè®¡è¯ï¼ˆå­—ï¼‰é¢‘ï¼Œå»ºç«‹å­—å…¸å»ºç«‹å­—å…¸æ˜¯ä¸ºäº†å…¶å®æ˜¯ä¸ºäº†ä¸‹ä¸€æ­¥çš„ç´¢å¼•ï¼Œç´¢å¼•æ˜¯ä¸ºäº†æ–¹ä¾¿è®¡ç®—ï¼Œæ•°å­—çš„è®¡ç®—å’ŒæŸ¥æ‰¾è¦æ¯”å­—ç¬¦ä¸²æ–¹ä¾¿è€Œä¸”å¿«å¾—å¤šã€‚æ‰€ä»¥æœ€åè®­ç»ƒæ•°æ®æ˜¯å¾ˆå¤šæ¡ç´¢å¼•ç»„æˆçš„å¥å­ã€‚ è¿™é‡Œä½¿ç”¨çš„pandasæ¥ç»Ÿè®¡ã€‚ word_dictionary =[]; for line in lineList: for word in line: word_dictionary.append(word); print(word_dictionary); wordNum = pd.Series(word_dictionary).value_counts(); wordNum = wordNum[wordNum&gt;=5]; é¦–å…ˆæ˜¯ä¸ªç¬¨åŠæ³•ï¼Œéå†æ¯ä¸€ä¸ªå•è¯ï¼Œç„¶åæ·»åŠ è¿›ä¸€ä¸ªlistï¼ˆå› ä¸ºlistä¸å»é‡ï¼‰ã€‚æ¥ç€å°±æ˜¯å»ºç«‹ä¸€ä¸ªpandas.Serieså¯¹è±¡è°ƒç”¨value_counts()æ–¹æ³•ç»Ÿè®¡è¯é¢‘ã€‚è¿”å›å€¼æ˜¯ä¸€ä¸ªSerieså¯¹è±¡ã€‚é‡Œé¢å‚¨å­˜äº†è¯å’Œæ¬¡å‡ºç°çš„æ¬¡æ•°ã€‚ 2.4 å¯¹æ¯ä¸ªè¯ï¼ˆå­—ï¼‰å»ºç«‹ç´¢å¼•ã€‚è¿™é‡Œåšçš„å¾ˆç®€å•ï¼Œå°±æ˜¯æŠŠé¢‘ç‡æ¢æˆç´¢å¼•å°±å¥½ã€‚ä½†æ˜¯è¦æ³¨æ„ï¼Œç´¢å¼•è¦ä»1å¼€å§‹ï¼Œ0ç”¨äºå¡«å……è¡¥é½ã€‚è¿˜æœ‰å°±æ˜¯ï¼Œæˆ‘ä»¬é€‰æ‹©å‡ºç°é¢‘ç‡æ¯”è¾ƒé«˜çš„è¯ï¼Œå› ä¸ºè®¡ç®—é€Ÿåº¦ã€‚ä½†å®é™…ä¸Šä½é¢‘è¯ä¹Ÿæœªå¿…ä¸èµ·åˆ°å…³é”®ä½œç”¨ï¼Œæ»‘ç¨½ä¿å‘½ä¹‹ç±»çš„å¯¹å§ï¼Ÿ wordNum = wordNum[wordNum&gt;=5]; # ä¿ç•™è¯é¢‘å¤§äºç­‰äº5çš„è¯ wordNum[:] = list(range(1,len(wordNum)+1)); # ä¾ç…§é¢‘ç‡é«˜ä½å°†é¢‘ç‡æ¢æˆç´¢å¼•ï¼Œ wordNum[&#39;&#39;] = 0; # æ·»åŠ ç©ºçš„ç´¢å¼•ä¸º0 é¦–å…ˆæ˜¯æå–è¯é¢‘å¤§äº5çš„è¯ï¼Œç„¶åå°†é¢‘ç‡æ¢æˆç´¢å¼•ï¼Œç„¶åæ·»åŠ 0ç´¢å¼•ã€‚ 2.5 ç”¨ç´¢å¼•æ›¿æ¢å¥å­sentencesi = []; for line in lineList: sentenceindex = []; for word in line: if word in wordSet: sentenceindex.append(wordNum[word]); sentencesi.append(sentenceindex); å°±æ˜¯ä¸ªæ›¿æ¢ï¼Œæˆ‘è§‰å¾—æ²¡å•¥å¯è¯´çš„ï¼Œå°±æ˜¯éå†ä¸€éæ‰€æœ‰å•è¯ï¼Œå¦‚æœè¯å†å­—å…¸é‡Œé‚£ä¹ˆä¹…è½¬æ¢æˆç´¢å¼•æ·»åŠ è¿›æ¥ï¼Œæ²¡æœ‰å°±æ”¾å¼ƒã€‚ 2.6 è°ƒæ•´å¥å­é•¿åº¦ï¼Œå¤šçš„æˆªå–ï¼Œå°‘çš„è¡¥0ã€‚ä¸ºäº†è®¡ç®—é€Ÿåº¦ï¼Œè¿™é‡ŒåŒæ—¶ä½¿ç”¨å›ºå®šé•¿åº¦çš„å¥å­ï¼Œå› æ­¤å°±è¦å¤šæˆªå°‘è¡¥ã€‚ X =list(tf.keras.preprocessing.sequence.pad_sequences(sentencesi,maxlen=50)); è¿™é‡Œé€‰å–æœ€å¤§é•¿åº¦ä¸º50ã€‚å½“ç„¶å¥½ä¸€ç‚¹çš„æ–¹æ³•æ˜¯å…ˆç»Ÿè®¡ä¸€ä¸‹å¥å­é•¿åº¦ï¼Œæ‰¾ä¸€ä¸ªèƒ½åŒ…å«å¤§å¤šæ•°å®Œæ•´å¥å­çš„é•¿åº¦ã€‚ 2.7 å»ºç«‹æ¨¡å‹å’Œè®­ç»ƒã€‚æ¨¡å‹è¿™é‡Œå¾ˆç®€å•çš„éšä¾¿å»ºç«‹äº†ä¸€ä¸ªï¼Œå±‚æ•°ï¼ŒæŸå¤±å‡½æ•°å’Œä¼˜åŒ–å‡½æ•°éƒ½å¯ä»¥çœ‹æƒ…å†µæ¢ï¼Œæˆ‘æ˜¯çœ‹æœ‰ç¯‡æ–‡ç« è¿™ä¹ˆåšäº†ï¼Œæˆ‘å°±è¿™ä¹ˆå†™äº†ã€‚ x_train = np.array(X); y_train = np.array(lable); model = tf.keras.Sequential(); model.add(tf.keras.layers.Embedding(input_dim=len(wordSet),output_dim=200,input_length=50)); model.add(tf.keras.layers.LSTM(128)); model.add(tf.keras.layers.Dropout(0.5)); model.add(tf.keras.layers.Dense(1,activation=&quot;sigmoid&quot;)); model.compile(loss=&#39;binary_crossentropy&#39;, optimizer=&#39;rmsprop&#39;, metrics=[&#39;accuracy&#39;]); print(model.summary()); model.fit(x_train, y_train, batch_size=16, epochs=250); è¿™é‡Œå› ä¸ºæ˜¯2åˆ†ç±»æ‰€ä»¥å°±ç”¨sigmoidäº†ï¼Œå¤šåˆ†ç±»è¦ç”¨softmaxï¼Œå°†æ¥ä¼šåšä¸€ä¸ªå¤šåˆ†ç±»çš„ã€‚ è¡¥å……3.1 ç¨‹åºè¯´æ˜æ•´ä¸ªç¨‹åºä¹ æƒ¯æ€§çš„é¢å‘è¿‡ç¨‹äº†ã€‚æ‰€ä»¥ä¸Šé¢ä»£ç å…¨éƒ¨æŒ‰é¡ºåºcrtl+cã€crtl+vä¸‹æ¥å·®ä¸å¤šå°±èƒ½ç”¨äº†ã€‚ä¸ºäº†æµç¨‹å™è¿°æ–¹ä¾¿æ‰€ä»¥è¿™ä¹ˆå†™äº†ã€‚è€Œä¸”ä¸ºäº†å¿«ï¼Œå¾ˆå¤šåœ°æ–¹æ²¡æœ‰ä¼˜åŒ–ï¼Œé€Ÿåº¦è‚¯å®šè¿˜å¯ä»¥å†å¿«ï¼Œå†è€…ä¸ºäº†ç»´æŠ¤ï¼Œå®é™…ä¸Šæœ€ç»ˆè¦ç”¨çš„è¯æœ€å¥½é¢å‘å¯¹è±¡ä¸€ä¸‹ã€‚ å…¶ä¸­éœ€å¾ˆå¤šå¤šè¥¿æƒ³é‡å¤ç”¨çš„è¯å…¶å®å¯ä»¥ä¿å­˜ä¸€ä¸‹ã€‚åƒæ˜¯æ¨¡å‹ï¼Œå­—å…¸ä»€ä¹ˆçš„ã€‚è€Œä¸”è¦ç”Ÿäº§å¼€å‘ç”¨è¿˜éœ€è¦é¢„æµ‹ï¼Œä¸ªäººè®¤ä¸ºåŒæ ·è¿˜éœ€è¦å­—å…¸ç­‰æ•°æ®ï¼Œæ‰€ä»¥ä¿å­˜ä¸‹æ¥ä¼šå¥½ä¸€äº›ï¼Ÿ 3.2 tf.keras.layers.Embedding()çš„ä¸€äº›å°è¯´æ˜è¿™ä¸ªæ˜¯ä¸ªåµŒå…¥å±‚ï¼Œç”¨äºå°†ç´¢å¼•è½¬æ¢ä¸ºå‘é‡ã€‚å‚æ•°å¦‚ä¸‹ input_dim: int &gt; 0ã€‚è¯æ±‡è¡¨å¤§å°ï¼Œ å³ï¼Œæœ€å¤§æ•´æ•° index + 1ã€‚ output_dim: int &gt;= 0ã€‚è¯å‘é‡çš„ç»´åº¦ã€‚ embeddings_initializer: embeddings çŸ©é˜µçš„åˆå§‹åŒ–æ–¹æ³• (è¯¦è§ initializers)ã€‚ embeddings_regularizer: embeddings matrix çš„æ­£åˆ™åŒ–æ–¹æ³• (è¯¦è§ regularizer)ã€‚ embeddings_constraint: embeddings matrix çš„çº¦æŸå‡½æ•° (è¯¦è§ constraints)ã€‚ mask_zero: æ˜¯å¦æŠŠ 0 çœ‹ä½œä¸ºä¸€ä¸ªåº”è¯¥è¢«é®è”½çš„ç‰¹æ®Šçš„ â€œpaddingâ€ å€¼ã€‚ è¿™å¯¹äºå¯å˜é•¿çš„ å¾ªç¯ç¥ç»ç½‘ç»œå±‚ ååˆ†æœ‰ç”¨ã€‚ å¦‚æœè®¾å®šä¸º Trueï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥çš„æ‰€æœ‰å±‚éƒ½å¿…é¡»æ”¯æŒ maskingï¼Œå¦åˆ™å°±ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ å¦‚æœ mask_zero ä¸º Trueï¼Œä½œä¸ºç»“æœï¼Œç´¢å¼• 0 å°±ä¸èƒ½è¢«ç”¨äºè¯æ±‡è¡¨ä¸­ ï¼ˆinput_dim åº”è¯¥ä¸ vocabulary + 1 å¤§å°ç›¸åŒï¼‰ã€‚ input_length: è¾“å…¥åºåˆ—çš„é•¿åº¦ï¼Œå½“å®ƒæ˜¯å›ºå®šçš„æ—¶ã€‚ å¦‚æœä½ éœ€è¦è¿æ¥ Flatten å’Œ Dense å±‚ï¼Œåˆ™è¿™ä¸ªå‚æ•°æ˜¯å¿…é¡»çš„ ï¼ˆæ²¡æœ‰å®ƒï¼Œdense å±‚çš„è¾“å‡ºå°ºå¯¸å°±æ— æ³•è®¡ç®—ï¼‰ã€‚å…¶å®è¿˜å¯ä»¥æŒ‡å®šä¸€ä¸ªweights=ï¼Œè¿™ä¸ªæ˜¯æŒ‡å®šè‡ªå·±è®­ç»ƒçš„è¯å‘é‡ç”¨çš„ã€‚é»˜è®¤ä»–ä¼šé€šè¿‡initializeréšæœºåˆå§‹åŒ–ä¸€ä¸ªï¼Œå½“ç„¶è¿™ä¸ªinitializerä½ ä¹Ÿå¯ä»¥æŒ‡å®šã€‚ 3.3 è¯å‘é‡é€šå¸¸æˆ‘ä»¬æƒ³è®©å­—å…¸å°½å¯èƒ½è´´è¿‘æˆ‘ä»¬çš„éœ€æ±‚ï¼Œæ‰€ä»¥éœ€è¦è‡ªå·±è®­ç»ƒè¯å‘é‡ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦Word2Vecäº†ã€‚ 3.2.1 è¯å‘é‡è®­ç»ƒå‰å‡†å¤‡é¦–å…ˆæ˜¯å¯¼åŒ…ï¼ import gensim.models.word2vec; ç„¶åè‡ªç„¶æ˜¯å‡†å¤‡è¯ï¼ˆäº†ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åˆ©ç”¨ä¸Šé¢åˆ†å®Œè¯è¿˜æœªè½¬åŒ–ä¸ºç´¢å¼•çš„å¥å­ï¼Œå½“ç„¶æœ‰çš„è¿™é‡Œä¼šä½¿ç”¨å­—ï¼Œæœ‰çš„ä¹Ÿä¼šè¿½åŠ åœç”¨è¯ã€‚ä¸è®ºæ€æ ·ï¼Œæˆ‘ä»¬æœ€åå¾—åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ç»„æˆçš„åˆ—è¡¨å°±å¯ä»¥äº†ã€‚ 3.2.2 è¯å‘é‡è®­ç»ƒvecModel = gensim.models.Word2Vec(); è¿™é‡Œå‚æ•°å¾ˆå¤šï¼Œè¯´å‡ ä¸ªè¿™é‡Œä¸€èˆ¬ç®€å•ç”¨çš„ï¼š sentences : å¯è¿­ä»£çš„å¯¹è±¡ size : è¯å‘é‡çš„ç»´æ•°ã€‚ window : å¥å­ä¸­å½“å‰è¯å’Œé¢„æµ‹è¯ä¹‹é—´çš„æœ€å¤§è·ç¦»ã€‚windowè¶Šå¤§ï¼Œåˆ™ä¸ä¸­å¿ƒè¯è¾ƒè¿œçš„è¯ä¹Ÿä¼šäº§ç”Ÿä¸Šä¸‹æ–‡å…³ç³»ã€‚ min_count :æœ€å°è¯é¢‘ï¼Œå¿½ç•¥æ‰€æœ‰æ€»é¢‘ç‡ä½äºæ­¤é¢‘ç‡çš„å•è¯ å·®ä¸å¤šå°±è¿™äº›ï¼Œå‰©ä¸‹å¯ä»¥çœ‹APIã€‚ï¼ˆè‹±æ–‡æ³¨æ„ï¼ä¸­æ–‡ç™¾åº¦ï¼‰ å¯¹äºè¯­æ–™åº“å¾ˆå¤§çš„æƒ…å†µï¼Œè®­ç»ƒè¯å‘é‡éœ€è¦é€šè¿‡ä»ç£ç›˜åŠ è½½sentencesã€‚å¾ªç¯è®­ç»ƒã€‚ 3.2.3 åŠ è½½ç°æœ‰è¯å‘é‡å¯ä»¥é€šè¿‡åŠ è½½ç°æœ‰è¯å‘é‡æ¥ä½¿ç”¨ã€‚è¿™ä¸ªæ–¹æ³•å„ä¸ç›¸åŒï¼Œè‡³å°‘Word2vecè®­ç»ƒå‡ºæ¥å¯çš„ä¸€é€šè¿‡gensim.models.KeyedVectors.load()æ¥åŠ è½½ï¼Œå…·ä½“å‚æ•°è§APIã€‚ï¼ˆè‹±æ–‡æ³¨æ„ï¼ä¸­æ–‡ç™¾åº¦ï¼‰ åŠ è½½å®Œåéœ€è¦ä¾æ®ä½ çš„å­—å…¸æŠŠå¯¹åº”çš„è¯çš„å‘é‡æ·»åŠ è¿›æ¥ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","slug":"ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢","permalink":"/tags/ä½ è¯´è¿™çŸ¥è¯†å’‹å°±ä¸è¿›è„‘å­å‘¢/"},{"name":"AI","slug":"AI","permalink":"/tags/AI/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"DirectX12 Study log (ä»®)","slug":"DirectX12.log","date":"2019-12-29T16:00:00.000Z","updated":"2020-03-25T08:08:36.973Z","comments":true,"path":"2019/12/30/DirectX12.log/","link":"","permalink":"/2019/12/30/DirectX12.log/","excerpt":"","text":"DirectX12 Study log (ä»®)ä¸»è¦å†…å®¹åŸºäºã€Š3D GAMEPROGRAMMING WITH DIRECTX 12ã€‹å†…å®¹å­¦ä¹ ã€‚åŸæ–‡ä½¿ç”¨é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œä¸ªäººå¼ºè¡Œæ”¹ä¸ºâ€œé¢å‘è¿‡ç¨‹â€ã€‚è€Œä¸”è¿˜æ˜¯éå¸¸SBçš„ã€‚åƒåœ¾ä¸€æšã€‚ä¸»è¦è®°å½•ä¹¦é‡Œå¤§è‡´æœ‰äº›ä»€ä¹ˆä¸œè¥¿ï¼Œå¹²äº†äº›ä»€ä¹ˆã€‚å­¦ä¹ çš„æ—¶å€™æ²¡æœ‰è®°å½•ä¼šæœ‰äº›å¾ˆå¤šç¼ºæ¼ã€‚ å…³äºå…·ä½“çš„å®ç°çš„ä¸œè¥¿æƒ³åœ¨æ–°å¼€ä¸ªåœ°æ–¹æ…¢æ…¢è§£é‡Šã€‚å…³äºHLSLå’ŒShaderä¹Ÿä¼šæ–°å¼€ä¸€ä¸ªæ–‡ç« æ…¢æ…¢è¯´ã€‚ æ•°å­¦åŸºç¡€è¯´ç™½äº†ï¼Œçœ‹äº†ä¹Ÿè®°ä¸ä½ï¼Œè®°ä½äº†ä¹Ÿä¸æ‡‚ï¼Œæ‡‚äº†ä¹Ÿä¸ä¼šç”¨ã€‚2333333 Direct3dD initialize Direct3Dçš„åˆå§‹åŒ–DirectX10ï¼ˆ9ï¼Ÿï¼‰ä¹‹åçš„å˜åŒ–å…¶å®ä¸ªäººåªçŸ¥é“DirectX7ï¼Œå°±æ˜¯é‚£æœ¬â€œè¶…ç»å…¸â€çš„ã€ŠWindowsæ¸¸æˆå¤§å¸ˆç¼–ç¨‹æŠ€å·§ã€‹ã€‚è¿™æœ¬ä¹¦ç”¨çš„å¾ˆè€ã€‚é‡Œé¢æœ€ä¸»è¦çš„Surfaceçš„æ¦‚å¿µä¼¼ä¹ä»DirectX11å¼€å§‹å°±æ²¡äº†ï¼ˆæˆ–æ˜¯æå°‘è¢«æåˆ°ï¼‰ã€‚10ä¼¼ä¹æ˜¯æœ€åä½¿ç”¨è¿™ä¸ªæ¦‚å¿µçš„ã€‚ï¼ˆå¯èƒ½ä¹Ÿæ˜¯9ï¼Œæˆ‘ä»€ä¹ˆä¹Ÿä¸çŸ¥é“ï¼Œ23333ï¼‰ï¼Œä¹‹å‰å¤§å¤šæ•°çš„æ“ä½œæ˜¯é’ˆå¯¹Surfaceçš„ï¼ŒDrawLineã€Bitmapç­‰æ“ä½œéƒ½æ˜¯åŸºäºSurfaceçš„ã€‚ä¹‹å‰ä¼¼ä¹æ²¡æœ‰æ¶‰åŠåˆ°Shaderã€‚è¿˜æœ‰Factoryï¼Œ7ä¼¼ä¹æ‰€æœ‰ä¸œè¥¿åŸºæœ¬éƒ½ä»è¿™é‡Œåˆ›å»ºã€‚ åˆå§‹åŒ–å†…å®¹é¡ºåºå°±æŒ‰ç…§ä¹¦ä¸Šçš„äº†,å…¶å®ä¸æ˜¯ç‰¹åˆ«æœ‰å¿…è¦.æ¯”å¦‚å°±å¯ä»¥å…ˆåˆ›å»ºäº¤æ¢é“¾åœ¨åˆ›å»ºå‘½ä»¤é˜Ÿåˆ—. Devices è®¾å¤‡è¿™ä¸ªä¸è®ºé‚£ä¸ªç‰ˆæœ¬éƒ½æ˜¯éœ€è¦å…ˆåˆå§‹åŒ–çš„ä¸œè¥¿ï¼Œç›®çš„åœ¨äºé€‰æ‹©å½“å‰æœºå™¨ä¸Šæ˜¾ç¤ºé€‚é…å™¨ï¼ˆæ˜¾å¡ï¼Ÿï¼‰ã€‚è·å–æ‰€æ”¯æŒçš„DirectXçš„ç‰ˆæœ¬å¹¶è®¾ç½®éœ€è¦ä½¿ç”¨çš„ç‰ˆæœ¬ã€‚è€Œä¸”æ¥ä¸‹æ¥æ‰€æœ‰ä¸Direct3Dç›´æ¥ç›¸å…³çš„ä¸œè¥¿ç”±Devicesåˆ›å»º. Fance å›´æ Fanceä¸»è¦ä½œç”¨æ˜¯æ ‡è®°å‘½ä»¤æ‰§è¡Œçš„ä½ç½®,ç”¨äºåŒæ­¥CPUå’ŒGPU.é˜²æ­¢CPUé€Ÿåº¦å¤ªå¿«è€ŒGPUæ²¡æ‰§è¡Œå®Œå‘½ä»¤å°±æŠŠå‘½ä»¤é˜Ÿåˆ—ç»™åˆ·æ–°äº†. MASS å¤šé‡é‡‡æ ·å…¶å®ä¸å¼€ä¹Ÿå¯ä»¥,å°±æ˜¯ç”»é¢ä¸å¥½çœ‹è€Œå·².æƒ³æ¶å¿ƒäººå¯ä»¥ä¸å¼€.å½“ç„¶ä¹¦ä¸Šå¼€çš„æ˜¯4xçš„,ä¹Ÿå¯ä»¥å¼€8x,å‰æä½ æ¸²æŸ“çš„ä¸œè¥¿ä¸å¤š,å¹¶ä¸”æ˜¾å¡å¾—æ’‘å¾—ä½å•Š. CommandQueue and CommandList å‘½ä»¤é˜Ÿåˆ—å’Œå‘½ä»¤åˆ—è¡¨å‘½ä»¤é˜Ÿåˆ—ç”¨äºå‘GPUæäº¤è¦æ‰§è¡Œçš„å‘½ä»¤,ç›¸å½“äºWindowsçš„æ¶ˆæ¯é˜Ÿåˆ—.å‘½ä»¤åˆ—è¡¨ç”¨äºè®°å½•é˜Ÿåˆ—éœ€è¦æ‰§è¡Œçš„å‘½ä»¤,ç„¶åå°†åˆ—è¡¨æäº¤åˆ°é˜Ÿåˆ—ä¸­.è‡³äºä¸ºä»€ä¹ˆä¸ç›´æ¥åŠ å…¥åˆ°é˜Ÿåˆ—é‡Œ.å®é™…ç­”æ¡ˆæˆ‘ä¹Ÿä¸æœºå¯†.æˆ‘çŒœå¯èƒ½æ˜¯å› ä¸ºæˆ‘ä»¬çš„ç›®æ ‡æ˜¯å‘ˆç°ä¸€å¼ å®Œæ•´çš„Frame.GPUåˆæ˜¯å¹¶è¡Œè®¡ç®—,æäº¤æˆæ‰¹æ“ä½œä¸€å¯ä»¥æ›´å¥½åˆ©ç”¨GPUæ•ˆç‡,äºŒä¸è‡³äºå› ä¸ºä¸€äº›é”™è¯¯å¯¼è‡´å¯ä»¥çœ‹è§ç”»é¢ç”Ÿæˆè¿‡ç¨‹. è€Œåˆ›å»ºCommandListè¿˜éœ€è¦å…ˆåˆ›å»ºCommandAllocator(å‘½ä»¤åˆ†é…å™¨),è´Ÿè´£è®°å½•å‘½ä»¤å¹¶è‡ªåŠ¨å†™åˆ°Listä¸­.å…·ä½“åŸç†æˆ‘ä¹Ÿä¸æ‡‚,åæ­£åˆ°æ—¶å€™ç›´æ¥è·å–ç„¶åExecuteå°±è¡Œäº†.233333 Swap Chain äº¤æ¢é“¾ç”¨äºåˆ‡æ¢ç”¨æˆ·èƒ½çœ‹åˆ°çš„æ˜¯å“ªä¸€å—ç¼“å†²å—(ä¹‹é—´å«Surfaceæ¥ç€?).é€šå¸¸æœ‰ä¸¤å—åå°ç¼“å†²åŒº,ä¸€å—ç»™ç”¨æˆ·çœ‹,ä¸€å—ç”¨æ¥ç»˜åˆ¶ä¸‹ä¸€å¸§.ç»˜åˆ¶å¥½äº†å°±äº¤æ¢ä¸€ä¸‹,è®©ç”¨æˆ·çœ‹åˆ°ä¸‹ä¸€å¸§å¹¶é‡ç»˜å‰ä¸€å¸§.ä¸¤å—ç¼“å†²è¯æŠ€æœ¯åˆå«åŒç¼“å†²,ä¸‰å—å°±æ˜¯ä¸‰ç¼“å†²,ä¼¼ä¹å†å¤šå°±æ²¡å•¥ç”¨äº†.ç›®çš„æ˜¯ä¸ºäº†è®©ç”¨æˆ·å°±çœ‹åˆ°ä»¥ç»˜åˆ¶å¥½çš„ç”»é¢.è€Œä¸çŸ¥é“ç”»é¢æ˜¯æ€ä¹ˆç”Ÿæˆçš„. DescriptorHeap And Descriptor æè¿°ç¬¦å †å’Œæè¿°ç¬¦æè¿°ç¬¦å°±æ˜¯èµ„æºè§†å›¾,ç”±äºRendering Pipelineä¸èƒ½ç›´æ¥ç»‘å®šèµ„æº,æ‰€ä»¥ä½¿ç”¨è§†å›¾æ¥è·å–èµ„æºæƒ…å†µ.æè¿°ç¬¦å †ç”¨æ¥ä¿å­˜ä»–ä»¬. æè¿°ç¬¦æœ€é‡è¦çš„ä¸¤ä¸ª,RTV(Render Target View)å’ŒDTV(Depth Target Viet). RTVç›¸å½“äºç”¨äºæ¸²æŸ“çš„ç”»é¢,åœ¨Drawä»»ä½•ä¸œè¥¿å…ˆéƒ½åº”å…ˆæ¸…ç©ºå¹¶è®¾ç½®,åˆ›å»ºæ—¶ä¸ºæ¯ä¸ªåå°ç¼“å†²åŒºåˆ›å»ºä¸€ä¸ªRTV. DTVç”¨äºæ·±åº¦æ¨¡æ¿. ä¹‹åè¿˜æœ‰SRV(Shader Resource View),ç”¨äºä¿å­˜ç€è‰²å™¨ä½¿ç”¨çš„èµ„æº,å¦‚çº¹ç†,è´´å›¾.SRVä¼¼ä¹åº”è¯¥åœ¨åŠ è½½è´´å›¾çš„æ—¶å€™å†åˆ›å»º,æœ€åŸºæœ¬çš„åˆå§‹åŒ–é˜¶æ®µä¸æ˜¯å¿…é¡»çš„.CBV(Constant Buffer View)å’ŒUAV(Unordered Access View)bulabulabula åœ¨æ‰€æœ‰æè¿°ç¬¦å †å‰åº”ä½¿ç”¨GetDescriptorHandleIncrementSize();è·å–æè¿°ç¬¦å¤§å°,åœ¨åˆ›å»ºå¤šä¸ªæè¿°ç¬¦æ—¶éœ€è¦ç”¨offset();è¿›è¡Œåç§». ViewPort è§†å£è§†å£å°±æ˜¯æè¿°ä½ çª—å£å¤§å°çš„ä¸œè¥¿,DirectXåªèƒ½åœ¨Windowsä¸Šè¿è¡Œ,é€šå¸¸è§†å£å¤§å°ä¸Windowsçª—å£å¤§å°ä¸€è‡´,åŒæ—¶è§†å£è¿˜å¯ä»¥è®¾ç½®æ·±åº¦,ä½†é€šå¸¸æœ€å°ä¸º0.0fæœ€å¤§ä¸º1.0f. Scissor Rectangle è£å‰ªçŸ©å½¢è£å‰ªçŸ©å½¢æ˜¯å°†çŸ©å½¢å¤–çš„åƒç´ å…¨éƒ¨å‰”é™¤,é€šå¸¸å’Œè§†å£å¤§å°ä¿æŒä¸€è‡´. è®¡æ—¶å™¨ä¸ç®¡å’‹æ ·æœ€å¥½æœ‰ä¸€ä¸ª,é«˜æ€§èƒ½è®¡æ—¶å™¨å¯¹æ§åˆ¶å¸§ç‡æœ‰å¾ˆå¥½çš„å¸®åŠ©. ä¹¦ä¸­ç»™å‡ºçš„GameTimeråˆ©ç”¨äº†Windowsè‡ªå¸¦çš„è®¡æ—¶å™¨å‡½æ•°QueryPerformanceCounter();è¿”å›ä¸€ä¸ªint64çš„æ•´æ•°,é…åˆQueryPerformanceFrequency();è¿”å›è®¡æ—¶å™¨çš„é¢‘ç‡ä¸€ä¸ªint64çš„æ•´æ•°. é€šè¿‡è°ƒç”¨ä¸¤æ¬¡QueryPerformanceCounter();åšå·®å†ä¹˜ä¸ŠQueryPerformanceFrequency();å³å¯å¾—åˆ°ä¸¤æ¬¡è°ƒç”¨ä¹‹é—´ç»è¿‡çš„æ—¶é—´. Rendering Pipeline æ¸²æŸ“æµæ°´çº¿(æ¸²æŸ“ç®¡çº¿)Profile æ¦‚è¿°graph TD A(Input Assembler Stage è¾“å…¥è£…é…é˜¶æ®µ) --&gt; B(Vertex Shader Stage é¡¶ç‚¹ç€è‰²å™¨é˜¶æ®µ) --&gt; C(Hull Shader Stage å¤–å£³ç€è‰²å™¨é˜¶æ®µ)--&gt;D(Tessellator Stage æ›²é¢ç»†åˆ†é˜¶æ®µ)--&gt;E(Domain shader Stage åŸŸç€è‰²å™¨é˜¶æ®µ)--&gt;F(Geometry Shader Stage å‡ ä½•ç€è‰²å™¨é˜¶æ®µ)--&gt;G(Stream Output Stage æµè¾“å‡ºé˜¶æ®µ)--&gt;H(Rasterizer Stage å…‰æ …åŒ–é˜¶æ®µ)--&gt;I(Pixel Shader Stage åƒç´ ç€è‰²å™¨é˜¶æ®µ)--&gt;J(Output Merger Stage åˆå¹¶è¾“å‡ºé˜¶æ®µ) Input Assembler Stage è¾“å…¥è£…é…é˜¶æ®µ (IA)ç®€å•æ¥è®²å°±æ˜¯ä»æ˜¾å­˜ä¸­æ¨¡å‹çš„é¡¶ç‚¹åæ ‡å’Œé¢ç´¢å¼•.æ³¨æ„è¿™é‡Œæ˜¯æ˜¾å­˜,è¿™å°±æ„å‘³ä¹‹æˆ‘ä»¬åœ¨æ­¤ä¹‹å‰å°±åº”è¯¥æŠŠæ•°æ®ä»å†…å­˜ä¸­æ‹·è´åˆ°æ˜¾å­˜é‡Œæ¥. ç„¶åéœ€è¦è®¾ç½®å›¾å…ƒæ‹“æ‰‘,å°±æ˜¯æŒ‡å®šé¡¶ç‚¹ä¹‹é—´çš„ç»“æ„,è¯»æ–‡ä»¶çš„ä¸€èˆ¬ä¸éœ€è¦æ³¨æ„ç´¢å¼•çš„ç»•åº,æƒ³objå’Œm3déƒ½æ˜¯å¯ä»¥ç›´æ¥ç”¨çš„. Vertex Shader é¡¶ç‚¹ç€è‰²å™¨é˜¶æ®µ(VS)æ¶‰åŠä¸€å¤§å †ä¸€å¤§å †æ•°å­¦ä¸œè¥¿.ç®€è€Œè¨€ä¹‹å°±æ˜¯æŠŠç›¸å¯¹åæ ‡å˜æˆç»å¯¹åæ ‡,æŠŠå±€éƒ¨ç©ºé—´åæ ‡ç³»ä¸Šçš„ç‚¹,è¡¨ç¤ºæˆä¸–ç•Œç©ºé—´åæ ‡ç³»çš„ç‚¹.ç„¶åå½’ä¸€åŒ–æ·±åº¦å€¼. Hull Shader å¤–å£³ç€è‰²å™¨é˜¶æ®µ(HS) ä¸æ˜¯H Senceï¼å…¶å®æ˜¯æ›²é¢ç»†åˆ†é˜¶æ®µçš„ä¸€éƒ¨åˆ†,ä½†å®é™…ä¸Šå·¥ä½œé‡å·®ä¸å¤š,æˆ‘å°±æ‹¿HSè¯´äº† Hull ShaderåŒ…æ‹¬ä¸¤ç§SHader: 1.Constant Hull Shader å¸¸é‡å¤–å£³ç€è‰²å™¨ 2.Control Hull Shader æ§åˆ¶å¤–å£³ç€è‰²å™¨ Constant Hull Shader å¸¸é‡å¤–å£³ç€è‰²å™¨å¸¸é‡å¤–å£³ç€è‰²å™¨çš„ä»»åŠ¡æ˜¯è¾“å‡ºç½‘æ ¼çš„æ›²é¢ç»†åˆ†å› å­(tessellation factor).æ›²é¢ç»†åˆ†å› å­æŒ‡ç¤ºäº†æ›²é¢ç»†åˆ†é˜¶æ®µä¸­å°†é¢ç‰‡é•¶åµŒå¤„ç†åä»½æ•°. è¯´ç™½äº†å°±æ˜¯å¢åŠ å®šç‚¹æ•°é‡.ç®€å•æ“ä½œå°±æ˜¯å°†ç›´çº¿ç­‰åˆ† ç­‰åˆ†åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œå¯¹äºå››è¾¹é¢ï¼Œä¸€ä¸ªæ˜¯å¯¹æ¯æ¡è¾¹çš„ç»†åˆ†ï¼Œå¦ä¸€ä¸ªæ˜¯å¯¹å†…éƒ¨ç©ºé—´å‡ è¡Œå‡ åˆ—çš„ç»†åˆ†ï¼Œå¯¹äºä¸‰è¾¹é¢ï¼Œä¸€ä¸ªæ˜¯å¯¹æ¯æ¡è¾¹çš„ç»†åˆ†ï¼Œå¦ä¸€ä¸ªæ˜¯å¯¹å†…éƒ¨ç©ºé—´çš„ç»†åˆ†ï¼Œä¸‰è¾¹é¢åªæœ‰ä¸€ä¸ªå†…éƒ¨ç©ºé—´ç»†åˆ†å‚æ•°ï¼Œå¯ä»¥ç†è§£æˆnè¡Œnåˆ—çš„ç»†åˆ†ã€‚ï¼ˆå—¯ï¼Œåº”è¯¥å§ã€‚ï¼‰ Control Hull Shader æ§åˆ¶å¤–å£³ç€è‰²å™¨æ§åˆ¶å¤–å£³ç€è‰²å™¨ä»¥å¤§é‡æ§åˆ¶é¡¶ç‚¹ä½œä¸ºè¾“å…¥ä¸è¾“å‡º,æ¯è¾“å‡ºä¸€ä¸ªæ§åˆ¶ç‚¹å°±è°ƒç”¨ä¸€æ¬¡.åº”ç”¨ä¹‹ä¸€æ˜¯æ”¹å˜æ›²é¢çš„è¡¨ç¤ºæ–¹å¼.æ¯”å¦‚ä¸‰æ¬¡è´å¡å°”æ›²çº¿.å¯ä»¥å¸¦æ¥æ›´ä¸°å¯Œçš„ç»†èŠ‚. è¯´ç™½äº†HSå°±æ˜¯å¯ä»¥æŠŠä½æ¨¡å˜æˆé«˜æ¨¡ é•¶åµŒå™¨é˜¶æ®µè¿™ä¸ªæ˜¯ç¡¬ä»¶è‡ªåŠ¨å®Œæˆçš„ï¼Œè¿™ä¸ªç¯èŠ‚ä¼šæ ¹æ®å¸¸é‡å¤–å£³ç€è‰²å™¨è¾“å‡ºçš„æ›²é¢ç»†åˆ†å› å­å¯¹é¢ç‰‡è¿›è¡Œé•¶åµŒç”»å¤„ç†ï¼Œå½“ç„¶å››è¾¹é¢å’Œä¸‰è¾¹é¢çš„å¤„ç†æ–¹å¼æ˜¯ä¸åŒçš„ã€‚ Domain ShaderåŸŸç€è‰²å™¨é•¶åµŒå™¨é˜¶æ®µä¼šè¾“å‡ºæ–°å»ºçš„æ‰€æœ‰é¡¶ç‚¹ä¸ä¸‰è§’å½¢ï¼Œåœ¨æ­¤é˜¶æ®µåˆ›å»ºçš„é¡¶ç‚¹ä¼šé€ä¸€è°ƒç”¨åŸŸç€è‰²å™¨.å…¶æœ¬è´¨å°±æ˜¯â€œå¯¹å·²ç»ç»è¿‡é•¶åµŒåŒ–çš„é¢ç‰‡è¿›è¡Œå¤„ç†çš„é¡¶ç‚¹ç€è‰²å™¨â€ã€‚å¯¹é•¶åµŒèŠ±åŒ–åçš„ç‚¹è¿›è¡Œåšåæ ‡å˜æ¢ã€‚ Geometry Shader å‡ ä½•ç€è‰²å™¨(GS)è®°å¾—æŸä¸ªç¾¤çš„å…¥ç¾¤é—®é¢˜å°±æ˜¯GSåœ¨PSå‰è¿˜æ˜¯VSåï¼Ÿï¼ˆè¿˜æ˜¯VSå‰PSåæ¥ç€ï¼‰ã€‚æ€»ä¹‹ä¹¦ä¸Šè¯´çš„æ˜¯ï¼šâ€œå†ä¸å¯ç”¨æ›²é¢ç»†åˆ†è¿™ä¸€ç¯èŠ‚ï¼ŒGSè¿™ä¸ªå¯é€‰é˜¶æ®µä¾¿ä¼šä½äºVSä¸PSä¹‹é—´â€ã€‚ GSçš„è¾“å…¥å¿…é¡»æ˜¯å®Œæ•´çš„å›¾å…ƒï¼Œå¦‚æ„æˆä¸€æ¡çº¿çš„ä¸¤ä¸ªé¡¶ç‚¹ï¼Œæ„æˆä¸‰è§’å½¢çš„ä¸‰ä¸ªé¡¶ç‚¹ã€‚ä¹¦ä¸­æåˆ°çš„ä¸€ä¸ªå¸¸è§åº”ç”¨æ˜¯å°†ä¸€ç‚¹æ‹“å±•æˆä¸ºä¸€ä¸ªå››è¾¹å½¢ï¼ˆä¿©ä¸‰è§’å½¢ï¼‰ã€‚å¹¶ä»¥æ­¤ä»‹ç»äº†å…¬å‘Šç‰ŒæŠ€æœ¯ï¼Œç”¨æ¥æ˜¾ç¤ºè¿œå¤„çš„ä¸€äº›å°ä¸œè¥¿ã€‚ GSå…¶å®å°±æ˜¯æŠŠé¡¶ç‚¹æ¥å›æŠ˜è…¾çš„ä¸€ä¸ªä¸œè¥¿ï¼Œå¹¶ä¸”è¿˜å¯ä»¥æ”¹å˜å›¾å…ƒæ‹“æ‰‘ï¼ˆå…¶å®æˆ‘æƒ³è¯´çš„æ˜¯å˜æˆä¸åŒçš„å›¾å…ƒï¼‰ï¼Œä¸€äº›å°çš„ç»†èŠ‚å˜åŒ–å’Œç²’å­æ•ˆæœä¼¼ä¹å¯ä»¥ç”¨è¿™ä¸ªå®ç°ã€‚ Pixel Shaderåƒç´ ç€è‰²å™¨(PS)PSä¼šå¯¹æ¯ä¸€ä¸ªåƒç´ é‡‡æ ·ç‚¹è¿›è¡Œè®¡ç®—ï¼Œæ ¹æ®é¡¶ç‚¹çš„æ’å€¼å±æ€§ä½œä¸ºè¾“å…¥æ¥è®¡ç®—å¯¹åº”ä¸ºçš„åƒç´ çš„é¢œè‰²ã€‚PSå¯ä»¥è¿”å›å•ä¸€æ’å®šçš„é¢œè‰²ï¼Œä¹Ÿå¯æ˜¯å®ç°é€åƒç´ å…‰ç…§ï¼Œåå°„ï¼Œå’Œé˜´å½±ç­‰å…¶ä»–æ•ˆæœã€‚ Output Marger åˆå¹¶è¾“å‡ºç®€å•æ¥è®²å°±æ˜¯å»æ‰ä¸ç¬¦åˆè¦æ±‚çš„åƒç´ ï¼Œå¦‚æ²¡é€šè¿‡æ·±åº¦ç¼“å†²åŒºæµ‹è¯•æˆ–æ¨¡æ¿ç¼“å†²åŒºæµ‹è¯•çš„åƒç´ ã€‚å‰©ä¸‹çš„å°±å†™å…¥åå°ç¼“å†²åŒºä¸­ï¼Œâ€œBlend æ··åˆâ€ä¹Ÿæ˜¯åœ¨è¿™ä¸ªé˜¶æ®µå®ç°çš„ã€‚ Shader ç€è‰²å™¨çš„å†™æ³•å’Œä¸€äº›ä¸œè¥¿ä¼šä¸“é—¨æ‰¾åœ°æ–¹è¯´ã€‚ Lighting å…‰ç…§è¿™ä¸ªï¼Œè¦åœ¨è¿™é‡Œé¢è¯´å˜›ï¼Ÿå°±æ˜¯å¾ˆå¤šå¾ˆå¤šçš„æ•°å­¦å’Œç‰©ç†çŸ¥è¯†ï¼Œåœ¨Shaderé‡Œå®ç°å°±å¥½äº†ã€‚ Texture Mapping çº¹ç†è´´å›¾çº¹ç†å…¶å®å°±æ˜¯ä¸€ç§èµ„æºï¼ŒD3D12ä¸­å‡ ä¹æ‰€æœ‰èµ„æºç»Ÿä¸€ç”¨ID3D12Resourceæ¥ç®¡ç†ã€‚ çº¹ç†å…·æœ‰ç‰¹å®šçš„æ•°æ®æ ¼å¼ï¼Œä¸æ”¯æŒé™¤è¿™äº›æ ¼å¼ä¹‹å¤–çš„æ ¼å¼ï¼Œå¹¶ä¸”çº¹ç†å¯ä»¥å…·æœ‰å¤šä¸ªå±‚çº§çš„mipmapï¼ˆç»™æˆ‘æ„Ÿè§‰çš„æ„æ€å½“ç›¸å½“äºäººå·¥æ™ºèƒ½é‡Œçš„æ± åŒ–æ“ä½œï¼Œå°±æ˜¯å…·æœ‰å¤šä¸ªå¤§å°çš„åŒä¸€å›¾ï¼Œä½†ä»–ä»¬éƒ½è¿˜åœ¨åŒä¸€ä¸ªâ€œå›¾â€é‡Œï¼‰ã€‚ æœ‰ä¸€ç§æŠ€æœ¯å«â€œæ¸²æŸ“åˆ°çº¹ç†â€ï¼Œæ˜¯æŒ‡å³å°†çº¹ç†ä½œç”¨äºæ¸²æŸ“ç›®æ ‡ï¼Œæœ‰èƒ½å°†çº¹ç†ä½œä¸ºç€è‰²å™¨çš„èµ„æºï¼ˆåœ¨ç€è‰²å™¨é‡Œå¯¹çº¹ç†é‡‡æ ·ï¼‰ä½¿ç”¨ã€‚ DirectXä¸­çº¹ç†ç”¨DDS(DirectDraw Suaface Format)æ ¼å¼çš„æ–‡ä»¶ã€‚PSéœ€è¦è£…æ’ä»¶æ‰èƒ½å¯¼å‡ºå’Œç¼–è¾‘ï¼ˆå¿™æ´»äº†æˆ‘åŠå¤©ï¼‰ã€‚ Blend æ··åˆåšäº†ä¸ªå’Œå•¥å‘¢ï¼Œå°±æ˜¯æŠŠå·²ç»å…‰æ …åŒ–çš„åƒç´ ï¼ˆç›®æ ‡åƒç´ ï¼‰å’Œç°åœ¨è¦å…‰æ …åŒ–çš„åƒç´ ï¼ˆæºåƒç´ ï¼‰è¿›è¡Œèåˆçš„æ“ä½œã€‚å¸¸è§æ“ä½œå°±æ˜¯åŠé€æ˜ç‰©ä½“çš„è¿ç”¨ï¼Œé…åˆçº¹ç†è´´å›¾ä¼šæœ‰å¾ˆå¤šæ„æƒ³ä¸åˆ°çš„æ•ˆæœï¼Œæœ‰ç§ç”¨ä»£ç ç©AEçš„æ„Ÿè§‰ã€‚ Stencli æ¨¡æ¿åœ¨è¿™é‡Œæˆ‘çº³é—·è¿‡æ¨¡æ¿ä¸ºå•¥å­ä¸æ˜¯Templateï¼Œä¸€èˆ¬è§åˆ°æ¨¡æ¿éƒ½æ˜¯Templateã€‚æŸ¥å­—å…¸å“‡Stencliä¹Ÿæ˜¯æ¨¡æ¿çš„æ„æ€ã€‚ä½†å°±æ˜¯Stencliçš„æ¨¡æ¿æŒ‡çš„æ˜¯å°åˆ·æ–‡å­—æˆ–å›¾æ¡ˆçš„é‚£ä¸ªæ¨¡æ¿ã€‚Templateæœ‰æ¨¡æ¡†ï¼Œæ ·æ¿çš„æ„æ€ã€‚ æ‰€ä»¥é¡¾åæ€ä¹‰ï¼Œè¿™é‡Œçš„æ¨¡æ¿æ˜¯æŒ‡æ ¹æ®æŸç§è§„åˆ™æ¥å†™å…¥åƒç´ çš„ã€‚ä¹¦ä¸­ç»™çš„åº”ç”¨å°±æ˜¯é•œå­ã€‚å½“ç„¶æ˜¯å¹³é¢é•œã€‚é˜´å½±ä¹¦ä¸­ä¹Ÿç”¨äº†æ¨¡æ¿ç¼“å†²æ¥é˜²æ­¢åŒé‡æ··åˆã€‚ ç¬¬ä¸€äººç§°è§†è§’æ‘„åƒæœºåœ¨ä¹¦ä¸­15ç« ä¹‹å‰çš„å†…å®¹ä¸­ï¼Œè§†è§’éƒ½æ˜¯é€šè¿‡ä¸€ä¸ªDirectX::XMFLOAT3ç±»å‹çš„EyePoså˜é‡ï¼Œä¼ åˆ°ç€è‰²å™¨ä¸­gEyePosï¼Œé€šè¿‡å–æ™¯å˜æ¢è½¬æ¢åæ ‡ã€‚ ç¬¬ä¸€äººç§°æ‘„åƒæœºå°±æ˜¯æŠŠè¿™ä¸ªä¸œè¥¿å°è£…æˆç±»ï¼Œæ·»åŠ ä¸€äº›æ–¹ä¾¿è®¡ç®—çš„å±æ€§å’Œæ–¹æ³•ã€‚åŒæ—¶å¯ä»¥ä¸ä»…ä»…â€œæ—‹è½¬â€æ”¹å˜åæ ‡ï¼Œè¿˜å¯ä»¥ç§»åŠ¨æ‘„åƒæœºåæ ‡ã€‚æ¯æ¬¡è§’åº¦å’Œä½ç½®ä¸åŒæ›´æ–°å†…éƒ¨å‘é‡ï¼Œä¾›ç€è‰²å™¨ä½¿ç”¨ã€‚ åŠ¨æ€ç´¢å¼•è¯´ç™½äº†å°±æ˜¯è®©ç€è‰²å™¨ç”¨ç´¢å¼•è®¿é—®èµ„æºã€‚æ®è¯´é…åˆå®ä¾‹åŒ–æœ‰æ„æƒ³ä¸åˆ°çš„æ•ˆæœã€‚åŠ¨æ€ç´¢å¼•å¯ä»¥è®©æ‰€æœ‰çº¹ç†èµ„æºä¸€æ¬¡ç»‘å®šåï¼Œè®©ç€è‰²å™¨è‡ªå·±é€‰æ‹©é€‚åˆçš„çº¹ç†ã€‚ç´¢å¼•è¦æ±‚ä½¿ç”¨ç³»ç»ŸIDã€‚å¦‚SV_InstanceIDã€SV_VertexIDã€‚ å®ä¾‹åŒ–","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/tags/æŠ€æœ¯/"},{"name":"DirectX","slug":"DirectX","permalink":"/tags/DirectX/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"Hexo-Theme-Sakura","slug":"Hexo-Theme-Sakura","date":"2018-12-12T14:16:01.000Z","updated":"2020-02-18T00:38:20.675Z","comments":true,"path":"2018/12/12/Hexo-Theme-Sakura/","link":"","permalink":"/2018/12/12/Hexo-Theme-Sakura/","excerpt":"","text":"hexo-theme-sakuraä¸»é¢˜ English document åŸºäºWordPressä¸»é¢˜Sakuraä¿®æ”¹æˆHexoçš„ä¸»é¢˜ã€‚ demoé¢„è§ˆ æ­£åœ¨å¼€å‘ä¸­â€¦â€¦ äº¤æµç¾¤è‹¥ä½ æ˜¯ä½¿ç”¨è€…ï¼ŒåŠ ç¾¤QQ: 801511924 è‹¥ä½ æ˜¯åˆ›ä½œè€…ï¼ŒåŠ ç¾¤QQ: 194472590 ä¸»é¢˜ç‰¹æ€§ é¦–é¡µå¤§å±è§†é¢‘ é¦–é¡µéšæœºå°é¢ å›¾ç‰‡æ‡’åŠ è½½ valineè¯„è®º fancy-boxç›¸å†Œ pjaxæ”¯æŒï¼ŒéŸ³ä¹ä¸é—´æ–­ aplayeréŸ³ä¹æ’­æ”¾å™¨ å¤šçº§å¯¼èˆªèœå•ï¼ˆæŒ‰ç°åœ¨å¤§éƒ¨åˆ†hexoä¸»é¢˜æ¥è¯´ï¼Œè¿™ä¹Ÿç®—æ˜¯ä¸ªç‰¹æ€§äº†ï¼‰ èµèµä½œè€…å¦‚æœå–œæ¬¢hexo-theme-sakuraä¸»é¢˜ï¼Œå¯ä»¥è€ƒè™‘èµ„åŠ©ä¸€ä¸‹å“¦~éå¸¸æ„Ÿæ¿€ï¼ paypal | Alipay æ”¯ä»˜å® | WeChat Pay å¾®ä¿¡æ”¯ä»˜ æœªå®Œå–„çš„ä½¿ç”¨æ•™ç¨‹é‚£å•¥ï¼Ÿè€å®è¯´æˆ‘ç›®å‰ä¹Ÿä¸æ˜¯å¾ˆæœ‰æ¡ç†233333333~ 1ã€ä¸»é¢˜ä¸‹è½½å®‰è£…hexo-theme-sakuraå»ºè®®ä¸‹è½½å‹ç¼©åŒ…æ ¼å¼ï¼Œå› ä¸ºé™¤äº†ä¸»é¢˜å†…å®¹è¿˜æœ‰äº›sourceçš„é…ç½®å¯¹æ–°æ‰‹æ¥è¯´æ¯”è¾ƒå¤ªéº»çƒ¦ï¼Œç›´æ¥ä¸‹è½½è§£å‹å°±çœå»è¿™äº›éº»çƒ¦å’¯ã€‚ ä¸‹è½½å¥½åè§£å‹åˆ°åšå®¢æ ¹ç›®å½•ï¼ˆä¸æ˜¯ä¸»é¢˜ç›®å½•å“¦ï¼Œé‡å¤çš„é€‰æ‹©æ›¿æ¢ï¼‰ã€‚æ¥ç€åœ¨å‘½ä»¤è¡Œï¼ˆcmdã€bashï¼‰è¿è¡Œnpm iå®‰è£…ä¾èµ–ã€‚ 2ã€ä¸»é¢˜é…ç½®åšå®¢æ ¹ç›®å½•ä¸‹çš„_configé…ç½®ç«™ç‚¹ # Site title: ä½ çš„ç«™ç‚¹å subtitle: description: ç«™ç‚¹ç®€ä»‹ keywords: author: ä½œè€…å language: zh-cn timezone: éƒ¨ç½² deploy: type: git repo: github: ä½ çš„githubä»“åº“åœ°å€ # coding: ä½ çš„codingä»“åº“åœ°å€ branch: master å¤‡ä»½ ï¼ˆä½¿ç”¨hexo bå‘å¸ƒå¤‡ä»½åˆ°è¿œç¨‹ä»“åº“ï¼‰ backup: type: git message: backup my blog of https://honjun.github.io/ repository: # ä½ çš„githubä»“åº“åœ°å€,å¤‡ä»½åˆ†æ”¯å ï¼ˆå»ºè®®æ–°å»ºbackupåˆ†æ”¯ï¼‰ github: https://github.com/honjun/honjun.github.io.git,backup # coding: https://git.coding.net/hojun/hojun.git,backup ä¸»é¢˜ç›®å½•ä¸‹çš„_configé…ç½®å…¶ä¸­æ ‡æ˜ã€æ”¹ã€‘çš„æ˜¯éœ€è¦ä¿®æ”¹éƒ¨é—¨ï¼Œæ ‡æ˜ã€é€‰ã€‘æ˜¯å¯æ”¹å¯ä¸æ”¹ï¼Œæ ‡æ˜ã€éã€‘æ˜¯ä¸ç”¨æ”¹çš„éƒ¨åˆ† # site name # ç«™ç‚¹å ã€æ”¹ã€‘ prefixName: ã•ãã‚‰è˜ãã® siteName: hojun # favicon and site master avatar # ç«™ç‚¹çš„faviconå’Œå¤´åƒ è¾“å…¥å›¾ç‰‡è·¯å¾„ï¼ˆä¸‹é¢çš„é…ç½®æ˜¯éƒ½æ˜¯cdnçš„ç›¸å¯¹è·¯å¾„ï¼Œæ²¡æœ‰cdnè¯·å¡«å†™å®Œæ•´è·¯å¾„ï¼Œå»ºè®®ä½¿ç”¨jsdeliveræ­å»ºä¸€ä¸ªcdnå•¦ï¼Œå…ˆå»ä¸‹è½½æˆ‘çš„cdnæ›¿æ¢ä¸‹å›¾ç‰‡å°±è¡Œäº†ï¼Œç®€å•æ–¹ä¾¿~ï¼‰ã€æ”¹ã€‘ favicon: /images/favicon.ico avatar: /img/custom/avatar.jpg # ç«™ç‚¹url ã€æ”¹ã€‘ url: https://sakura.hojun.cn # ç«™ç‚¹ä»‹ç»ï¼ˆæˆ–è€…è¯´æ˜¯ä¸ªäººç­¾åï¼‰ã€æ”¹ã€‘ description: Live your life with passion! With some drive! # ç«™ç‚¹cdnï¼Œæ²¡æœ‰å°±ä¸ºç©º ã€æ”¹ã€‘ è‹¥æ˜¯cdnä¸ºç©ºï¼Œä¸€äº›å›¾ç‰‡åœ°å€å°±è¦å¡«å®Œæ•´åœ°å€äº†ï¼Œæ¯”å¦‚ä¹‹å‰avatarå°±è¦å¡«https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/custom/avatar.jpg cdn: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6 # å¼€å¯pjax ã€é€‰ã€‘ pjax: 1 # ç«™ç‚¹é¦–é¡µçš„å…¬å‘Šä¿¡æ¯ ã€æ”¹ã€‘ notice: hexo-Sakuraä¸»é¢˜å·²ç»å¼€æºï¼Œç›®å‰æ­£åœ¨å¼€å‘ä¸­... # æ‡’åŠ è½½çš„åŠ è½½ä¸­å›¾ç‰‡ ã€é€‰ã€‘ lazyloadImg: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg # ç«™ç‚¹èœå•é…ç½® ã€é€‰ã€‘ menus: é¦–é¡µ: { path: /, fa: fa-fort-awesome faa-shake } å½’æ¡£: { path: /archives, fa: fa-archive faa-shake, submenus: { æŠ€æœ¯: {path: /categories/æŠ€æœ¯/, fa: fa-code }, ç”Ÿæ´»: {path: /categories/ç”Ÿæ´»/, fa: fa-file-text-o }, èµ„æº: {path: /categories/èµ„æº/, fa: fa-cloud-download }, éšæƒ³: {path: /categories/éšæƒ³/, fa: fa-commenting-o }, è½¬è½½: {path: /categories/è½¬è½½/, fa: fa-book } } } æ¸…å•: { path: javascript:;, fa: fa-list-ul faa-vertical, submenus: { ä¹¦å•: {path: /tags/æ‚¦è¯»/, fa: fa-th-list faa-bounce }, ç•ªç»„: {path: /bangumi/, fa: fa-film faa-vertical }, æ­Œå•: {path: /music/, fa: fa-headphones }, å›¾é›†: {path: /tags/å›¾é›†/, fa: fa-photo } } } ç•™è¨€æ¿: { path: /comment/, fa: fa-pencil-square-o faa-tada } å‹äººå¸: { path: /links/, fa: fa-link faa-shake } èµèµ: { path: /donate/, fa: fa-heart faa-pulse } å…³äº: { path: /, fa: fa-leaf faa-wrench , submenus: { æˆ‘ï¼Ÿ: {path: /about/, fa: fa-meetup}, ä¸»é¢˜: {path: /theme-sakura/, fa: iconfont icon-sakura }, Lab: {path: /lab/, fa: fa-cogs }, } } å®¢æˆ·ç«¯: { path: /client/, fa: fa-android faa-vertical } RSS: { path: /atom.xml, fa: fa-rss faa-pulse } # Home page sort type: -1: newer firstï¼Œ1: older first. ã€éã€‘ homePageSortType: -1 # Home page article shown number) ã€éã€‘ homeArticleShown: 10 # èƒŒæ™¯å›¾ç‰‡ ã€é€‰ã€‘ bgn: 8 # startdashé¢æ¿ url, title, desc img ã€æ”¹ã€‘ startdash: - {url: /theme-sakura/, title: Sakura, desc: æœ¬ç«™ hexo ä¸»é¢˜, img: /img/startdash/sakura.md.png} - {url: http://space.bilibili.com/271849279, title: Bilibili, desc: åšä¸»çš„bç«™è§†é¢‘, img: /img/startdash/bilibili.jpg} - {url: /, title: hojunçš„ä¸‡äº‹å±‹, desc: æŠ€æœ¯æœåŠ¡, img: /img/startdash/wangshiwu.jpg} # your site build time or founded date # ä½ çš„ç«™ç‚¹å»ºç«‹æ—¥æœŸ ã€æ”¹ã€‘ siteBuildingTime: 07/17/2018 # ç¤¾äº¤æŒ‰é’®(social) url, img PCç«¯é…ç½® ã€æ”¹ã€‘ social: github: {url: http://github.com/honjun, img: /img/social/github.png} sina: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/sina.png} wangyiyun: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/wangyiyun.png} zhihu: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/zhihu.png} email: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/email.svg} wechat: {url: /#, qrcode: /img/custom/wechat.jpg, img: /img/social/wechat.png} # ç¤¾äº¤æŒ‰é’®(msocial) url, img ç§»åŠ¨ç«¯é…ç½® ã€æ”¹ã€‘ msocial: github: {url: http://github.com/honjun, fa: fa-github, color: 333} weibo: {url: http://weibo.com/mashirozx?is_all=1, fa: fa-weibo, color: dd4b39} qq: {url: https://wpa.qq.com/msgrd?v=3&amp;uin=954655431&amp;site=qq&amp;menu=yes, fa: fa-qq, color: 25c6fe} # èµèµäºŒç»´ç ï¼ˆå…¶ä¸­wechatSQæ˜¯èµèµå•é¡µé¢çš„èµèµç å›¾ç‰‡ï¼‰ã€æ”¹ã€‘ donate: alipay: /img/custom/donate/AliPayQR.jpg wechat: /img/custom/donate/WeChanQR.jpg wechatSQ: /img/custom/donate/WeChanSQ.jpg # é¦–é¡µè§†é¢‘åœ°å€ä¸ºhttps://cdn.jsdelivr.net/gh/honjun/hojun@1.2/Unbroken.mp4ï¼Œé…ç½®å¦‚ä¸‹ ã€æ”¹ã€‘ movies: url: https://cdn.jsdelivr.net/gh/honjun/hojun@1.2 # å¤šä¸ªè§†é¢‘ç”¨é€—å·éš”å¼€ï¼Œéšæœºè·å–ã€‚æ”¯æŒçš„æ ¼å¼ç›®å‰å·²çŸ¥MP4,Flvã€‚å…¶ä»–çš„å¯ä»¥è¯•ä¸‹ï¼Œä¸ä¿è¯æœ‰ç”¨ name: Unbroken.mp4 # å·¦ä¸‹è§’aplayeræ’­æ”¾å™¨é…ç½® ä¸»è¦æ”¹idå’Œserverè¿™ä¸¤é¡¹ï¼Œä¿®æ”¹è¯¦è§[aplayeræ–‡æ¡£] ã€æ”¹ã€‘ aplayer: id: 2660651585 server: netease type: playlist fixed: true mini: false autoplay: false loop: all order: random preload: auto volume: 0.7 mutex: true # Valineè¯„è®ºé…ç½®ã€æ”¹ã€‘ valine: true v_appId: GyC3NzMvd0hT9Yyd2hYIC0MN-gzGzoHsz v_appKey: mgOpfzbkHYqU92CV4IDlAUHQ åˆ†ç±»é¡µå’Œæ ‡ç­¾é¡µé…ç½®åˆ†ç±»é¡µ æ ‡ç­¾é¡µ é…ç½®é¡¹åœ¨\\themes\\Sakura\\languages\\zh-cn.ymlé‡Œã€‚æ–°å¢ä¸€ä¸ªåˆ†ç±»æˆ–æ ‡ç­¾æœ€å¥½åŠ ä¸‹å“¦ï¼Œå½“ç„¶å«Œéº»çƒ¦å¯ä»¥ç›´æ¥ä½¿ç”¨ä¸€å¼ é»˜è®¤å›¾ç‰‡ï¼ˆå¯ä»¥æ”¹ä¸»é¢˜æˆ–è€…ç›´æ¥æŠŠ404å›¾ç‰‡æ›¿æ¢ä¸‹ï¼Œå¾æ±‚ä¸‹æ„è§è¦ä¸è¦ç»™è¿™ä¸ªåœ¨é…ç½®æ–‡ä»¶ä¸­åŠ ä¸ªå¼€å…³ï¼Œå¯ä»¥issueæˆ–ç¾¤é‡Œæå‡ºæ¥ï¼‰ï¼Œç°åœ¨æ˜¯æ²¡è®¾ç½®çš„è¯ä¼šä½¿ç”¨é‚£ç§å€’ç«‹å°ç‹—404å“¦ã€‚ #category # æŒ‰åˆ†ç±»ååˆ›å»º æŠ€æœ¯: #ä¸­æ–‡æ ‡é¢˜ zh: é‡ç”ŸæŠ€æœ¯åä¼š # è‹±æ–‡æ ‡é¢˜ en: Geek â€“ Only for Love # å°é¢å›¾ç‰‡ img: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/coding.jpg ç”Ÿæ´»: zh: ç”Ÿæ´» en: live img: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/writing.jpg #tag # æ ‡ç­¾åå³æ˜¯æ ‡é¢˜ æ‚¦è¯»: # å°é¢å›¾ç‰‡ img: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/reading.jpg å•é¡µé¢å°é¢é…ç½®å¦‚ç•™è¨€æ¿é¡µé¢é¡µé¢ï¼Œä½äºsourceä¸‹çš„commentä¸‹ï¼Œæ‰“å¼€index.mdå¦‚ä¸‹ï¼š --- title: comment date: 2018-12-20 23:13:48 keywords: ç•™è¨€æ¿ description: comments: true # åœ¨è¿™é‡Œé…ç½®å•é¡µé¢å¤´éƒ¨å›¾ç‰‡ï¼Œè‡ªå®šä¹‰æ›¿æ¢å“¦~ photos: https://cdn.jsdelivr.net/gh/honjun/cdn@1.4/img/banner/comment.jpg --- å•é¡µé¢é…ç½®ç•ªç»„è®¡åˆ’é¡µ ï¼ˆè¯·ç›´æ¥åœ¨ä¸‹è½½åçš„æ–‡ä»¶ä¸­æ”¹ï¼Œä¸‹é¢çš„æ·»åŠ äº†æ³¨é‡Šå¯èƒ½ä¼šæœ‰äº›å½±å“ï¼‰ --- layout: bangumi title: bangumi comments: false date: 2019-02-10 21:32:48 keywords: description: bangumis: # ç•ªç»„å›¾ç‰‡ - img: https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg # ç•ªç»„å title: æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ± # è¿½ç•ªçŠ¶æ€ ï¼ˆè¿½ç•ªing/å·²è¿½å®Œï¼‰ status: å·²è¿½å®Œ # è¿½ç•ªè¿›åº¦ progress: 100 # ç•ªå‰§æ—¥æ–‡åç§° jp: ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã† # æ”¾é€æ—¶é—´ time: æ”¾é€æ—¶é—´: 2018-02-24 SUN. # ç•ªå‰§ä»‹ç» desc: ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚ - img: https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg title: æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ± status: å·²è¿½å®Œ progress: 50 jp: ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã† time: æ”¾é€æ—¶é—´: 2018-02-24 SUN. desc: ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚ --- å‹é“¾é¡µ ï¼ˆè¯·ç›´æ¥åœ¨ä¸‹è½½åçš„æ–‡ä»¶ä¸­æ”¹ï¼Œä¸‹é¢çš„æ·»åŠ äº†æ³¨é‡Šå¯èƒ½ä¼šæœ‰äº›å½±å“ï¼‰ --- layout: links title: links # åˆ›å»ºæ—¥æœŸï¼Œå¯ä»¥æ”¹ä¸‹ date: 2018-12-19 23:11:06 # å›¾ç‰‡ä¸Šçš„æ ‡é¢˜ï¼Œè‡ªå®šä¹‰ä¿®æ”¹ keywords: å‹äººå¸ description: # true/false å¼€å¯/å…³é—­è¯„è®º comments: true # é¡µé¢å¤´éƒ¨å›¾ç‰‡ï¼Œè‡ªå®šä¹‰ä¿®æ”¹ photos: https://cdn.jsdelivr.net/gh/honjun/cdn@1.4/img/banner/links.jpg # å‹é“¾é…ç½® links: # ç±»å‹åˆ†ç»„ - group: ä¸ªäººé¡¹ç›® # ç±»å‹ç®€ä»‹ desc: å……åˆ†è¯´æ˜è¿™å®¶ä¼™æ˜¯æ¡å’¸é±¼ &lt; (ï¿£ï¸¶ï¿£)&gt; items: # å‹é“¾é“¾æ¥ - url: https://shino.cc/fgvf # å‹é“¾å¤´åƒ img: https://cloud.moezx.cc/Picture/svg/landscape/fields.svg # å‹é“¾ç«™ç‚¹å name: Google # å‹é“¾ä»‹ç» ä¸‹é¢é›·åŒ desc: Google é•œåƒ - url: https://shino.cc/fgvf img: https://cloud.moezx.cc/Picture/svg/landscape/fields.svg name: Google desc: Google é•œåƒ # ç±»å‹åˆ†ç»„... - group: å°ä¼™ä¼´ä»¬ desc: æ¬¢è¿äº¤æ¢å‹é“¾ ê‰‚(ËŠá—œË‹) items: - url: https://shino.cc/fgvf img: https://cloud.moezx.cc/Picture/svg/landscape/fields.svg name: Google desc: Google é•œåƒ - url: https://shino.cc/fgvf img: https://cloud.moezx.cc/Picture/svg/landscape/fields.svg name: Google desc: Google é•œåƒ --- å†™æ–‡ç« é…ç½®ä¸»é¢˜é›†æˆäº†ä¸ªäººæ’ä»¶hexo-tag-biliå’Œhexo-tag-fancybox_imgã€‚å…¶ä¸­hexo-tag-biliç”¨æ¥åœ¨æ–‡ç« æˆ–å•é¡µé¢ä¸­æ’å…¥Bç«™å¤–é“¾è§†é¢‘ï¼Œä½¿ç”¨è¯­æ³•å¦‚ä¸‹ï¼š {% bili video_id [page] %} è¯¦ç»†ä½¿ç”¨æ•™ç¨‹è¯¦è§hexo-tag-biliã€‚ hexo-tag-fancybox_imgç”¨æ¥åœ¨æ–‡ç« æˆ–å•é¡µé¢ä¸­å›¾ç‰‡ï¼Œä½¿ç”¨è¯­æ³•å¦‚ä¸‹ï¼š {% fb_img src [caption] %} è¯¦ç»†ä½¿ç”¨æ•™ç¨‹è¯¦è§hexo-tag-fancybox_img è¿˜æœ‰å•¥ï¼Œä¸€æ—¶æƒ³ä¸èµ·æ¥â€¦â€¦To be continuedâ€¦","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"web","slug":"web","permalink":"/tags/web/"},{"name":"æ‚¦è¯»","slug":"æ‚¦è¯»","permalink":"/tags/æ‚¦è¯»/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]}]}